{"title": "Enhancing Dialogue Generation in Werewolf Game Through\nSituation Analysis and Persuasion Strategies", "authors": ["Zhiyang Qi", "Michimasa Inaba"], "abstract": "Recent advancements in natural language pro-\ncessing, particularly with large language mod-\nels (LLMs) like GPT-4, have significantly en-\nhanced dialogue systems, enabling them to gen-\nerate more natural and fluent conversations.\nDespite these improvements, challenges per-\nsist, such as managing continuous dialogues,\nmemory retention, and minimizing hallucina-\ntions. The AIWolfDial2024 addresses these\nchallenges by employing the Werewolf Game,\nan incomplete information game, to test the\ncapabilities of LLMs in complex interactive\nenvironments. This paper introduces a LLM-\nbased Werewolf Game AI, where each role is\nsupported by situation analysis to aid response\ngeneration. Additionally, for the werewolf role,\nvarious persuasion strategies, including logi-\ncal appeal, credibility appeal, and emotional\nappeal, are employed to effectively persuade\nother players to align with its actions.", "sections": [{"title": "Introduction", "content": "In recent years, the rapid development of natural\nlanguage processing (NLP) technology has brought\ndialogue systems, one of its core applications, into\nthe spotlight of both academia and industry. The advent of large language models\n(LLMs) like GPT-4 (OpenAI, 2023) has signifi-\ncantly improved the ability of dialogue systems to\nproduce natural and fluent conversations. However,\ndespite their impressive text generation capabilities,\nthese models still encounter significant challenges.\nFor instance, they struggle with managing contin-\nuous dialogue, retaining memory, and minimizing\nthe generation of hallucinations (irrelevant or in-\ncorrect information). These\nissues limit the effectiveness of dialogue systems\nin more complex interactive scenarios.\nIn this context, the \"AIWolfDial\" international\ncompetition has emerged. This\ncompetition aims to explore and enhance the per-\nformance of LLMs in complex interactive envi-\nronments by simulating the Werewolf Game, an\nincomplete information game. In such games, par-\nticipants lack access to all critical information and\nmust rely on reasoning, strategy, and communica-\ntion to advance. The \"AIWolfDial\" places high\ndemands on dialogue systems, requiring them to\nperform logical inference, persuasion, and even\ndeception of other players, while also managing\nnon-task-oriented dialogues in role-playing scenar-\nios. This competition not only tests the systems'\nlanguage generation capabilities but also evaluates\ntheir adaptability to complex interactions.\nThis paper introduces the system architecture\nof our Al for various roles in the Werewolf Game,\ndeveloped by the sUper_IL team, where each role\naids dialogue generation through game situation\nanalysis. We have specifically enhanced the persua-\nsion skills for the werewolf role, recognizing that\npersuasive techniques are crucial in the game, par-\nticularly for the werewolf, as it must influence other\nplayers' voting behavior to align with its own. In\nour system, the werewolf role achieves persuasion\nthrough multiple rounds of persuasive dialogue.\nSpecifically, we first employ a persuasion strategy\nbased on logic and facts, presenting clear and com-\npelling arguments to convince other players. Next,\nwe utilize a trust-based persuasion strategy to build\ntrust and credibility with other players, thereby en-\nhancing the effectiveness of persuasion. Finally,\nwe employ an emotion-driven persuasion strategy,\nusing emotionally resonant language to deepen in-\nfluence. This multi-dimensional persuasion strat-\negy makes the werewolf role more convincing in\nthe game.\nThe contributions of this study are outlined be-\nlow.\n\u2022 We introduce a LLM-based Werewolf Game\nAI, providing a robust baseline for the AIWolf-"}, {"title": "Related Work", "content": "2.1 Werewolf Game AI\nSince the rise of AI research, the focus on Al in\ngaming has garnered significant attention, partic-\nularly with breakthrough projects like AlphaGo\n. Among these studies, incom-\nplete information games, such as the Werewolf\nGame and poker, stand out due to their unique chal-\nlenges. The Were-\nwolf Game requires participants to make inferences\nand judgments based on limited information pro-\nvided by other players, which increases the game's\ncomplexity and strategic depth. As a result, AI\nresearch on the Werewolf Game has flourished.\n proposed a multi-\nperspective psychological model to simulate hu-\nman player behavior. By constructing a \"self\nmodel\" and an \"others model,\" researchers can bet-\nter infer and evaluate other players' intentions and\nperspectives, thereby improving AI agents' perfor-\nmance in the game. In terms of achieving more nat-\nural language generation, Nakamura et al. (2017)\nemployed Werewolf Game BBS logs to paraphrase\nand interpret the AIWolf protocol, making AI agent\ndialogues more closely resemble natural human\nlanguage. through the \"AI-\nWolfDial2023\" competition, provided valuable in-\nsights: while AI agents based on LLMs have made\nsignificant progress in natural dialogue and long-\ncontext processing, improvements are still needed\nin logical reasoning and role-playing, especially\nin simulating deception and complex strategies.\n fine-tuned Transformer mod-\nels to build a value network capable of predicting\ngame win rates, guiding the next actions of the\nagents. proposed a new framework\ncombining LLMs with external reasoning modules\nto enhance the reasoning abilities of LLM-based\nagents. Additionally, introduced\na framework that does not require parameter fine-\ntuning; it uses frozen LLM models to play the game\nby reflecting on past dialogues and experiences,\ndemonstrating the significant potential of LLMs in communicative games. Our study, although also\nbased on LLMs, differs from previous studies by\nenhancing dialogue generation through situational\nreasoning and strengthening persuasive skills for\nthe Werewolf role, a crucial skill in the game.\n2.2 Persuasive Dialogue\nPersuasive dialogue has long been a focal point for\ndialogue researchers, revealing significant poten-\ntial and complexity across various applications. constructed a persuasive dialogue corpus by col-\nlecting and analyzing conversations between pro-\nfessional salespeople and customers, finding that\ninformation exchange was the most common dia-\nlogue behavior, with about 30% of persuader utter-\nances framed as arguments. designed an online donation persuasion task, collect-\ning and annotating a large dataset of dialogues, and\nanalyzed the relationship between individual back-\ngrounds (e.g., personality, moral values) and dona-\ntion willingness. In the e-commerce sector, Adaji\net al. (2021) conducted a game-based study com-\nparing the responses of high and low-engagement\nshoppers to persuasive strategies, revealing that en-\ngagement levels significantly influenced responses,\nmaking it a potential factor in adjusting persuasive\nstrategies. In education, Orji et al. (2019) investi-\ngated the effects of social comparison and rewards\non competitive behavior, finding both to be effec-\ntive strategies for educational persuasion systems.\nAdditionally, Herder and Herden (2023) studied\npersuasive voice assistants for lifestyle advice, and\nFatahi et al. (2023) examined persuasive dialogue\nin music recommendations, both highlighting the\nimpact of individual differences in personality on\nthe effectiveness of persuasion.\nRecently, LLMs have demonstrated impressive\ncapabilities in text generation. conducted\nan in-depth study on LLMs' sensitiv-\nity to persuasive dialogue, generating misinforma-\ntion on factually answerable questions and employ-\ning various persuasive strategies in multi-turn dia-\nlogues. By tracking belief changes in LLMs during\npersuasive dialogues, the study found that LLMs'\ncorrect beliefs about factual knowledge could be\neasily manipulated by different persuasive strate-\ngies. This study references the persuasive strategies\nof Xu et al. (2023a), but differs by conducting per-\nsuasion in multi-party dialogues and aiming to base\npersuasion as much as possible on factual informa-\ntion through situational analysis."}, {"title": "Werewolf Game Settings", "content": "This study is set in the context of the Werewolf\nGame, as specified in AIWolfDial2024. Each game\ninvolves five players: one seer, one werewolf, one\npossessed, and two villagers. The seer and villagers\ncomprise the human team, while the possessed and\nwerewolf make up the werewolf team. Players are\nunaware of each other's roles. The game initiates\non Day 0 and continues until either the human team\nor the werewolf team is the sole survivor, with the\ngame lasting no more than two days.\nDay 0 involves only initial greetings among play-\ners. The seer's role activates on the night of Day\n0, allowing them to inspect one player's identity\neach night. All players, except for the werewolf,\nare identified as human. Although the possessed\nbelongs to the werewolf team, their identity will ap-\npear as \"human\" when inspected by the seer. From\nDay 1 onwards, players engage in multiple dia-\nlogue rounds, with the order of speaking random-\nized in each round. After the daytime discussion\nphase ends, night falls. During the night, players\nfirst collectively vote to exile one player, followed\nby the werewolf attacking, and then the seer con-\nducting their divination. If the werewolf is voted\nout on the first night, the game concludes immedi-\nately."}, {"title": "The Proposed System Architecture", "content": "This section details the specific system architecture\nof our LLM-based Werewolf Game AI, with the\nkey components depicted in Figure 1. The primary\nparts include the situation analysis module, the\nresponse generation module, the persuasive re-\nsponse generation module for the werewolf, and\nthe voting module (not shown in the Figure 1).\n4.1 Situation Analysis Module\nDue to the interactive and incomplete information\nnature of the Werewolf Game, players need to con-\ntinuously exchange information to update their un-\nderstanding of the game's dynamics. This makes\nthe information constantly change. To navigate this\ncomplexity, we introduced a Situation Analysis\nmodule to more effectively guide dialogue genera-\ntion, improving the timeliness and relevance of re-\nsponses. Specifically, this module is configured to\ntake the Task Description, Werewolf Game Rules,\nand Dialogue History as inputs, processing these\nthrough a LLM. This approach allows the LLM to\nintegrate the information and perform a comprehen-\nsive analysis of the current game situation. To fur-\nther enhance the accuracy and depth of the analysis,\nwe employed Zero-shot Chain-of-Thought Prompt-\ning. The specific prompt is\nshown in Figure 2, and an example of the generated situation analysis is demonstrated in Figure 3. For\nthe seer role, we incorporated \"Divination Result\"\nin the prompt, such as \"On the night of Day 0, I\ndivined Agent[01], and the result was human.\" For\nthe possessed role, in an effort to mislead villagers\nand protect the werewolf, we included similar \"Div-\nination Result\" information in the prompt, but with\nthe Agent ID and result randomly generated.\n4.2 Response Generation Module\nWhen developing an AI for the Werewolf Game\nusing LLMs, a primary challenge lies in ensuring\nthat the generated responses are both contextually\ncoherent and capable of logical analysis capabili-\nties to facilitate smooth gameplay. To address this,\nwe devised a method that leverages the task descrip-\ntion, the rules of the Werewolf Game, the current\ngame's dialogue history, and the situation analysis.\nThis combination provides the LLM with the com-\nprehensive background information necessary to\nproduce high-quality responses.\nAs illustrated in Figure 3, the response gener-\nation process begins with inputting the situation\nanalysis generated in the previous stage into the\nLLM. This step is crucial, as it furnishes the LLM\nwith a deep understanding of the current game con-\ntext, including potential strategies and behavioral\nmotivations of the players. Additionally, as de-\npicted in Figure 1, the task description, game rules,\nand dialogue history are also utilized at this stage\nto ensure the responses are both semantically co-\nherent and logically sound.\nTo further optimize the relevance and effective-\nness of the responses, we designed customized\nprompts for specific roles. For instance, Figure 4\nshows the prompt used for the seer role. In this\ncase, the seer role needs to utilize nighttime divina-\ntion results to shape its daytime dialogue strategy.\nAccordingly, we meticulously crafted the prompt to\nincorporate relevant divination results, enabling the\nseer to effectively utilize its unique role information\nduring interactions with other players. Moreover,\nin generating responses for the villager role, we ex-\nclude the \"Divination Result on Night 0\" part from\nthe prompt, as villagers lack the special ability to\naccess this information. By employing a strategy\nthat integrates multiple information sources and\ncustomized prompts, our system is able to generate\nresponses that are contextually coherent and logi-\ncally rigorous, thereby adapting effectively to the\ncomplex and dynamic environment of the Were-\nwolf Game.\n4.3 Persuasive Response Generation\nDue to the inherent incomplete information charac-\nteristic of the Werewolf Game, players must rely\non interactions with others to gather intelligence.\nThis not only requires players to analyze the col-\nlected information but also to persuade those with\ndiffering opinions to align their thoughts and vot-"}, {"title": "Persuasive Response Generation", "content": "ing behaviors with their own. Given this, a sig-\nnificant challenge for an AI playing the werewolf\nrole lies in not only hiding its true identity but also\neffectively influencing and controlling the game's\nprogress.\nIn this study, we have particularly enhanced the\npersuasive skills of the werewolf role, as their suc-\ncess largely depends on effectively masquerading\nas villagers and strategically influencing other play-\ners through dialogue. Drawing from a compre-\nhensive review of prior studies , we identified three core persuasive\nstrategies:\n\u2022 Logical Appeal: Persuasion through logic,\nfacts, and evidence, aiming to convince other\nplayers with rational and clear arguments.\n\u2022 Credibility Appeal: Building the speaker's\ncredibility and authority to increase the influ-\nence of their speech, encouraging others to\ntrust and support their views.\n\u2022 Emotional Appeal: Influencing decisions by\neliciting emotions such as fear, sympathy, or\nanger.\nTo effectively implement these strategies, we\ndesigned three specific \"persuasive response exam-\nples\" for each strategy, with examples of logical\nappeal depicted in the prompt in Figure 5. The\nresponse examples for the other two strategies are\ndetailed in Table 1.\nVoting Target Selection. To select a voting tar-\nget and persuade other players to vote for them, we included the instruction \"Finally, choose the player\nthat threatens you the most and should vote for,\nand provide their number\" in the task description\nwithin the prompt shown in Figure 2. This addition\nenables the LLM to thoroughly analyze the current\ngame situation and identify a critical voting target.\nDuring actual gameplay, our system does not pre-\ndict the most likely dialogue strategy but instead\nadheres to a predetermined sequence of these three\nstrategies. Specifically, beginning in turn 3, we use\nthe aforementioned prompt to analyze the current\ngame situation and identify a critical voting target.\nFrom turns 3 to 5, persuasive responses are gener-\nated for the chosen target following the sequence\nof strategies to attract the votes of three other play-\ners. This approach, combining situational analy-\nsis with various persuasion strategies, significantly\nenhances the survival and competitiveness of the\nwerewolf role.\n4.4 Voting Module\nIn the Werewolf Game, the nighttime voting phase\nfollowing the daytime discussion is pivotal, espe-\ncially for non-werewolf roles, as making the cor-"}, {"title": "Voting Module", "content": "rect voting decision can significantly influence the game's outcome. To assist in this decision-making,\nwe employ the prompt shown in Figure 6 to guide\nthe LLM in selecting a player to vote for from\nthe current survivors. We also utilize Zero-shot\nChain-of-Thought Prompting, which facilitates a\nstep-by-step logical reasoning process, enabling the\nmodel to more deeply analyze the game situation\nand player behaviors.\nFurthermore, we emphasize having the LLM\nconsider the content of its statements during the\ndaytime discussion phase to maintain consistency\nbetween the same agent's speech and voting be-\nhavior. For the werewolf role, we use the player\nchosen during the speech phase (e.g., Agent[01] as\nshown on the right side of Figure 1) as target for\nvoting in the nighttime phase. During the attack\nphase, we select the same target, but if that target\nhas already been voted out during the voting phase,\nwe will randomly choose another surviving player\nto attack.\n5 Case Study of Self-Play\nFigure 7 displays the complete game log from a\nself-play session using the system developed in this\nstudy, which incorporated the gpt-4o-2024-05-13\nmodel during the situation analysis, response gen-\neration, and voting phases. Analysis of the game\nlog revealed that during the talk phase on Day 1, all\nagents adeptly recognized the dynamic changes in the game situation through situation analysis and\nresponded appropriately. The persuasive language\nemployed by the werewolf role proved highly effec-\ntive; by the end of the first night, all players except\nAgent[01] had aligned their voting actions with the\nwerewolf role. This outcome underscores the effec-\ntiveness of both the situation analysis module and\nthe persuasive responses of the werewolf role.\nHowever, on Day 2, the werewolf failed to per-\nsuade the remaining players, indicating that the\nLLM demonstrated sufficient robustness to accu-\nrately recognize the current situation without being\nswayed by persuasive strategies. Despite an ad-\nequate number of dialogue rounds being set, we\nobserved that the discussions on Day 1 were not\nas in-depth as expected, with agents repeating a lot"}, {"title": "Win Rate Against Other Teams", "content": "In the formal competition of \"AIWolfDial,\" AI\nagents from different teams were assigned specific\nroles to participate in the Werewolf Game. The\ncompetition featured two tracks: a Japanese track\u00b2\nand an English track\u00b3, with the game logs publicly\navailable. Table 2 presents the results of both the\nJapanese and English tracks. As shown in the re-\nsults, our team, sUper_IL, achieved the highest\nwin rate when playing the werewolf role in both\nlanguages. This outcome confirms that our AI can\nsuccessfully persuade other participants to align\nwith its voting behavior, thereby increasing its sur-\nvival rate as the werewolf. Furthermore, we also\nsecured first place in overall win rate, demonstrat-\ning the effectiveness of our context-based dialogue\ngeneration method in games with incomplete infor-\nmation."}, {"title": "Conclusion", "content": "We present a LLM-based Werewolf Game AI, de-\nveloped by the sUper_IL team, which participated\nin AIWolfDial2024. Our proposed system archi-\ntecture utilizes situation analysis to guide response\ngeneration and specifically enhances persuasive\ncapabilities of the werewolf role through various\npersuasive strategies. The effectiveness of our ar-\nchitecture was validated through the analysis of\ngame logs and formal competition win rates."}]}