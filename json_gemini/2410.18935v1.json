{"title": "Schema-Guided Culture-Aware Complex Event Simulation\nwith Multi-Agent Role-Play", "authors": ["Sha Li", "Revanth Gangi Reddy", "Khanh Duy Nguyen", "Qingyun Wang", "May Fung", "Chi Han", "Jiawei Han", "Kartik Natarajan", "Clare R. Voss", "Heng Ji"], "abstract": "Complex news events, such as natural disas-\nters and socio-political conflicts, require swift\nresponses from the government and society. Re-\nlying on historical events to project the future\nis insufficient as such events are sparse and do\nnot cover all possible conditions and nuanced\nsituations. Simulation of these complex events\ncan help better prepare and reduce the nega-\ntive impact. We develop a controllable com-\nplex news event simulator\u00b9 guided by both the\nevent schema representing domain knowledge\nabout the scenario and user-provided assump-\ntions representing case-specific conditions. As\nevent dynamics depend on the fine-grained so-\ncial and cultural context, we further introduce\na geo-diverse commonsense and cultural norm-\naware knowledge enhancement component. To\nenhance the coherence of the simulation, apart\nfrom the global timeline of events, we take an\nagent-based approach to simulate the individual\ncharacter states, plans, and actions. By incor-\nporating the schema and cultural norms, our\ngenerated simulations achieve much higher co-\nherence and appropriateness and are received\nfavorably by participants from a humanitarian\nassistance organization.", "sections": [{"title": "1 Introduction", "content": "History repeats itself, sometimes in a bad way, un-\nderscoring the importance of recognizing patterns\nand taking proactive measures to mitigate or ideally\neliminate potential natural or man-made disasters.\nThe necessity of this approach is evident in the\ncontext of emerging crises such as the COVID-19\npandemic and the Ukraine Crisis. Addressing these\nsituations effectively demands a comprehensive,\ntime-sensitive understanding to inform appropri-\nate decision-making and prompt responses (Reddy\net al., 2024). These pressing situations highlight\nthe need for advanced tools capable of scenario sim-\nulation to provide predictive insights and facilitate\npreemptive planning, thereby enhancing prepared-\nness and response strategies.\nIn developing such a simulator, we define sev-\neral desiderata: (1) the simulator should be con-\ntrollable, allowing the user to manage and set the\nconditions under which the simulation will occur;\n(2) it must be knowledgeable, meaning it should\nadhere to and incorporate domain-specific knowl-\nedge relevant to the scenario being simulated; (3)\nthe simulator should be realistic, ensuring that each\nevent within the simulation is believable and aligns\nwith commonsense principles; (4) the generated\nevents must be coherent, avoiding any internal\nconflicts or contradictions; (5) the simulator should\nexhibit sociocultural awareness, being sensitive\nto and accurately reflecting diverse geographical\ncontexts and societal norms.\nIn this context, we introduce MIRIAM, a novel\nnews event simulator designed to function as an\nintelligent prophetess. By leveraging \u201cWhat-if\u201d\nconditions and assumptions provided by domain\nexperts regarding disaster scenarios, MIRIAM gen-\nerates a complex event simulation that describes fu-\nture events with character-centric narratives, while\ncatering to the geo-cultural diversity inherent in the\nscenario assumptions. Effectively, our event simu-\nlator system that has the following characteristics:\n\u2022 User-defined assumptions that can steer the\ndirection of the simulation.\n\u2022 Event schemas as input that can be used to\nconstrain the global structure and inject do-\nmain knowledge.\n\u2022 Entity-level agent-based simulation which\npromotes coherence over long simulations.\n\u2022 Norm-aware knowledge enhancement for\nmore culturally appropriate simulations."}, {"title": "2 Related Work", "content": "Language Model Agents: Language models are\nadept at \"roleplaying\": given the description of\na character, the language model can produce re-\nsponses in character. Notably, this ability can be\nused to enable multi-agent collaboration on tasks\nsuch as solving logical puzzles (Wang et al., 2024c),\nwriting complex software (Hong et al., 2024; Wang\net al., 2024b), reviewing papers (Zeng et al., 2024),\nproposing hypothesis (Qi et al., 2023; Wang et al.,\n2024a), machine translation (Bi et al., 2019), ques-\ntion answering (Puerto et al., 2023), causality expla-\nnation generation (He et al., 2023), and radiology\nreport summarization (Karn et al., 2022). Another\nline of work is using LMs to create social simu-\nlations (Suo et al., 2021; Park et al., 2023; Sun\net al., 2023), either to improve LM alignment (Liu\net al., 2024) or to create synthetic user data for\nuser studies (Aher et al., 2023). However, previous\npapers concentrate on the feasibility of LM-based\nsocial simulation and their alignment with social\nbehaviors. In comparison, we explore using LM\nagents to assist scenario simulation and story gen-\neration. Moreover, unlike existing approaches (Qiu\net al., 2022; Miceli Barone et al., 2023) relying on\ndialogue to simulate social interactions, our frame-\nwork generates a comprehensive scenario story that\nencompasses interactions among various agents,\nthe environment, and the scenario itself. Yang et al.\n(2023) conducts a multi-agent simulation to explore\nresidents' consumption behavior under various gov-\nernment regulations. Our work is also the first to\nleverage scenario-specific event schemas induced\nfrom historical events and culture-specific norms.\nNeural Story Generation: Due to the complex\nnature of story generation, controllable story gen-\neration has been proposed to address the causality\nof story events. Existing story generation mainly\nfocuses on two aspects (Goldfarb-Tarrant et al.,\n2020): story planning and character modeling.\nPrevious improvements for story planning can be\ndivided into several categories: keywords plan-\nning (Xu et al., 2020; Kong et al., 2021), coarse-to-\nfine planning (Fan et al., 2019; Yao et al., 2019),\ncommonsense reasoner (Wang et al., 2022; Peng\net al., 2022a,b), event graphs (Zhai et al., 2020;\nChen et al., 2021; Lu et al., 2023), and interper-\nsonal relationships (Vijjini et al., 2022). In contrast,\nwe generate stories in a two-level way, conditioned\non event schemas, user-provided assumptions, and\ncommonsense norms. Our work also relates to\ncharacter modeling in story generation (Liu et al.,\n2020; Zhang et al., 2022). However, instead of\ngenerating character descriptions based on existing\nstories (Brahman et al., 2021), we generate charac-\nter profiles dynamically based on existing events\nand event schemas. Furthermore, we assign each\ncharacter as a language agent to simulate his/her\ninteractions with the scenario."}, {"title": "3 MIRIAM: Complex Event Simulator", "content": "3.1 Overview\nOur event simulator takes as input a set of assump-\ntions and an event schema. Assumptions, provided\nas free text, can be scenario-specific, such as the\ninfection rate for disease outbreaks, or scenario-\nagnostic, such as the (source) location of the event.\nAn event schema is a graph representation of the\ntypical events that occur in a scenario. The nodes\nare atomic events and edges may include temporal\nedges, hierarchical edges, and logical gates (AND,\nOR, XOR). The event schema typically encodes\nprior knowledge about the event scenario (restrict-\ning the simulation to parts relevant to the use case).\nFor the output, the system provides the gener-\nated simulation in the form of an event log and an\noverview document. The event log is a list of event\nrecords and profiles of the characters involved in\nthe events. When the event can be grounded to the\nschema, it has an event type and arguments accord-\ning to the event ontology. The overview document\nis derived from the event log and is a more concise\nfree-text version of the simulation.\n3.2 System Design: Bi-level Simulation\nOur simulator contains two levels: the global level\nand the character level. We will first introduce\nthe two different types of controllers before pro-\nviding more details (in \u00a73.3 and \u00a73.4) for the life-\ncycle of how an event is generated. The global\nlevel is defined by the Global Controller\nobject, which takes the event schema and user as-\nsumptions as input. We leverage the open-domain\nschema library induced from our state-of-the-art\nevent schema induction techniques (Li et al., 2023)"}, {"title": "3.3 Simulating Events", "content": "Events go through the cycle of (1) (optionally)\nevent assignment, (2) event planning, (3) event exe-\ncution, and (4) event reaction. There are two ways\nof initiating events, either proposed by the schema\nor by characters. Events proposed by the schema\nmight undergo the optional event assignment stage,\nwhere the Schema Event is assigned to an ex-\nisting character or creates a new character. This\ndecision is presented to the language model as a\nmultiple-choice question, given the context of the\nprevious simulated events. Note that some events\ndo not involve any character (such as the mutation"}, {"title": "Cultural Enhancement", "content": "Additionally, event sim-\nulation should be dependent on the geodiverse so-\nciocultural situation in order to cater to globally\ninterconnected audience. For example, a simula-\ntion of an earthquake scenario in Western commu-\nnities valuing individualism may showcase parents\nprioritizing their children's safety over their daily\nprofessional activities. In contrast, a simulation of\nan earthquake scenario in China, reflecting com-\nmunities that generally value collectivism more\ngreatly, may showcase parents first committing to\nsocietal rescue efforts before checking on the safety\nof their own children. To address this, Miriam in-\ntegrates sociocultural knowledge across the event\nsimulation pipeline to enrich the realisticness and\ninsightfulness of the event story generation, as well\nas to ensure that the simulated responses are cultur-\nally appropriate.\n\u2022 Character Profile Initialization: When sim-\nulating event scenarios, the fine-grained back-\nground information (e.g., age, gender, occupa-\ntion, marriage/family status, economic status, ed-\nucation level, ethnicity, religious beliefs, etc.)\nof each simulated individual really matters, but\nan LLM may often miss important social profile\ndimensions while generating the initial charac-\nter descriptions. We leverage the social theory\ngrounded formulation in Ziems et al. (2023) and\nask LLM to enhance the initial character pro-\nfile descriptions for any important missing social\nprofile dimensions.\n\u2022 Per-Character Event Description: To better tai-\nlor event descriptions towards the cultural norms\nof a particular society being simulated, we lever-\nage the concept of norm discovery on-the-fly\n(Fung et al., 2023). Specifically, we discover\nrelevant social norms through LLM self-retrieval\naugmented generation grounded on the concept\nof internal knowledge elicitation, and further sup-\nplement the norms with the set of pre-existing\nnorms from Fung et al. (2024), which covers mas-\nsively multi-cultural norm for 1000+ sub-country\nregions and 2000+ ethnolinguistic groups (dis-\ncovered through web documents via ShareGPT),\nto dynamically construct and enrich the NormKB\nrelevant for the scenario context. Then, we rank\nthe social norms by relevance and insightful to\nthe situation context, and condition on these so-"}, {"title": "3.4 Simulating Agent Behavior", "content": "We can also inspect our simulation on a character\nlevel. Each character in the system is defined by\na name, age, profession, backstory, and plotline.\nDifferent from prior work, the characters in our\nsystem are created dynamically by the global con-\ntroller. The attributes of the character are generated\nupon creation based on the global assumptions and\nthe event that the character participates in.\nAt the beginning of each time step of the simu-\nlation, every active character(agent) will be polled\nfor their upcoming planned events. Each character\nwill keep track of the events that he/she has been\ninvolved in. These memories will be part of the\ninput when the agent makes up the plan.\nIn particular, we introduce a self-critique loop\nto the planning stage. The theory-of-mind inspires\nthis self-critique loop: the model is required to in-\nfer what the agent will do so that the plot is fulfilled\n(while the agent does not know about the plot). To\nmodel this second-order relationship, we first ask\nthe model to role-play as the character and gener-\nate a draft plan based on the character profile and\ncharacter history. Then the model is instructed to\nbehave as a critic and check if the actions agree\nwith the plot. The critic will give detailed feed-\nback on which actions should be kept, removed, or\nrevised, along with the reasoning for adjustments\n(\"you are feeling unwell today so you should not\ngo out\"). In our system, this self-critique will stop\nwhen the critic does not have any suggestions or\nwhen we reach a maximum of 3 rounds.\nSince the efficiency of the simulation is heavily\ninfluenced by the number of active agents, we set a\nthreshold for the maximum number of characters\nactive at each time step. If the current number\nof characters exceeds that threshold, we retire the\nleast recently used character."}, {"title": "4 Experiments", "content": "Our experiments aim to investigate the impact of\nvarious components integrated into our system,\nalongside assessing the overall utility of the tool.\nFirst, \u00a74.1 outlines the automatic evaluations to de-\ntermine the benefit of leveraging the event schemas\nand cultural norms in simulation generation. Then,\n\u00a74.2 studies the perceived utility of our tool, based\non feedback from participants affiliated with a hu-\nmanitarian assistance organization. The GPT-40\nMINI model serves as the underlying LLM in the\nsimulation generation process.\n4.1 Automatic Evaluation\nTo demonstrate the benefit of incorporating the\nevent schemas and cultural norms into our system,\nTable 1 presents a comparative analysis of simula-\ntions generated by different variants of our system.\nOur approach, designated as Schema + Norms, is\nevaluated against (a) Schema Only, which does not\nutilize cultural norms, and (b) W/O Schema, which\nemploys the LLM directly to generate simulations\nwithout schema guidance. The evaluation criteria\ninclude a range of metrics: (i) coherence, assess-\ning the overall flow of the simulation, (ii) entail-\nment, determining whether the simulation aligns\nwith given assumptions, (iii) realism, evaluating the\nplausibility of the simulation in the given scenario,\nand (iv) cultural appropriateness. We employed\nGPT-40 for the automatic evaluation of simulation\nquality, with detailed prompts provided in Table 3\nin the Appendix. The evaluation covered 47 sim-\nulations generated for scenarios including 'Earth-\nquake,' 'Disease Outbreak' and 'Chemical Spill,'\nacross five distinct regions (cultures): the United\nStates, France, China, Peru, and Indonesia. The\nresults demonstrate that incorporating both cultural\nnorms and event schemas significantly enhances\nthe quality of the generated simulations across all\nmetrics, with notable improvements in cultural ap-\npropriateness and entailment with assumptions.\n4.2 Human Utility Evaluation\nWe conducted a human evaluation to assess the per-\nceived utility of the tool. The study involved five\nparticipants from a humanitarian assistance organi-\nzation who navigated the generated simulations us-\ning the interface depicted in Figure 4. Participants\nprovided qualitative feedback during the study and\ncompleted a post-study questionnaire for quantita-\ntive evaluation. The results, presented in Figure 5,"}, {"title": "5 Conclusion", "content": "We introduce MIRIAM, a controllable complex\nnews event simulator designed to improve prepa-\nration and response to events like natural disasters\nand socio-political conflicts. Using event schemas\nfor domain knowledge and incorporating user as-\nsumptions, Miriam offers global control over event\ndynamics. It enhances realism by integrating geo-\ndiverse commonsense and cultural norm awareness.\nThe system generates a coherent global timeline\nand employs a large language model to simulate the\nstates, plans, and actions of individual agents, en-\nabling detailed and realistic character-based stories.\nThis agent-based approach outperforms traditional\nschema-only methods, providing a valuable tool\nfor training, preparedness, and societal resilience."}]}