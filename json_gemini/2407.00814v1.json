{"title": "Privacy-Aware Spectrum Pricing and Power Control\nOptimization for LEO Satellite Internet-of-Things", "authors": ["Bowen Shen", "Kwok-Yan Lam", "Feng Li"], "abstract": "Abstract-Low earth orbit (LEO) satellite systems play an\nimportant role in next generation communication networks due to\ntheir ability to provide extensive global coverage with guaranteed\ncommunications in remote areas and isolated areas where base\nstations cannot be cost-efficiently deployed. With the pervasive\nadoption of LEO satellite systems, especially in the LEO Internet-\nof-Things (IoT) scenarios, their spectrum resource management\nrequirements have become more complex as a result of massive\nservice requests and high bandwidth demand from terrestrial\nterminals. For instance, when leasing the spectrum to terrestrial\nusers and controlling the uplink transmit power, satellites collect\nuser data for machine learning purposes, which usually are\nsensitive information such as location, budget and quality of\nservice (QoS) requirement. To facilitate model training in LEO\nIoT while preserving the privacy of data, blockchain-driven\nfederated learning (FL) is widely used by leveraging on a fully\ndecentralized architecture. In this paper, we propose a hybrid\nspectrum pricing and power control framework for LEO IoT by\ncombining blockchain technology and FL. We first design a local\ndeep reinforcement learning algorithm for LEO satellite systems\nto learn a revenue-maximizing pricing and power control scheme.\nThen the agents collaborate to form a FL system. We also propose\na reputation-based blockchain which is used in the global model\naggregation phase of FL. Based on the reputation mechanism, a\nnode is selected for each global training round to perform model\naggregation and block generation, which can further enhance\nthe decentralization of the network and guarantee the trust.\nSimulation tests are conducted to evaluate the performances\nof the proposed scheme. Our results show the efficiency of\nfinding the maximum revenue scheme for LEO satellite systems\nwhile preserving the privacy of each agent. Lastly, we also\ncompare several FL aggregation algorithms to better illustrate\nthe performances of the scheme.", "sections": [{"title": "I. INTRODUCTION", "content": "FOR many regions such as oceans and deserts, which\naccount for most of the earth's surface, it is not easy\nto deploy massive base stations (BSs) to support continuously\nupgrading wireless demands and massive Internet-of-Things\n(IoT) terminals [1], [2]. As the extension of terrestrial BSs,\nsatellite communications especially low earth orbit (LEO)\nsatellite communications have attracted many researchers' and\npractitioners' interest due to the advantage of highly global\ncoverage and guaranteed communications [3]. Many satellite\noperators such as Starlink, OneWeb, Amazon and Boeing have\nlaunched or are planning to launch LEO satellite networks to\ncover millions of potential terrestrial terminals [4]-[6]. The\nlow orbital altitude of the satellite makes the transmission\ndelay shorter and the path loss smaller compared to geo-\nstationary earth orbit (GEO) satellites, and the constellation\ncomposed of multiple satellites can achieve global coverage.\nBesides, cellular communication, multiple access, point beam,\nfrequency multiplexing and other technologies also provide the\ntechnical guarantee for LEO satellite communications.Sixth\ngeneration (6G) communications, which are built on the base\nof LEO satellite networks, will be driven by the surging\nartificial intelligence (AI), big data, and Internet of Everything\n(IoE) technologies. In this context, the mobile networks of\n6G and beyond are expected to not only enhance the key\nperformance indicators and quality of service (QoS) of 5G\ncontinuously but also introduce numerous novel technologies\nand use cases [7].\nWith the blooming terrestrial IoT applications in recent\nyears, existing wireless resources can not meet the require-\nments in many fields including vehicular communications,\nindustrial automation, sensor networks, and public safety [8]-\n[11]. As the demand for spectrum resources and the number\nof massive user access increases rapidly, how to manage\nspectrum resources efficiently has become a key challenge for\nLEO satellite communication networks [12]. Many techniques\nincluding dynamic spectrum access (DSA), non-orthogonal\nmultiple access (NOMA), cognitive radio (CR) and multiple\nspot beams have been proposed to alleviate the pressure on\nspectrum resource usage [13]-[16]. In most scenarios when\nusing DSA, deep learning is applied to train a model for\nresource allocation [17]. Hence, satellites need to guarantee\ncomputing power for the model training. In [18], the authors\ncombined the NOMA and orthogonal frequency division mul-\ntiplexing to improve spectrum efficiency. In the utilization\nof cognitive radio (CR), wireless communication systems\nadaptively adjust their transmitting parameters by sensing the\ncurrent communication environment. This adaptive approach\nenables efficient utilization of spectrum resources [16]. The\nmultiple spot beams technique can transfer a wide beam into\nmultiple beams to increase the coverage gain of a satellite\nantenna, wherein interference between beams will affect the\nperformance of the system [19].\nIn recent years, self-learning-based methods, especially\ndeep reinforcement learning (DRL) have become a focus in the\nfield of DSA and spectrum sensing [20]-[22]. Each user has\na model that is regarded as Agent that continually updates its\nparameters during training. The Agent interacts with the com-\nmunication environment to find the optimal scheme. In order to"}, {"title": "II. RELATED WORK", "content": "Many mathematical tools including Stackelberg game model\nhave been widely explored to optimize spectrum resource\nutilization in satellite networks [26]\u2013[28]. In [26], the authors\ndesigned a multi-leader multi-follower Stackelberg game to\nachieve spectrum pricing. Seller operators, who are regarded\nas leaders, determine the pricing strategies based on the buying\nstrategies of buyer operators who are regarded as followers.\nThe authors defined the seller operations' revenue function\nas the income by providing bandwidth to buyer operators\nminus the service cost and charge for the primary node. And\nthe buyer operations' revenue was expressed as an increasing\nfunction of the bought bandwidth. Then a Stackelberg game\nwas formulated based on the two functions. In [27], the\nauthor formulated the problem of bandwidth pricing and allo-\ncation by employing a Stackelberg game-theoretic approach\nto model the interactions between spectrum providers and\ncustomers. Subsequently, the study analyzed the Stackelberg\ngame equilibrium under two pricing strategies: uniform pricing\nand differential pricing. In the case of differential pricing,\nadjustments are made to individual customer prices based on\nvarious heterogeneous factors. In [28], game theory was used\nto model the wireless users' competition over shared spectrum.\nThe author assumed that users who adjust a transmission\npower level to maximize their own utilities are players. And\nthe utility of a player was evaluated based on the transmission\nrate.\nWith the increasing computing power of mobile devices,\nthe deployment of machine learning-based algorithms in satel-\nlite resource allocation attracts more attention [29], [30].\nSatya Chan at al. [29] proposed a low complexity power\nand frequency resource allocation method to minimize inter-\ncomponent interference while maximizing user throughput.\nThis work first used a pre-trained perception to classify the\ncondition of the traffic demand and then employed a projection\ntool to minimize the traffic demand reduction. Finally, a pre-\ntrained linear regression model was introduced to allocate\nbandwidths. The scheme has excellent performance while\nkeeping the low complexity of the algorithm. In [30], consid-\nering terrestrial users' limited battery capacity and each LEO\nsatellite's computation capability, the authors trained a deep\nneural network model to minimize the total execution delay\nof terrestrial users.\nIn most satellite resource allocation scenarios, the complete\ninformation and environment conditions are generally difficult\nto get due to the dynamic environments. Hence, DRL has been\nadopted to address optimization problems in IoT networks.\nIn [31], [32], the authors introduced the DRL methods in\nmultibeam satellite systems for dynamic resource allocation.\nAnd multi-agent DRL scheme was proposed in [32] to better\naddress the cooperative game problems. Recently, there have\nbeen some studies about federated DRL (FDRL) for further\ncollaborations between nodes in satellite IoT [33]\u2013[35]. In\n[33], the authors designed an adaptive FDRL scheme to find\nefficient task offloading and energy-saving policy considering\nthe scenario of space-air-ground integrated edge computing.\nConsidering the high communication costs and aggregation\nexecution time, an asynchronous FL framework combined\nwith a multi-agent asynchronous advantage actor-critic (A3C)-\nbased joint device selection algorithm was proposed in [34].\nThe scheme allows the users to update and aggregate the\nlocal model parameters asynchronously instead of waiting\nfor devices with low computation powers. Besides, due to\nthe A3C-based algorithm, the federated execution time and\nlearning accuracy loss are effectively minimized."}, {"title": "III. SYSTEM MODEL", "content": "A. Satellite Network Architecture\nThe spectrum pricing and sharing scheme in this paper is\nbased on the LEO satellite IoT whose architecture is illustrated\nin Fig 1. It is assumed that the satellite payload is equipped\nwith necessary modules such as multi-port amplifiers, flexible\ntraveling wave tube amplifiers, etc. The scenario considered\nis that IoT nodes of terrestrial users are connected to LEO\nsatellites through terrestrial cluster heads or BS. The terrestrial\nusers carry transceivers compatible with both cellular and\nsatellite data transmissions so that the cluster heads can\ncommunicate with the cluster members. LEO satellites share or\nlease their idle spectrum to terrestrial users directly or with the\nassistance of the GEO satellites to improve the utilization of\nthe spectrum and increase their revenues. Each satellite has a\nterrestrial server for data computing and machine learning. Be-\nsides, these terrestrial servers are responsible for participating\nin FL for model training collaboration and a reputation-based\nblockchain due to the privacy preservation concern. During\nthe process, based on the needs of the cluster members, the\ncluster head responds as a transaction agent to the spectrum\npricing and power control scheme given by the LEO satellite.\nIt is noted that seamless coverage of the terrestrial server by\nLEO satellite is significant to ensure timely transmission of\nmodel parameters. Inter-satellite links are utilized to establish\nconnections both within and between satellite constellations,\nenabling LEO satellites to relay data. Additionally, some of\nthese satellites are equipped with onboard processing and\nstorage capabilities, facilitating satellite-borne computing."}, {"title": "B. Interference Model", "content": "According to the satellite network architecture in this paper,\nthe multi-beam antenna technique is applied. In this case,\nthe Earth's surface is considered as a plane and the satellites\nproject the beam onto the Earth's surface [26]. Unlike the\npropagation characteristics of high-orbiting satellites, there are\nmore LEO satellites and more low earth orbits, thus LEO\nsatellites fly faster and cover a highly variable area. This makes\nthe situation where most of the LEO satellites' projection cells\nare not under the mode of orthographic projection even more\nprominent. Similar to the current existing work [36], this paper\nconsiders the effect of the angle between the position of the\nselected user and the central line of the corresponding beam\non the interference intensity. Thus, the angle \u03b1 describing the\ndeviation angle between user (M, n) and cell center o can be\nexpressed as\n\u03b1 = arccos(((d_s)^2 + (d_{Mn})^2 \u2013 2R^2(1 \u2212 cos(d_{un}/R)))\n\u00d7 (2dd_{Mn})^{-1})\nwhere ds denotes the distance between the satellite and cell\ncenter, dMn denotes the distance between satellite and user\n(M,n), R denotes the earth radius, dun denotes the distance\nbetween cell center o and user (M,n) as shown in Fig. 2.\nIt is assumed that the idle spectrum of an LEO satellite is\nfirst divided into multiple channels by orthogonal frequency-\ndivision multiple access (OFDMA). Then each channel is\nleased to multiple users on the ground by time division\nmultiple access. (TDMA). Inter-cell interference should be\nconsidered. For the uplink channel, the receiving power at the\nsatellite at time slot t from user n at cell M can be expressed\nas"}, {"title": "C. Security Threats", "content": "FL is introduced in this paper for machine learning collabo-\nrations among LEO satellite nodes. However, the system needs\nto rely on a trusted central server for global model aggregation.\nBesides, due to the potential misuse of spectrum by terrestrial\nusers and malicious behaviors of the satellites in the FL,\nLEO satellite IoT is still facing system security and privacy\npreservation issues. The following threats are considered in\nthe system.\n1) Privacy Leakage and Global Model Tamping: A central\nserver is vulnerable to attack and may collude with other\nparties.\n2) Malicious Terrestrial Users: A malicious terrestrial user\nmay increase the uplink transmit power for a better QoS after\nleasing the spectrum.\n3) Malicious Satellite Nodes: A malicious satellite node\nmay be fraudulent when transmitting the transaction data to\nthe terrestrial server and may advertise fraudulent spectrum\nleasing services when they can not provide enough available\nspectrum.\nIn this paper, we propose a reputation-based blockchain\ncombining FL to address the threats."}, {"title": "D. Problem Formulation", "content": "In LEO satellite IoT communication systems, satellites\nneed to dynamically price spectrum based on the budgets of\nterrestrial users for spectrum resource leasing. This paper aims\nto maximize the benefits of LEO satellites while optimizing"}, {"title": "IV. FRAMEWORK OF PRIVACY-AWARE SPECTRUM PRICING\nAND POWER CONTROL", "content": "In this paper, we propose a privacy-aware spectrum pricing\nand power control scheme to facilitate spectrum resource\nmanagement in the LEO satellite IoT. The scheme can be\ndivided into three phases namely spectrum leasing and local\ntraining phase, blockchain-driven federated aggregation phase\nand global model release phase. The whole process is pre-\nsented in Sec. IV-A. The modelings of the utility function and\nreinforcement learning environment are introduced in Sec. IV-\nB and Sec. IV-C respectively. And we present the details of\nblockchain-driven federated aggregation in Sec. IV-D."}, {"title": "A. Whole Process", "content": "The whole process of the scheme and the proposed frame-\nwork is as follows.\nSpectrum Leasing and Local Training Phase: The opera-\ntions in a local training round are presented in Fig. 3. Satellites\nare ready to lease their idle spectrum and set an initial price\nand initial uplink transmit power limit at first. Then, the satel-\nlite broadcasts the price and power control information to the\nterrestrial users (Label 1 in Fig. 3). After that, terrestrial users\ncommunicate with the satellites and decide to lease a certain\nspectrum (Label 2 in Fig. 3). After each round of trading,\nsatellites transmit the collected trading information to their\nterrestrial servers for local DRL (Label 3 in Fig. 3) and update\ntheir reputation records based on terrestrial users' behaviors.\nIn addition, the servers record part of the trading information,\nverify the satellites' reputation records and send the local\nmodel to the Private Permissioned Blockchain network (Label\n4 in Fig. 4) in preparation for the blockchain-driven federated\naggregation in the next phase. After receiving the new global\nmodel (Label 5 in Fig. 3), servers transmit the new spectrum\npricing and power control levels back to the satellite (Label 6\nin Fig. 6).\nBlockchain-driven Federated Aggregation Phase: After sev-\neral rounds of local training, each terrestrial server broadcasts\nthe trading record in the Private Permissioned Blockchain\nnetwork. The server with the highest reputation record aggre-\ngates the global model and performs the records package and\nblock generation for the federated aggregation round. Then,\nthe server gets a reward for the contribution and puts its\nreputation record to 0.\nGlobal Model Release Phase: The server broadcasts the\nglobal model and each server starts the next round of training\nbased on the global model."}, {"title": "B. Modeling of Utility Function", "content": "Throughout the process of leasing spectrum between ter-\nrestrial users and LEO satellites, LEO satellites price their\nidle spectrum and terrestrial users select spectrum to lease\naccording to their required QoS. Specifically, to maximize\ntheir benefits, LEO satellites need to set the appropriate price\nfor the spectrum. Whether a terrestrial user chooses to lease a\ncertain spectrum and the amount of the satellite's revenue after\nleasing depends on the user's budget for spectrum leasing,"}, {"title": "C. Modeling of Reinforcement Learning Environment", "content": "In the process of spectrum leasing between LEO satellite\nIoT systems and terrestrial users, the price of spectrum is\ninfluenced by both the state of the satellites themselves and\nthe conditions available to terrestrial users. Specifically, the\nidle spectrum's status and uplink transmit power control status\nof the satellite, the terrestrial users' budgets for the leased\nspectrum and the interference after leasing the spectrum are\nall significant factors affecting the pricing of the satellite\nspectrum. However, such transaction information shared in the\nLEO satellite system is extremely limited due to the concerns"}, {"title": "V. NUMERICAL RESULTS", "content": "In this section, simulations are conducted to present the\nperformance of the scheme."}, {"title": "A. Simulation Settings", "content": "We generated 1000 terrestrial users who were interested in\npurchasing the LEO satellite spectrum. Each user randomly\ngenerated its own spectrum trading budget within the budget\nscale and access power requirements. Each LEO satellite runs\na DRL agent with a two-layer neural network locally. Besides,\nwe set the learning rate l as 0.001, number of LEO satellite\nDRL agents as 4, probability e as 0.2, batch size as 16, number\nof terrestrial users as 1000, budget scale of terrestrial user as\n30 and discount factor \u03b3 as 0.95. The parameter is shown in\nTABLE I."}, {"title": "B. Case Study", "content": "In Fig. 6, Fig. 7 and Fig. 8, we simulated the pricing\nand power control for 4 agents in 1000 iterations. In this\nsimulation, the global model aggregation algorithm is FedAvg.\nFig. 5 shows the pricing and power control. Fig. 6 and Fig.\n7 show the Rewards and Utility of the satellite. We can see\nthat in the first iterations, the power control and pricing of\nthe 4 agents are in the process of oscillation. At about 400\niterations, agent 1 and agent 2 first start to converge. Then,\nagent 3 and agent 4 start to converge after about 550 and 700\niterations, respectively. After about 800 iterations, all 4 agents\ncan find the optimal pricing and power control scheme for the\ncurrent situation. Note that the performance of agent 3 and\nagent 4 suddenly improves during the iterations. This is due to\nthe collaborative training of these agents. Specifically, During"}, {"title": "VI. CONCLUSION", "content": "In this paper, we consider the effective spectrum pricing\nand uplink transmit power control scheme for LEO satellite\nIoT. We first formulate a reinforcement problem based on the\nsatellite communications features to maximize the benefits of\nleasing spectrum and power control. Next, a locally trained\nDRL-based scheme is proposed for satellites to find the\noptimal policy. Then, we further introduce a blockchain-driven\nFL framework to enhance the training collaboration while\nkeeping the system distributed throughout the whole process\nto guarantee the security of local private information. We\nalso conduct simulations to present the pricing and power\ncontrol performances of agents that participate in the FL and\ncompare the performance of the learning-based scheme and\nthe non-learning-based scheme. Numerical results show the"}]}