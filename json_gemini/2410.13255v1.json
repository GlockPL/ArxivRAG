{"title": "Automatic Translation Alignment Pipeline for Multilingual Digital Editions of Literary Works", "authors": ["Maria Levchenko"], "abstract": "This paper investigates the application of translation alignment algorithms in the creation of a Multi-lingual Digital Edition (MDE) of Alessandro Manzoni's Italian novel I promessi sposi (\"The Betrothed\"), with translations in eight languages (English, Spanish, French, German, Dutch, Polish, Russian and Chinese) from the 19th and 20th centuries. We identify key requirements for the MDE to improve both the reader experience and support for translation studies. Our research highlights the limitations of current state-of-the-art algorithms when applied to the translation of literary texts and outlines an automated pipeline for MDE creation. This pipeline transforms raw texts into web-based, side-by-side representations of original and translated texts with different rendering options. In addition, we propose new metrics for evaluating the alignment of literary translations and suggest visualization techniques for future analysis.", "sections": [{"title": "1. Introduction", "content": "From the very beginning of digital edition creation, there has been a tendency, supported by the power of web technologies, to represent not only the original text but also its translation(s), following the tradition of bilingual printed editions. In this paper, we propose to define multilingual digital editions (MDE) as editions in which translations are not supplementary but essential, intended to enrich both computational analysis and reader experience.\nBeyond annotated file accessibility, the MDE should meet additional criteria to be effective. Primarily, the platform must display the original text alongside translations. It is anticipated that there will be a visual correlation between aligned pairs, which will facilitate straightforward comparison and analysis. The accuracy of alignment is, by default, ensuring that the corresponding parts of the texts are properly aligned. Furthermore, the platform should support the visual highlighting of omitted or inserted parts in the translations[1], which will enable users to discern differences and interpret the nuances of each translation.\nThese requirements are generally feasible for short, structured texts like poetry or historical documents (examples of MDE publishing strategies are described in Appendix A). The challenge is to develop a flexible, automated system that accurately aligns complex literary texts across multiple languages for computational analysis and user-friendly exploration. The technology"}, {"title": "2. The Betrothed by Alessandro Manzoni and Its Translations", "content": "A comparative analysis of translations of the same literary work over time can provide valuable insights into the evolution of interpretation and understanding. \u201cI promessi sposi\" is particularly compelling in this context. Not only does it reflect the author's exploration of the Italian language during a period of significant linguistic evolution, but it has also been translated into many European languages over the past two centuries. This makes it an ideal case study for investigating the influence of temporal factors, linguistic shifts, and the reception of the original novel in different cultural contexts.\nTwo main original editions (1827 and 1840) were translated into European languages and published in parallel in the XIX century. For the development of an automated translation alignment pipeline, we selected and prepared the texts of a wide range of translations of the classic edition of the novel, also known as Quarantana (1840), including English translations from 1845, 1876, 1983, and 2022; Russian translations from 1854 and 1999; a Dutch (1849); a German (1884), a French (1874), a Spanish (1858), a Polish (1882) and a Chinese (1998) (see Appendix 1 for a list of translations)."}, {"title": "3. Related Work", "content": "The core of the MDE creation process is translation alignment, which involves mapping corresponding units (typically words or sentences) between a source and target text. State-of-the-art alignment algorithms have evolved significantly in recent years and now perform optimally in many applications, including machine translation, bilingual dictionary creation, and parallel corpus development.\nModern methods have moved from statistical approaches [2, 3, 4, 5, 6, 7] and lexical associations (Hunalign in [8]), first to the use of machine translation (MT) systems and then to the alignment systems adopted multilingual sentence embeddings, which significantly improves the accuracy (LASER in [9] and LaBSE in [10]). Thomson and Koehn's Vecalign [11] uses LASER embeddings and a recursive dynamic programming approach to achieve state-of-the-art results by reducing complexity from quadratic to linear [11]. These methods use multilingual models to generate embeddings for each sentence, which are then compared using cosine similarity to find the best matches between the original and translated sentences. Liu and Zhu [12] introduced"}, {"title": "4. Challenges of the Sentence-Level Alignment", "content": "While the alignment of text and translation at the line level is sufficient for poetic, historical, and even verse dramatic texts (see [13]), where we cannot expect significant variation in the splitting, merging, or reordering of lines, this alignment approach is inadequate for prose due to the extent of restructuring that inevitably occurs in literary prose translation. In such cases, the standard approach is sentence-level alignment. However, it can be challenging, particularly in the case of literary translations, due to the irregularity of the syntactic structure of the original text in another language. Literary translators are not limited to translating a single sentence into another single sentence (this can be described as a one-to-one type of alignment) but are free to manage sentence boundaries and reconfigure sentence structures to better convey the meaning and style of the original text. In this case, in working to achieve the highest similarity score for the aligned pairs, the alignment algorithms are forced to combine several sentences into one, using one-to-many, many-to-one, and many-to-many alignment types.\nThe ideal alignment type for the MDE is a one-to-one alignment type to maintain the granularity and consistency of the alignment. In our analysis of the sentence-level alignment of I promessi sposi (see Figure 1 for the different translations), while one-to-one alignments are the most common, a significant proportion are more complex types. While this does not inherently complicate the alignment process, as advanced tools such as Bertalign and Vecalign can handle this complexity, the results may be less optimal in terms of meaningfulness. The length of the aligned pairs becomes longer, including several sentences from both the source text and the translation (examples can be seen in the Appendix B). The edge case for this expanded alignment result would be the pairing of the paragraph or even the chapter of the original text with the same of the translation.\nThat's why traditional metrics may not be sufficient for evaluating the alignment results. The performance of alignment algorithms is typically evaluated using established metrics such as precision, recall, F1 score, and Alignment Error Rate (AER) [14]. The first limitation of this approach is that it is based on a \"gold dataset,\" which does not provide insight into the performance of the algorithm with respect to other types of text [15]. A second consequence is that the scores may be high, but the results are not suitable for MDE because the aligned pairs are too large to be analyzed or identified at a glance by a human observer. We, therefore, suggest that, in addition to the increasing importance of the distribution of alignment types (one-to-one, one-to-many, many-to-one, many-to-many) as a metric of the acceptability of the results, the number and length of alignment pairs derived from the original sentences should also be considered. A number of aligned pairs close to the number of original sentences would indicate an effective alignment process. Conversely, a significant reduction in the number of aligned pairs would indicate limitations of the sentence-level alignment approach, as it implies that the alignment algorithm is forced to combine more sentences to obtain the appropriate similarity score.\nThe length of alignment pairs will indicate if they are suitable for human readers. In the context of creating a digital edition for educational or research purposes with multiple languages, it is not advisable to present long-aligned texts, given the limited attention span and working memory of the readers (for further insight, see studies of working memory and comprehension with multiple text reading [16, 17]).\nTo illustrate, if a sentence in the source language (Italian) is 130 tokens long and its corresponding sentence in the target language (English) is 140 tokens long, readers may encounter difficulties in comparing and understanding such lengthy segments. Even the use of color differentiation to highlight aligned pairs does not overcome this challenge (see Figure 2).\nIn summary, in the context of MDE of literary works, sentence-level alignment still faces a significant challenge. 1) Sentence boundaries are not stable in different languages, which leads to a variety of alignment types and doesn't allow a consistent alignment across the MDE. 2) Strict sentence-level alignment does not fully reflect the variability of the translated texts, such"}, {"title": "5. Sentence Segmentation as an Alternative Solution", "content": "The alternative methods can provide more accurate and meaningful segmentation of literary texts. In an attempt to move from sentence-level alignment to phrase- or segment-level alignment, here are two promising approaches:\n\u2022 Punctuation splitting: Applying punctuation marks (such as commas, periods, and semi-colons) to create initial segments. This method provides natural breaks in the text, preserving the contextual meaning. However, by using this approach and aligning the resulting segments with Bertalign, we achieved a more granular alignment but increased the number of reordering problems that didn't occur with sentence-level alignment.\n\u2022 Zero/Few-Shot Prompting with LLM Models: The sentences of the original text are segmented using zero-shot prompting OpenAI CPT-40 model [18]. The approved segments are then used as patterns for few-shot prompting to segment the sentences of the translations. This approach provides a robust foundation for universal alignment.\nThe similarity score can be visualized to evaluate segment-level alignment and compare its results with traditional sentence-level alignment. In addition, the visual representation of the similarity score of the aligned segments or sentences allows us to find the semantic outliers. After extracting high-dimensional embeddings for each aligned line from the original and translated text using the multilingual model (LaBSE), we applied t-Distributed Stochastic Neighbour Embedding (t-SNE) to reduce them to two dimensions. By visually examining the cosine similarity, we can detect anomalies and curious translated fragments (see Figure 3), even if the alignment algorithm establishes the correlation between sentences.\nThere are several quantitative metrics that can be used to assess the quality of alignment:\n\u2022 Number of resulting aligned pairs with respect to the number of input segments;\n\u2022 Consistency: Ensure that segments are consistently aligned across languages, preserving the meaning and context of the original text.\n\u2022 Number of clusters: The number of clusters indicates how the sentences are grouped. An ideal alignment would result in clusters where each cluster contains two points corresponding to the embedding of the aligned pair, one from the original text and one from the translation, placed close to each other;\n\u2022 Average similarity: Calculating the average similarity within clusters gives an insight into the coherence of the alignments, with higher values indicating more semantically consistent groupings.\n\u2022 The length of the aligned pair of lines indicates whether the detected lines are within the reader's attention span and suitable for the user experience."}, {"title": "6. Multilingual Digital Edition Pipeline", "content": "The automated pipeline for the MDE is proposed as a means of enabling creators to prepare annotated TEI files that are accessible, adaptable, correct, easily parsed by computational tools, and rendered for readers (see Figure 5).\nWe start with the raw texts of the translations in TXT format, obtained after OCR and error checking. For Manzoni's text, we used TEI files with identifiers assigned to each token. This preparation allows us to take into account the irregular segmentation to be expected due to inconsistencies across the languages.\nStep 1. The choice of the segmentation method. Based on the above analysis and the specifics of the texts to be published, the MDE developers can select the segmentation methodology in accordance with the projected audience and the project's objectives, enabling alignment at the sentence, phrase, or word level, or a combination, giving readers the flexibility to choose their preferred option.\nStep 2-3. Segmentation of the original text and the translations. Depending on the decision made in the first step, the text can be split into sentences, segments, or even tokens.\nStep 4. Applying alignment algorithms: By default, we applied Bertalign with the LaBSE model, trained on 109 languages [19] to the segments obtained at the previous steps. Other multilingual sentence-transformer models, such as BGE M3-Embedding, can also be used [20].\nStep 5. Choosing the encoding approach. The encoding approach determines the flexibility of the alignment description for future rendering and for establishing a link between the original and translated texts. For structured texts, where each segment in the original closely corresponds to an equivalent segment in the translations, it may be appropriate to mark each segment with the same identifier. Given the complexity of multilingual alignment, we have taken a different approach. The TEI encoding of the original text includes identifiers for each token, providing granular reference points. The TEI-encoded translation text is divided into segments, each referencing the start and end identifiers from the original text, allowing for flexible and accurate alignment.\nStep 6. Encoding. By iterating over the alignment results, we assign the referencing start and end identifiers from the original text to each aligned segment from the translation and generate a new TEI file for the translation, ensuring that all segments are accurately linked to the corresponding elements.\nStep 7. Rendering Aligned Texts on the Web. Render the original and translated texts from the TEI files as two columns on a web page with separate XSLT templates for the original and translated text. This interactive interface allows users to click on the original text and see the corresponding translation fragment highlighted, enhancing the user experience by providing an intuitive way to explore and compare the translations side by side.\nStep 8. Visualization and evaluation. While the highly unstable text versions[21] or line-level aligned translations [22] can be effectively visualized with the Sankey diagram or bipartite graph, the alignment results for the modern translations can be visualized with the approach described above, based on the embedding vectors with t-SNE and clustering with DBSCAN. As for the presentation in the user interface, ideally, all multilingual translations should be comparable and aligned with each other, allowing the user to see and interpret the differences."}, {"title": "7. Future Development and Challenges", "content": "\u2022 Current alignment algorithms face challenges in accurately aligning segments with reordered content. Future work will focus on improving the alignment performance in such cases, ensuring more precise matches even when the original and translated texts differ significantly in structure.\n\u2022 Previous studies on user behavior in digital editions have analyzed log files to understand interaction patterns [23]. To gain deeper insights, we are using advanced tools such as ReactFlow to study more comprehensively how users interact with different elements of MDEs. For example, when readers view two lines in different languages side by side, the optimal reading span may differ from traditional reading practices. By analysing user interactions, we aim to determine the most effective segment length for the MDEs."}, {"title": "8. Conclusion", "content": "The proposed pipeline aims to improve the development of Multilingual Digital Editions (MDE) by ensuring that MDE is both methodologically robust and user-centered. By prioritizing user experience and usability, the pipeline adapts existing computational methods and algorithms to the specific needs of educational and research applications.\nWe have also proposed new metrics for MDEs that focus on the consistency, meaningfulness and granularity of the alignment. These metrics assess the suitability of an alignment for educational and research purposes. By ensuring that the alignment is accessible to human readers while supporting translation studies, the pipeline balances conciseness and reader engagement."}]}