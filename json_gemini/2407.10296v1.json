{"title": "Modelica-based Optimization of Hybrid Energy Storage Systems for Enhanced Self-sufficiency in Residential Prosumer Scenarios", "authors": ["Janick Sponfeldner", "David Geisler", "Tobias Geyer"], "abstract": "The increasing deployment of renewable energy sources on residential prosumer sites poses new challenges on the design and operation of energy storage systems. The need to meet the load demand and maximize the self-consumption rate calls for more elaborated design and optimization procedures than traditional rule-based strategies. This work presents a Modelica-based optimization approach for hybrid energy storage systems consisting of a battery and a thermal energy storage. The main objective is to find the optimal sizes of these components in a way that leads to maximum self-sufficiency, i.e., minimizing the amount of electrical energy imported from the grid. The optimization problem is modeled in Modelica and solved using the jMetal framework. Simulation results show that hybrid energy storage systems with optimized component sizes can lead to a significant increase in self-sufficiency, especially if the thermal storage is used for heating and domestic hot water generation.", "sections": [{"title": "Introduction", "content": "The ongoing energy transition calls for a massive deployment of distributed renewable energy sources (RES) and energy storage systems (ESS) at the level of residential prosumers [1]. Combining these two technologies allows to increase the share of electricity supplied by local generation in a microgrid, reduce grid congestion, and increase resilience in case of grid failures [2, 3]. For photovoltaic (PV) systems, which account for the majority of RES installations in households, the mismatch between the time of peak generation and peak demand poses a major challenge [4]. ESSs provide the necessary flexibility to mitigate this issue by storing energy during times of oversupply and releasing it at times of high demand.Traditionally, batteries are used as ESS in residential applications. They are characterized by a good overall efficiency, low self-discharge rates, and decreasing prices [5]. However, their limited power density and cyclic lifetime constitute a bottleneck in many applications, especially if heating or electric vehicle charging is involved [6]. Thermal energy storages (TES) can represent an alternative ESS technology with advantages in terms of power density, lifetime and component costs [7, 8]. They can be used to store thermal energy generated by PV panels or other renewable sources and release it for space heating or domestic hot water (DHW) generation.A promising approach to overcome the limitations of each technology is the use of hybrid energy storage systems (HESS), where multiple ESS technologies are combined to complement each other [9]. By combining a battery with a TES, the advantages of both technologies can be exploited, leading to an increase in overall system performance and self-sufficiency.For the design and operation of HESSs, sophisticated control strategies are required to maximize their benefits [10]. A promising approach is the use of model predictive control (MPC), where a mathematical model of the system is used to predict its future behavior over a certain time horizon and optimize the control actions accordingly [11]. To obtain realistic models of the HESS, multi-domain modeling languages such as Modelica can be used [12].Modelica is a declarative, object-oriented, equation-based language for modeling physical systems [13]. It allows to model complex systems by combining pre-defined and user-defined components in a hierarchical way. The equation-based nature of the language allows to describe the system behavior in a natural way, without having to worry about the causality of the equations. Moreover, Modelica is supported by a variety of open-source and commercial tools, such as OpenModelica, Dymola, and SimulationX [14].This work presents a Modelica-based optimization approach for HESSs in residential prosumer scenarios. The main objective is to find the optimal sizes of the battery and the TES in a way that leads to maximum self-sufficiency, i.e., minimizing the amount of electrical energy imported from the grid. The optimization problem is modeled in Modelica and solved using the jMetal framework [15]. Simulation results show that HESSs with optimized component sizes can lead to a significant increase in self-sufficiency, especially if the TES is used for heating and DHW generation.This paper is structured as follows: Section 2 presents the system model, including the building model, the PV model, and the HESS model. Section 3 describes the optimization problem, including the objective function and the constraints. Section 4 presents the simulation results, and Section 5 concludes the paper."}, {"title": "System Model", "content": "This section presents the system model, which consists of a building model, a PV model, and a HESS model. The models are implemented in Modelica and are based on the Buildings and AixLib Modelica libraries [16, 17].\n          The considered system topology is shown in Fig. 1. It consists of a building with a PV system on the roof, a battery, and a TES. The building is connected to the grid, which supplies the electricity that is not covered by the PV system and the battery. The TES is used for heating and DHW generation.\n          The building model is based on the Buildings library [16] and consists of a single-zone model with a simplified representation of the thermal behavior of the building. The model takes into account the heat transfer through the walls, the windows, and the roof, as well as the heat gains from internal sources, such as people and appliances. The model is parameterized with data from the IEC 61850-90-7 standard [18], which provides a standardized way to represent the thermal behavior of buildings.The PV model is based on the one-diode model [19] and takes into account the temperature dependence of the PV parameters. The model is parameterized with data from the manufacturer datasheet and is based on a fixed installation with an inclination of and a southeast orientation.\n          The HESS model consists of a battery and a TES. The battery model is based on the kinetic battery model [20] and takes into account the capacity fade and the temperature dependence of the battery parameters. The model is parameterized with data from the manufacturer datasheet.The TES model is based on a stratified water tank model [21] and takes into account the heat losses through the walls of the tank. The model is parameterized with data from the manufacturer datasheet.The three models are connected to a supervisory controller, which implements the optimization algorithm and sends control signals to the ESS components. The controller is implemented in Modelica and is based on the Modelica Standard Library [22].The Modelica code for the individual components and the controller can be found in the supplementary material."}, {"title": "Optimization Problem", "content": "In this section, the optimization problem is described, including the objective function and the constraints. The optimization problem is modeled in Modelica and solved using the jMetal framework [15].\n          The main objective is to find the optimal sizes of the battery and the TES in a way that leads to maximum self-sufficiency, i.e., minimizing the amount of electrical energy imported from the grid. The self-sufficiency rate is defined as\n          $$ \nSSR = 1 - \\frac{E_{grid}}{E_{load}}, $$\n          where \\(E_{grid}\\) is the amount of electrical energy imported from the grid and \\(E_{load}\\) is the total electrical energy consumed by the load. The objective function is then defined as\n          $$ \n\\text{minimize} \\quad f = -SSR. $$\n          The decision variables are the battery capacity \\(C_{bat}\\) and the TES volume \\(V_{tes}\\). The decision variables are subject to the following constraints:\n          $$ \nC_{bat,min} \\leq C_{bat} \\leq C_{bat,max}, $$\n          $$ \nV_{tes,min} \\leq V_{tes} \\leq V_{tes,max}. $$\n          The constraints on the decision variables are based on practical considerations, such as the available battery sizes and the available space for the TES. The optimization problem is solved using the NSGA-II algorithm [23], which is a multi-objective evolutionary algorithm that is well-suited for solving complex optimization problems. The algorithm parameters are set to the default values of the jMetal framework."}, {"title": "Simulation Results", "content": "This section presents the simulation results. The simulations were performed for a typical residential prosumer scenario in Central Europe. The load profile is based on the IEC 61850-90-7 standard [18] and the PV generation profile is based on a typical PV installation in Austria [24]. The simulation time horizon is one year with a time step of one hour.\n          Fig. 2 shows the Pareto front of the optimization problem. The Pareto front represents the set of non-dominated solutions, i.e., solutions that cannot be improved in one objective without degrading the other objective. It can be seen that there is a trade-off between the battery capacity and the TES volume. For a given battery capacity, increasing the TES volume leads to a higher self-sufficiency rate, but only up to a certain point. After that, increasing the TES volume does not lead to a significant increase in self-sufficiency.\n          Table 1 shows the results for three selected solutions from the Pareto front. Solution 1 has the lowest battery capacity and the highest TES volume, Solution 2 has a medium battery capacity and a medium TES volume, and Solution 3 has the highest battery capacity and the lowest TES volume. It can be seen that all three solutions lead to a significant increase in self-sufficiency compared to the base case without ESS (39%). The best solution is Solution 2, which has a self-sufficiency rate of 76%. It can also be seen that the HESS can reduce the amount of electrical energy imported from the grid by 61% compared to the base case.Fig. 3 shows the energy flows for Solution 2. It can be seen that the PV system covers a significant portion of the load demand. The battery is used to store the excess PV energy and release it at times of high demand. The TES is used to store thermal energy generated by the PV panels and release it for heating and DHW generation. The HESS can reduce the amount of electrical energy imported from the grid by shifting the PV generation to times of high demand and by using the TES to cover the thermal demand. The simulation results show that HESSs with optimized component sizes can lead to a significant increase in self-sufficiency, especially if the TES is used for heating and DHW generation."}, {"title": "Conclusion", "content": "This work presented a Modelica-based optimization approach for HESSs in residential prosumer scenarios. The main objective was to find the optimal sizes of the battery and the TES in a way that leads to maximum self-sufficiency. The optimization problem was modeled in Modelica and solved using the jMetal framework. Simulation results showed that HESSs with optimized component sizes can lead to a significant increase in self-sufficiency, especially if the TES is used for heating and DHW generation.The approach presented in this work can be used to design and operate HESSs in a way that maximizes their benefits. Future work will focus on the development of more sophisticated control strategies and on the integration of other RES technologies, such as wind turbines and heat pumps."}]}