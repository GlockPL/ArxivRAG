{"title": "An Ontology-based Approach Towards Traceable Behavior Specifications in Automated Driving", "authors": ["NAYEL FABIAN SALEM", "MARCUS NOLTE", "VERONICA HABER", "TILL MENZEL", "HANS STEEGE", "ROBERT GRAUBOHM", "MARKUS MAURER"], "abstract": "Vehicles in public traffic that are equipped with Automated Driving Systems are subject to a number of expectations: Among other aspects, their behavior should be safe, conforming to the rules of the road and provide mobility to their users [1], [2]. This poses challenges for the developers of such systems: Developers are responsible for specifying this behavior, for example, in terms of requirements at system design time. As we will discuss in the article, this specification always involves the need for assumptions and trade-offs. As a result, insufficiencies in such a behavior specification can occur that can potentially lead to unsafe system behavior. In order to support the identification of specification insufficiencies, requirements and respective assumptions need to be made explicit. In this article, we propose the Semantic Norm Behavior Analysis as an ontology-based approach to specify the behavior for an Automated Driving System equipped vehicle. We use ontologies to formally represent specified behavior for a targeted operational environment, and to establish traceability between specified behavior and the addressed stakeholder needs. Furthermore, we illustrate the application of the Semantic Norm Behavior Analysis in two example scenarios and evaluate our results.", "sections": [{"title": "I. INTRODUCTION", "content": "WITH the shift from assisted to automated driving, Automated Driving Systems (SAE Levels 3 and higher [3]) take over full control of the dynamic driving task under specified conditions \u2013 depending on the level of automation. While the responsibility for maneuvering through traffic lies with the human driver in a conventional vehicle (SAE Levels 2 and lower [3]), this responsibility lies with the Automated Driving System in case of an automated vehicle.\u00b9 As a result, developers of Automated Driving Systems need to shift from assuring safe interaction between a driver assistance system and a driver to assuring safe behavior for the interaction between an automated vehicle and its surrounding traffic.\nTo that end, ISO 21448 [4] specifies guidelines for the safety of the intended functionality. This includes the evaluation of potentially hazardous behavior due to the behavior specified in a system's development [4, Clause 10.1]. However, the standard does not define how behavior should be specified.\nA scenario-based approach is suggested in industry stan- dards and reports [4]\u2013[6], research works [7]\u2013[9], and regula- tory documents [10] as a means to structure the operational environment of an automated vehicle. Ulbrich et al. define a scenario as \"the temporal development between several scenes in a sequence of scenes. Every scenario starts with an initial scene. Actions & events as well as goals & values may be specified to characterize this temporal development in a"}, {"title": "II. RELATED WORK", "content": "In this section, we review related work in order to motivate the importance of a behavior specification and to highlight open questions based on existing approaches on specifying behavior of automated vehicles.\nSeveral standards and technical reports related to automated driving emphasize, at least implicitly, the importance of formalized behavior specifications.\nISO 21448 [4] requires (among others) to identify insuffi- ciencies of specification that lead to hazardous behavior and cause unreasonable risk. Such insufficiencies can arise in the specification of the intended functionality at the vehicle-level. A vehicle-level specification can include the specification of intended behavior. In this context, ISO 21448 introduces the vehicle-level SOTIF strategy. The vehicle-level SOTIF strategy is defined as a \"set of vehicle-level requirements for the intended functionality used to support design, verification and validation activities to achieve the SOTIF.\" [4] This definition allows for the specification of intended behavior as part of the vehicle-level SOTIF strategy. In combination with ISO 21448 requirements on traceability, a formalized process for the specification of intended behavior is required to support SOTIF activities. However, ISO 21448 does not provide guidance on how to specify vehicle-level requirements for the intended behavior.\nISO/TR 4804 [6] states that the safety of an Automated Driving System can be addressed by \"designing scenario- based system behaviours\" [6, p. 19]. To that end, ISO/TR 4804 follows ISO 21448 (ISO/PAS 21448 at the time) and highlights the importance of analytical approaches to ensure system safety. An application of scenario-based system behaviors for the identification of hazardous events was, for example, shown in [14]. Additionally, the authors of the ISO/TR 4804 highlight challenges, especially regarding the role of traffic rules. While some traffic rules may be directly applicable to multiple driving contexts (such as the meaning of a STOP- sign) other rules could require interpretation by the developers [6, Clause 5.3.2.10]. As a result, there is a need for methods that must also support the documentation of scenario-based interpretations of traffic rules.\nIEEE Std 2846-2022 [15] provides a minimum set of assumptions that shall be considered by safety-related models. The standard highlights the importance of explicit assumptions in the design of safety-related models for automated vehicles and applies these assumptions at a behavioral level rather than focusing on specific functions. However, IEEE Std 2846-2022 is explicitly limited to a minimum set of kinematics-based assumptions and mentions the need for further refinement by regulators or manufacturers. For example, it is left open how the specification of an operational design domain and the intended behavior of an automated vehicle influence the necessary assumptions that are described in IEEE Std 2846- 2022.\nFrom an academic research perspective, there are multiple publications related to the behavior specification of automated vehicles.\nLacking the availability of ISO 21448, Reschka [16] de- scribes a process to compile an item definition for an auto- mated vehicle based on requirements from ISO 26262 [17]. In his proposal, Reschka [16] mentions the importance of explicitly specifying behavior to identify necessary capabili- ties of the automated vehicle. While Reschka provides initial guidelines, the described specification process requires further formalization, for example to identify inconsistencies of a behavior specification in a set of scenarios.\nMeyer et al. [18] focus on utilizing techniques from the domain of model-based systems engineering (MBSE) for a SOTIF-compliant design of automated driving functions. In their work, Meyer et al. [18] propose to first model the expected behavior in the operational environment before the derivation of sub-system requirements. In order to model expected behavior, the authors follow a scenario-based de- velopment paradigm. Meyer et al. claim full traceability between scenarios and system requirements. However, the causal relations between scenario-specific context elements to internal and external behavior are not explicitly described. Additionally, the expressiveness of the maneuver concept used by Meyer et al. depends on the respective block definition"}, {"title": "III. REQUIREMENTS ELICITATION", "content": "Based on our review of related work, we derive requirements for a behavior specification of an automated vehicle. More specifically, the elicitation of requirements focuses on the research gap of how a behavior specification can explicitly include context-specific assumptions and decisions. The re- quirements also provide the basis for our evaluation of the Semantic Norm Behavior Analysis in Section VII. As we focus on the aspect of traceability in this article, these requirements are not exhaustive to cover the entire task of creating a behavior specification for an automated vehicle.\nCensi et al. [31] describe the challenge of creating a behavior specification as \u201cdefining what the car is supposed to do\". However, there are different perspectives from multiple stakeholders on what should be considered for the definition of compliant behavior. Hence, we deem elicited stakeholder needs as a key source of a behavior specification."}, {"title": "IV. TERMINOLOGY", "content": "In this section, we compile the terms and definitions that build the foundation of our contribution.\nSince our focus is the specification of behavior for auto- mated driving, we need to define the term behavior. How- ever, there are multiple definitions of behavior. According to Avi\u017eienis et al. [45] behavior is defined as \"what the system does [...] and described by a sequence of states\" [45]. Additionally, Arkin defines behavior from the perspective of behavior-based robotics: \u201cBehavior, simply put, is a reaction to a stimulus.\" [46, p. 66] These definitions have in common that they both refer to the behavior that is externally observable. Arkin extends this understanding by also considering the stimuli from the operational environment that lead to a specific response as part of a system's behavior. Thus, in the context of safety engineering, Nolte et al. [47] elaborate that a nuanced distinction between internal and external behavior (cf. [45]) is necessary. We adopt this way of thinking about behavior in order to support the explicit specification of interactions between an automated vehicle and its environment.\nAs our approach follows the scenario-based development paradigm, there is a strong dependency on the term scenario. Ulbrich et al. [11] define a scenario as \"[...] the temporal development between several scenes in a sequence of scenes. Every scenario starts with an initial scene. Actions & events as well as goals & values may be specified to characterize this temporal development in a scenario. Other than a scene, a scenario spans a certain amount of time.\" Additionally, a scenario-based development paradigm enables engineers to refine the behavior specification on different levels of abstraction. Menzel et al. [9] propose functional, logical and concrete scenarios to account for increasing maturity of the development process from the concept phase to verification and validation activities. Similarly, we consider the behavior specification to have multiple degrees of abstraction [19].\nIn the context of automated driving, the concepts tar- get operational domain and operational design domain are important to capture operating conditions of an automated vehicle. However, both concepts focus on different aspects.\nAccording to ISO 34503 [5] the target operational domain is composed by the \"set of operating conditions in which an ADS will be expected to operate\". In contrast, the operational design domain is defined as \"operating conditions under which a given driving automation system or feature thereof is specifically designed to function [...]\" [3]. Therefore, the specification of an operational design domain requires details from system design whereas the target operational domain focuses on the context an automated vehicle is deployed in. Since we already specified the importance of solution- independence of a behavior specification in Requirement 7, the term target operational domain provides an important reference.\nThe terms stakeholder needs and stakeholder requirements are frequently used in the systems engineering standard ISO/IEC/IEEE 15288 [48]. However, no formal definition is provided. Faisandier et al. [49] describe the goal of stakeholder needs and requirements definition activities as the elicitation of clear and concise needs, which is followed by a transfor- mation into consolidated and verifiable stakeholder require- ments. Stakeholder needs may contain vague and ambiguous statements. In contrast, stakeholder requirements are more \u201cengineering-oriented\u201d [49] (i.e. formulated in requirements- specific language) to enable a proper system definition. We adopt this description of stakeholder needs and requirements. In the context of behavior specification, we specify behavior with a consistent set of stakeholder requirements. We refer to such requirements as behavior-related stakeholder require- ments or behavioral requirements.\nFinally, the term ontology needs to be specified. The term ontology has different definitions depending on the application domain. We refer to ontologies as defined by Gruber [50] in the domain of computer science. \u201cA common ontology defines the vocabulary with which queries and assertions are exchanged among agents.\u201d [50] Therefore, we focus on the communicative aspect of an ontology as a common and formally expressed set of terms in a knowledge base.\nGiven the introduction of foundational terms we introduce our proposed terminology. To account for the complexity of an automated vehicle's operational environment and for the heterogeneity of stakeholder needs we define the term norm behavior:\nSpecification of the (internal and external) behavior an actor shall exhibit in a scenario-overarching context resulting from legal, societal, and ethical needs.\nIn Figure 2 norm behavior is defined as a subset of stakeholder needs with two main characteristics. First, norm behavior may include conflicting needs towards a vehicle's behavior that require consolidation. Second, norm behavior may be specified without referring to a consistent set of operating conditions that are described in a scenario (i.e. norm behavior is scenario-overarching).\nTo satisfy the requirements, which we elicited in Section III, the concept of norm behavior is necessary but not suffi- cient. The documentation of assumptions and decisions that"}, {"title": "V. ONTOLOGY-BASED APPROACH TOWARDS BEHAVIOR SPECIFICATION", "content": "In the previous sections, we argued that an explicit behavior specification can significantly contribute to the development of automated vehicles \u2013 especially in the context of SOTIF. First, we outlined the challenge for developers to address conflicting stakeholder needs with respect to a system's behavior. Second, we argued that ISO 21448 implicitly requires a specification of behavior to identify specification insufficiencies and to support the vehicle-level SOTIF strategy.\nIn this section we introduce the Semantic Norm Behavior Analysis. The method provides an ontology-based and thus formalized approach to specify target behavior. Figure 3 shows the key activities and artifacts of the Semantic Norm Behavior Analysis. We elaborate on each activity throughout this section. In subsection V-A we give an overview of the activities and artifacts that are part of the Semantic Norm Behavior Analysis. Subsequently, we specify these activities in more detail in subsection V-B, V-C, and V-D.\nA. OVERVIEW OF THE SEMANTIC NORM BEHAVIOR ANALYSIS\nThe Semantic Norm Behavior Analysis is designed to ex- plicitly consider behavior-related stakeholder needs during behavior specification. These needs are often captured in laws, ethical guidelines or other documents. We refer to such documents as knowledge sources for norm behavior. At first, knowledge sources need to be defined and analyzed (Step 1 in Figure 3). These sources can contain both, knowledge about norm behavior and knowledge about domain-specific methods for the interpretation of norm behavior. For example, we will consider the German Road Traffic Regulation as a source of stakeholder needs for norm behavior. As the traffic code contains ambiguous statements, we use knowledge about legal analyses to give an example interpretation of the traffic code. This step of the Semantic Norm Behavior Analysis builds the foundation of the behavior specification as it supports the elicitation of stakeholder needs regarding the behavior of an automated vehicle.\nIn Step 2a (Figure 3) the specified behavioral requirements are formalized in ontologies. First and foremost, one ontology contains the operating conditions for which maneuver options need to be specified. Relevant entities are, for example, lanes, lane markings, and traffic signs. A second ontology formalizes expert knowledge in the behavioral requirements. Mainly, this ontology contains the causalities between a set of operating conditions and the specified maneuver options. Both ontologies provide a consistent description logic model that specifies the intended behavior in a scenario.\nAs the reasoning capabilities of a description logic model are limited, we use logic programming rules to supplement the ontologies (Step 2b in Figure 3). Both activities (modeling entities and relations, and the formalization of rules) build an iterative process.\nStep 3 (Figure 3) includes the verification of the specified behavior. In this context, the ontologies and rules build a set of formal axioms that are evaluated regarding their consistency. The set of axioms is consistent, if description logic and logic programming rules can be applied to the ontologies without logical errors. However, a proof of logical consistency is not sufficient to claim validity of the specified behavior. A validation step is required to show that the specified behavior"}, {"title": "B. ANALYSIS OF NORM BEHAVIOR FROM A LEGAL PERSPECTIVE", "content": "In Step 1 (Figure 3) of the Semantic Norm Behavior Analysis, knowledge sources are determined that represent relevant stakeholder needs. These needs are formulated from multi- ple perspectives. However, an analysis of stakeholder needs highly depends on the domain of the experts that conduct the analysis. For example, a behavior specification based on laws and regulations requires different knowledge than a specification based on local driving styles. As the development of automated vehicles is of great legal importance, we focus on the application of our method from a legal perspective in this article.\nIn Germany, the Road Traffic Act (StVG4) and the Road Traffic Regulation (StVO) provide important examples of normative legal sources for a behavior specification. Compli-"}, {"title": "C. CREATION OF A TARGET BEHAVIOR MODEL WITH ONTOLOGIES", "content": "Westhofen et al. [27] define congruence as a circumstance where the \"eventual goal of the [Automated Driving] System's development is the implementation of some valid interpre- tation of the relevant legal concepts\". However, the authors note that the fundamental idea can be applied to consensus- building in general. Thus, we adopt their concept of con- gruence to the consolidation and specification of behavioral requirements based on potentially conflicting stakeholder needs. Westhofen et al. [27] also elaborate key challenges in addressing the congruence problem. We infer that these"}, {"title": "D. VERIFICATION AND VALIDATION OF THE BEHAVIOR SPECIFICATION", "content": "After an analysis of knowledge sources and a specification of target behavior, the behavior specification needs to be verified and validated. In the Semantic Norm Behavior Analysis, target behavior is modeled using description logic and logic programming. Thus, in the scope of the Semantic Norm Behavior Analysis, verification of a behavior specification can be supported by proving formal consistency of the modeled concepts with a reasoner to show that the specification is unambiguous. However, this does not necessarily mean that the modeled target behavior is correct. To prove correctness of target behavior, the specification also needs to be complete. However, this poses multiple challenges.\nFirst, target behavior is specified for a set of scenarios. In the scope of these scenarios, a behavior specification is axiomatic. That is, behavior can be specified as a consistent, closed set of requirements. However, the operational environment of an automated vehicle is an open world. This leads to inherent uncertainties in the description of the operational environment - in our case modeled in the operational domain ontology. As behavior is specified with respect to entities in the operational environment, the validity of the specified axioms is limited by the completeness of the operational domain ontology. Therefore, a behavior specification can only be formally verified regarding the consistency of the specified"}, {"title": "VI. EXAMPLE BEHAVIOR SPECIFICATION", "content": "In this section we provide an example of how the Semantic Norm Behavior Analysis can support a traceable specification of target behavior in two scenarios based on an excerpt of the German Road Traffic Regulation. These scenarios show that even with a limited number of scene elements, a behavior specification requires interpretations that lead to residual uncertainties."}, {"title": "VII. DISCUSSION OF THE SEMANTIC NORM BEHAVIOR ANALYSIS", "content": "In this section, we verify the Semantic Norm Behavior Anal- ysis based on the requirements derived in Section III, and discuss limitations of the presented approach.\nA. REQUIREMENTS-BASED VERIFICATION\nThe Semantic Norm Behavior Analysis entails two fundamen- tal parts. Firstly, knowledge sources that contain potentially conflicting and vague stakeholder needs towards the behavior of an automated vehicle are selected and analyzed. Secondly, the stakeholder needs are consolidated and formalized in a scenario-specific context in order to represent stakeholder requirements towards target behavior. As a result, the Semantic Norm Behavior Analysis satisfies the requirement to account for the needs of relevant stakeholders in the specified behavior (req. 1).\nRequirement 2 specifies that a behavior specification shall be adaptable to shifts in stakeholder needs and implementation limitations. Both were not assessed as part of our limited case study. While the Semantic Norm Behavior Analysis provides a methodology to analyze behavioral needs and formalize facts and rules, interpretations and solutions for conflicting needs can only be formulated by domain-experts (e.g. legal experts). In our case study example, we provided an example of how ambiguous legal guidelines can be interpreted and con- solidated in the context of a pedestrian crossing. For a larger scenario catalog, our assumptions need to be reexamined, and further knowledge sources need to be considered to assess the adaptability of the proposed behavior specification to shifts in stakeholder needs.\nConsolidation of stakeholder requirements results in speci- fied facts and rules. Facts and rules build a set of formal axioms that represent the specified behavior. Automated consistency evaluation by a reasoner supports the iterative refinement of specified behavior in the considered scenarios. Therefore, the ontology-based approach of the Semantic Norm Behavior Analysis satisfies the requirement of a consistent behavior specification in considered scenarios (req. 3).\nThe ontology-based approach proposed in this article relies on two ontologies. The behavior specification ontology spec-"}, {"title": "VIII. CONCLUSION AND FUTURE WORK", "content": "Current safety standards such as ISO 21448 [4] and regu- lations in the European Union [10] indicate that an explicit specification of the intended behavior of an automated vehicle supports the assurance of its safety and compliance with traffic rules. However, neither in normative documents nor in related research, formalized approaches are proposed to support the processes leading to a behavior specification.\nIn this article, we identified necessary research as well as requirements (Section III) that are in part - implicitly raised towards a behavior specification in related work (Section II). Additionally, we proposed terminology (Section IV) to de- scribe some of the key concepts that \u2013 based on our analysis of the related work \u2013 have not yet been adequately defined.\nTo address some of the identified challenges in this article, we introduced the Semantic Norm Behavior Analysis as an ontology-based approach to support a traceable behavior spec- ification in automated driving (Section V). More specifically, we focused on the explicit and formal documentation of assumptions and decisions under specified conditions that are part of a behavior specification.\nWe showed how the Semantic Norm Behavior Analysis provides a means to explicitly specify the intended behavior of an automated vehicle in an example scenario (Section VI). In this example, we showed that the proposed method facilitates the consolidation of behavioral requirements based on parts of the German Road Traffic Regulation. In this context, we introduced facts and rules as key concepts in the behavior specification to capture causalities between the operational environment of an automated vehicle and the specified ma- neuver options. We evaluated the results of the example behavior specification. The key finding in the evaluation was that the ontology-based behavior specification supported the identification of a specification insufficiency under slightly varied conditions in the example scenario.\nFinally, based on the evaluation of the proposed approach, we can formulate challenges for future work. First, while the Semantic Norm Behavior Analysis provides an approach to generate a behavior specification, the integration into a larger system and safety engineering process was not shown in this article. To contribute to SOTIF activities beyond the identification of specification insufficiencies, such an integration is necessary.\nSecond, this article is limited by the considered level of abstraction of specified behavior. We showed an ontology- based approach to explicitly specify behavior in functional scenarios. However, for more detailed SOTIF analyses, be- havior needs to be specified in a logical scenario including parameterized operating conditions [61]. Such analyses are, for example, sensitive to hardware or software design and can uncover specific triggering conditions.\nThird, we confined ourselves to one specific set of sources for the example behavior specification. Mainly, we used parts of the German Road Traffic Regulation. As a result, the kind of stakeholder needs that are represented in the behavior specification is limited. Further sources that can lead to a more adequate representation of stakeholder needs (in Germany) are, for example, court cases, and non-legal sources such as recommendations by the German ethics committee.\nFourth, the examples in this article are limited to a German legal perspective and are based on a minimal set of regulations. Other legal contexts are not analyzed in this article. Thus, the results in this article cannot be simply transferred. To generate a behavior specification at a larger scale, the sensitivity of the specified behavior to differences, for example, in the prevailing law, but also the driving style need to be analyzed."}]}