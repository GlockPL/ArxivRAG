{"title": "An Ontology-based Approach Towards Traceable Behavior Specifications in Automated Driving", "authors": ["NAYEL FABIAN SALEM", "MARCUS NOLTE", "VERONICA HABER", "TILL MENZEL", "HANS STEEGE", "ROBERT GRAUBOHM", "MARKUS MAURER"], "abstract": "Vehicles in public traffic that are equipped with Automated Driving Systems are subject to a number of expectations: Among other aspects, their behavior should be safe, conforming to the rules of the road and provide mobility to their users [1], [2]. This poses challenges for the developers of such systems: Developers are responsible for specifying this behavior, for example, in terms of requirements at system design time. As we will discuss in the article, this specification always involves the need for assumptions and trade-offs. As a result, insufficiencies in such a behavior specification can occur that can potentially lead to unsafe system behavior. In order to support the identification of specification insufficiencies, requirements and respective assumptions need to be made explicit. In this article, we propose the Semantic Norm Behavior Analysis as an ontology-based approach to specify the behavior for an Automated Driving System equipped vehicle. We use ontologies to formally represent specified behavior for a targeted operational environment, and to establish traceability between specified behavior and the addressed stakeholder needs. Furthermore, we illustrate the application of the Semantic Norm Behavior Analysis in two example scenarios and evaluate our results.", "sections": [{"title": "I. INTRODUCTION", "content": "WITH the shift from assisted to automated driving, Automated Driving Systems (SAE Levels 3 and higher [3]) take over full control of the dynamic driving task under specified conditions \u2013 depending on the level of automation. While the responsibility for maneuvering through traffic lies with the human driver in a conventional vehicle (SAE Levels 2 and lower [3]), this responsibility lies with the Automated Driving System in case of an automated vehicle.\u00b9 As a result, developers of Automated Driving Systems need to shift from assuring safe interaction between a driver assistance system and a driver to assuring safe behavior for the interaction between an automated vehicle and its surrounding traffic.\nTo that end, ISO 21448 [4] specifies guidelines for the safety of the intended functionality. This includes the evaluation of potentially hazardous behavior due to the behavior specified in a system's development [4, Clause 10.1]. However, the standard does not define how behavior should be specified.\nA scenario-based approach is suggested in industry standards and reports [4]\u2013[6], research works [7]\u2013[9], and regulatory documents [10] as a means to structure the operational environment of an automated vehicle. Ulbrich et al. define a scenario as \"the temporal development between several scenes in a sequence of scenes. Every scenario starts with an initial scene. Actions & events as well as goals & values may be specified to characterize this temporal development in a"}, {"title": "Salem et al.: An Ontology-based Approach Towards Traceable Behavior Specifications in Automated Driving", "content": "scenario. Other than a scene, a scenario spans a certain amount of time.\" [11, p. 986] In this context, we use the concept of maneuvers to describe the behavior of an agent at the transition between two subsequent scenes in a scenario. According to Jatzkowski et al. (translated by us) a maneuver is defined as: \"a logical abstraction of possible vehicle trajectories. In an automata-theoretic sense, a maneuver represents a discrete state, which is only partially observable from an external perspective. Every maneuver is tied to an intention.\" [12, p. 17] If there is more than one possible maneuver for an actor in a scene, maneuver options specify the transitions from one scene to multiple subsequent scenes. Thus, we define a behavior specification as a consistent set of requirements that specify maneuver options, which an automated vehicle may perform under specified conditions. Scenarios provide a means to structure these operating conditions and can therefore support a behavior specification."}, {"title": "Salem et al.: An Ontology-based Approach Towards Traceable Behavior Specifications in Automated Driving", "content": "For this scenario, we show that developers must decide on reasonable assumptions under specified conditions during the specification of behavior. In contrast to approaches that aim at a general algorithmic solution to these challenges, scenario-based approaches enable an explicit documentation of, for example, the considered operating conditions. To that end, ISO 21448 requires the identification of functional insufficiencies resulting from such assumptions and decisions in order to ensure the safety of the intended functionality. While ISO 21448 (implicitly) requires the identification of insufficiencies in the behavior specification of an automated vehicle, the standard does not provide guidance on how to satisfy this requirement. As decisions and assumptions, which are an inherent part of a behavior specification, can lead to specification insufficiencies, methods are needed to explicitly represent the specified behavior of an automated vehicle.\nIn the context of a scenario-based approach, the process of specifying the behavior of an automated vehicle involves mainly two steps. First, developers need to elicit the expectations and needs of relevant stakeholders with respect to the behavior of an automated vehicle. However, these expectations and needs can be rather vague and ambiguous and have to be specified in formal stakeholder requirements.3 Second, stakeholder (needs and) requirements can be conflicting, especially if they are specified without a precise context. As a result, a consolidation of stakeholder requirements is necessary to obtain a sound behavior specification.\nIn this article, we introduce an ontology-based approach the Semantic Norm Behavior Analysis (SNBA) to facilitate the explicit specification of behavior for automated vehicles. We use scenarios to describe operating conditions and specified behavior in terms of maneuver options that satisfy stakeholder requirements. In the context of a behavior specification, we will show how scenarios can be used to facilitate the specification and consolidation of expected behavior. Additionally, we formalize the specification in ontologies. These ontologies support the human-readable specification with machine-readable formal logic. The representation of"}, {"title": "Salem et al.: An Ontology-based Approach Towards Traceable Behavior Specifications in Automated Driving", "content": "the behavior specification in formal logic enables automated reasoning for consistency of the specification. Finally, we use ontologies to capture the specified behavior \u2013 especially maneuver options \u2013 and the sources that have been used to specify these maneuvers. Such sources are, for example, the traffic code that applies in the targeted operational environment. These sources represent a set of stakeholder needs that are analyzed throughout the behavior specification. With the proposed ontology-based approach, we seek to establish traceability between those needs and the resulting specified behavior.\nIn summary, the contributions that are presented in this article include:\n\u2022 terminology that supports the behavior specification task,\n\u2022 a method for an explicit behavior specification of an automated vehicle, and\n\u2022 representations of a behavior specification to support the communication between domain experts (e.g., regulators, safety engineers, and systems engineers).\nTo provide these contributions, we first elaborate on existing approaches in the literature in Section II. Based on our literature review, we elicit requirements for the behavior specification of automated vehicles (Section III). Additionally, we propose terminology (Section IV) to describe key concepts in a behavior specification. Based on the formulated requirements, we introduce the Semantic Norm Behavior Analysis (Section V). We present our results from a subsequent example application of the method using multiple representations in Section VI. Finally, we discuss contributions and limitations of the proposed method with respect to our elicited requirements (Section VII)."}, {"title": "II. RELATED WORK", "content": "In this section, we review related work in order to motivate the importance of a behavior specification and to highlight open questions based on existing approaches on specifying behavior of automated vehicles.\nSeveral standards and technical reports related to automated driving emphasize, at least implicitly, the importance of formalized behavior specifications.\nISO 21448 [4] requires (among others) to identify insufficiencies of specification that lead to hazardous behavior and cause unreasonable risk. Such insufficiencies can arise in the specification of the intended functionality at the vehicle-level. A vehicle-level specification can include the specification of intended behavior. In this context, ISO 21448 introduces the vehicle-level SOTIF strategy. The vehicle-level SOTIF strategy is defined as a \"set of vehicle-level requirements for the intended functionality used to support design, verification and validation activities to achieve the SOTIF.\" [4] This definition allows for the specification of intended behavior as part of the vehicle-level SOTIF strategy. In combination with ISO 21448 requirements on traceability, a formalized process for the specification of intended behavior is required to support SOTIF activities. However, ISO 21448 does not provide guidance on"}, {"title": "Salem et al.: An Ontology-based Approach Towards Traceable Behavior Specifications in Automated Driving", "content": "how to specify vehicle-level requirements for the intended behavior.\nISO/TR 4804 [6] states that the safety of an Automated Driving System can be addressed by \"designing scenario-based system behaviours\" [6, p. 19]. To that end, ISO/TR 4804 follows ISO 21448 (ISO/PAS 21448 at the time) and highlights the importance of analytical approaches to ensure system safety. An application of scenario-based system behaviors for the identification of hazardous events was, for example, shown in [14]. Additionally, the authors of the ISO/TR 4804 highlight challenges, especially regarding the role of traffic rules. While some traffic rules may be directly applicable to multiple driving contexts (such as the meaning of a STOP-sign) other rules could require interpretation by the developers [6, Clause 5.3.2.10]. As a result, there is a need for methods that must also support the documentation of scenario-based interpretations of traffic rules.\nIEEE Std 2846-2022 [15] provides a minimum set of assumptions that shall be considered by safety-related models. The standard highlights the importance of explicit assumptions in the design of safety-related models for automated vehicles and applies these assumptions at a behavioral level rather than focusing on specific functions. However, IEEE Std 2846-2022 is explicitly limited to a minimum set of kinematics-based assumptions and mentions the need for further refinement by regulators or manufacturers. For example, it is left open how the specification of an operational design domain and the intended behavior of an automated vehicle influence the necessary assumptions that are described in IEEE Std 2846-2022.\nFrom an academic research perspective, there are multiple publications related to the behavior specification of automated vehicles.\nLacking the availability of ISO 21448, Reschka [16] de-scribes a process to compile an item definition for an auto-mated vehicle based on requirements from ISO 26262 [17]. In his proposal, Reschka [16] mentions the importance of explicitly specifying behavior to identify necessary capabilities of the automated vehicle. While Reschka provides initial guidelines, the described specification process requires further formalization, for example to identify inconsistencies of a behavior specification in a set of scenarios.\nMeyer et al. [18] focus on utilizing techniques from the domain of model-based systems engineering (MBSE) for a SOTIF-compliant design of automated driving functions. In their work, Meyer et al. [18] propose to first model the expected behavior in the operational environment before the derivation of sub-system requirements. In order to model expected behavior, the authors follow a scenario-based de-velopment paradigm. Meyer et al. claim full traceability between scenarios and system requirements. However, the causal relations between scenario-specific context elements to internal and external behavior are not explicitly described. Additionally, the expressiveness of the maneuver concept used by Meyer et al. depends on the respective block definition"}, {"title": "Salem et al.: An Ontology-based Approach Towards Traceable Behavior Specifications in Automated Driving", "content": "diagrams that are mentioned but not presented. Hence, the expressiveness of the maneuver concept in [18] is limited.\nTo support the explicitness and consistency of behavior specifications, Irvine et al. [19] propose an intermediate rep-resentation in the specification process. The authors present a structured language for expressing the rules of the road. While such a semi-formal natural language facilitates traceability of concepts to their natural language sources (i.e., stakeholder needs), the behavior specification can be further supported by formal machine-readable representations [19].\nIn the context of scenario generation, Bagschik et al. [8], [20], [21] present a knowledge-based approach. The approach uses ontologies to create sequences of scenes (i.e. scenarios) based on possible maneuver options of the modeled agents. As a result, some of the generated scenarios can be discarded as part of system design and development. For example, there are maneuver options of an ego-vehicle that are logically possible but would be a deliberate violation of traffic rules. To that end, Da Costa et al. [22] propose an ontology-based approach to generate (test) scenarios based on formal rules in order to constrain the scenario generation task. As the formal rules are based on legal sources, Da Costa et al. point out that interpretation of such sources needs a formalized approach.\nIn addition to the related work with a systems engineering perspective on behavior specifications, there are proposals of formal behavior models in the literature. Rizaldi et al. [23], [24], Nikol et al. [25], Maierhofer et al. [26], and Westhofen et al. [27] propose a direct translation of the German Road Traffic Regulation into formal logic (i.e., higher-order logic and temporal logic). These approaches apply techniques from computational law to the domain of automated driving. Genesereth defines that \u201cComputational Law is the branch of legal informatics concerned with the automation of legal reasoning.\" [28] However, the validity of such approaches can be questioned from a legal perspective (cf. [29], [30] for legal perspectives written in German).\nFrom a safety engineering perspective, such approaches can be criticized as well. The direct translation of (intentionally vague) natural language traffic rules into mathematical expres-sions involves both qualitative and quantitative assumptions. These assumptions are implicitly encoded in the resulting formal specification and are highly dependent on the consid-ered scenarios. Therefore, a directly generated formal rule catalog lacks traceability to the underlying assumptions in the specification. Such a missing traceability of the specification is especially challenging in the context of showing compliance with ISO 21448 [4] as traceability of the specification and design is explicitly required by the standard [4, Clause 5.3].\nTo account for the challenge of full compliance with a formal set of rules in an open context, Censi et al. [31] propose the rulebooks formalism. Such pre-ordered sets of rules are supposed to include behavioral needs (legal, ethical, and cultural) in a behavior specification. Each rule is assigned with a violation metric which is used to assess compliance of a planned behavior with the rules. Finally, the planned behavior that is the least conflicting with the violation metrics"}, {"title": "Salem et al.: An Ontology-based Approach Towards Traceable Behavior Specifications in Automated Driving", "content": "and the specified hierarchy of rules is considered \"optimal\" with respect to the rulebook. While Censi et al. [31] explicitly exclude the runtime aspect of efficient motion planning with rulebooks, the authors do not mention how a rulebook can be selected depending on the situation. This leads to the question, whether one rulebook can be formulated that gen-eralizes for a set of scenarios. This challenge is subsequently addressed in [32] with an introduction of a situation-aware rulebook. However, both, the definition of any rulebook, and the situation-dependent selection of a rulebook depend on context-specific assumptions on appropriate rule hierarchies. As a result, rulebooks account for hierarchies in the behavior specification at runtime, but require explicit documentation at design time.\nIn scenario-based approaches, the performance of an au-tomated vehicle is assessed based on its behavior in a set of scenarios. In order to formally describe behavior at an implementation-agnostic level, the Phenomenon-Signal Model (PSM) is introduced by Beck et al. [33], [34]. It captures causal relations from operating conditions in a scenario to specified facts. Beck et al. [33], [34] propose a formalism that enables the inference of such causal relations based on stimuli from a scene (as defined by Ulbrich et al. [11]) and a set of scenario-specific rules. However, the Phenomenon-Signal Model does not provide guidelines on how to specify facts and rules in a traceable way, based on stakeholder needs that finally lead to the specified maneuver options.\nIn this section, we reviewed literature related to the task of generating a behavior specification for an automated vehicle. These publications either highlight the importance of specifying behavior, provide general guidelines, or raise implicit requirements for approaches to compile a behavior specification. In summary, we found that there is a need for methods that support the explicit documentation of context-specific assumptions and decisions that are made in the behavior specification of an automated vehicle."}, {"title": "III. REQUIREMENTS ELICITATION", "content": "Based on our review of related work, we derive requirements for a behavior specification of an automated vehicle. More specifically, the elicitation of requirements focuses on the research gap of how a behavior specification can explicitly include context-specific assumptions and decisions. The re-quirements also provide the basis for our evaluation of the Semantic Norm Behavior Analysis in Section VII. As we focus on the aspect of traceability in this article, these requirements are not exhaustive to cover the entire task of creating a behavior specification for an automated vehicle.\nCensi et al. [31] describe the challenge of creating a behavior specification as \u201cdefining what the car is supposed to do\". However, there are different perspectives from multiple stakeholders on what should be considered for the definition of compliant behavior. Hence, we deem elicited stakeholder needs as a key source of a behavior specification."}, {"title": "Salem et al.: An Ontology-based Approach Towards Traceable Behavior Specifications in Automated Driving", "content": "Requirement 1. A behavior specification shall be explicitly derived from the needs of relevant stakeholders.\nIn order to integrate the behavior specification in a development process for an automated vehicle, the specification needs to account for adaptions of the identified needs and specified requirements. Censi et al. [31] argue that, additionally, implementation limitations need to be considered for a specification of the intended behavior.\nRequirement 2. A behavior specification shall be adaptable to shifts in stakeholder needs and implementation limitations.\nWhile a behavior specification shall account for the needs of relevant stakeholders, these needs can be expected to include conflicts and may require interpretations depending on the context. As a result, maintaining consistency within the spec-ification becomes a major challenge, but also a requirement (also formulated by Butz et al. [35]).\nRequirement 3. A behavior specification shall be a consis-tent representation of stakeholder requirements regarding the intended behavior in all considered scenarios.\nBehavior is specified with respect to a set of operating con-ditions. In order to generate a consistent behavior specification, the description of these operating conditions needs to be con-sistent as well. Glatzki et al. [36] define the concept of atomic behavior spaces as \u201ca segment of the road network within which the behavioral attributes do not change.\u201d Similarly, Butz et al. [35] describe zone graphs as an abstraction of the scenery. Both approaches model the operational environment such that behavioral constraints [36] or even the intended behavior [35] can be specified on a consistent basis.\nRequirement 4. A behavior specification shall refer to a consistent representation of the operational environment.\nFurthermore, Glatzki et al. [36], [37] formulate behavioral attributes that must be included in a scenery description. To reduce the complexity of the behavioral requirements, they rely on the scenery as a commonalty between multiple scenarios. However, the authors, for example, do not include the behavior of other traffic agents in their approach. We understand that the reason to specify behavioral attributes in a scenery is to capture behavioral constraints that apply across multiple scenarios. As a result, we formulate a more general requirement for a behavior specification.\nRequirement 5. A behavior specification shall only contain information from the scenario description that influences the behavioral requirements.\nReschka [16] outlines a possible utilization of the behavior specification for the identification of necessary capabilities in the development process of an automated vehicle. A compa-rable concept is introduced by Nowakowski et al. [38], [39] with behavioral competency. \u201cBehavioral competency refers to the ability of an AV [(automated vehicle)] to operate in the traffic conditions that it will regularly encounter [...].\u201d The"}, {"title": "Salem et al.: An Ontology-based Approach Towards Traceable Behavior Specifications in Automated Driving", "content": "automotive industry has adopted the concepts of behavioral competency [40], [41] and capability [6], especially as a way to implement safety-by-design practices. While some capabilities focus on, for example, technical aspects such as detect[ing] when degradation is not available [6], other capabilities are directly linked to the behavior of an automated vehicle, such as creat[ing] a collision-free and lawful driving plan. Thus, consistency of specified capabilities that presume certain behaviors and the behavior specification itself needs to be maintained.\nRequirement 6. A behavior specification shall facilitate the identification of necessary capabilities (or behavioral competencies) of an Automated Driving System.\nIn addition to the specification of intended behavior itself, the transition to the design of the technical systems that compose the automated vehicle also needs to be considered. ISO 21448 [4] introduces the vehicle-level SOTIF strategy that should specify the driving policy. Such a specification can \"influence the design of all the building blocks of an ADS-equipped vehicle\" [4, p. 159]. Therefore, a vehicle-level SOTIF strategy needs to specify a driving policy that does not presume a specific technical solution for the implementation of the specified behavior.\nRequirement 7. A behavior specification shall specify behavior independently of the technical solution.\nIn the rulebooks approach, Censi et al. [31] elaborate that a goal of their behavior specification is to assess different results from a behavior planner with respect to a predefined set of criteria (i.e. rules). Therefore, a behavior specification should not predefine a single compliant behavior, but instead should facilitate the comparison of multiple behaviors. In addition to this application in runtime monitoring, we identified a need for a behavior specification to support SOTIF activities. As a result, we derive a more general requirement as some behavior (both generated by a planner or observed, e.g. in a test case) needs to be evaluated with respect to its compliance with the behavior specification [4, Clause 10.1].\nRequirement 8. A behavior specification shall provide crite-ria and requirements for the assessment of multiple maneuver options.\nWithin a behavior specification for automated driving, stakeholder requirements formulate the intended behavior of an automated vehicle under a set of operating conditions. The intended behavior can be specified at different levels of abstraction. As a result, some approaches utilize abstract behavioral descriptions at runtime [42], [43], others highlight the importance of an abstract behavior specification for the design of automated vehicles [35], [44]. While a high level of abstraction is beneficial in early phases of the safety lifecycle to support SOTIF activities, some activities (e.g. testing specific sensor effects) require a more detailed description of scenarios [9] including the respective behaviors. As a result, the level of abstraction in a behavior specification is"}, {"title": "Salem et al.: An Ontology-based Approach Towards Traceable Behavior Specifications in Automated Driving", "content": "determined based on a trade-off between handling complexity and providing implementation details.\nRequirement 9. A behavior specification shall support a specification of intended behavior on multiple levels of abstraction.\nFinally, this work is inspired by the Phenomenon-Signal Model. Hence, we define a constraint for our ontology-based approach towards behavior specification. Beck et al. [33] introduce the concepts of facts and rules to formally represent maneuver options based on stimuli from the operational environment. In our literature review, we identified facts and rules as a means to support the traceability of a behavior specification from representations in natural language to machine-readable formats. Therefore, facts and rules are important concepts in our proposed ontology."}, {"title": "IV. TERMINOLOGY", "content": "In this section, we compile the terms and definitions that build the foundation of our contribution.\nSince our focus is the specification of behavior for auto-mated driving, we need to define the term behavior. How-ever, there are multiple definitions of behavior. According to Avi\u017eienis et al. [45] behavior is defined as \"what the system does [...] and described by a sequence of states\" [45]. Additionally, Arkin defines behavior from the perspective of behavior-based robotics: \u201cBehavior, simply put, is a reaction to a stimulus.\" [46, p. 66] These definitions have in common that they both refer to the behavior that is externally observable. Arkin extends this understanding by also considering the stimuli from the operational environment that lead to a specific response as part of a system's behavior. Thus, in the context of safety engineering, Nolte et al. [47] elaborate that a nuanced distinction between internal and external behavior (cf. [45]) is necessary. We adopt this way of thinking about behavior in order to support the explicit specification of interactions between an automated vehicle and its environment.\nAs our approach follows the scenario-based development paradigm, there is a strong dependency on the term scenario. Ulbrich et al. [11] define a scenario as \"[...] the temporal development between several scenes in a sequence of scenes. Every scenario starts with an initial scene. Actions & events as well as goals & values may be specified to characterize this temporal development in a scenario. Other than a scene, a scenario spans a certain amount of time.\" Additionally, a scenario-based development paradigm enables engineers to refine the behavior specification on different levels of abstraction. Menzel et al. [9] propose functional, logical and concrete scenarios to account for increasing maturity of the development process from the concept phase to verification and validation activities. Similarly, we consider the behavior specification to have multiple degrees of abstraction [19].\nIn the context of automated driving, the concepts tar-get operational domain and operational design domain are important to capture operating conditions of an automated vehicle. However, both concepts focus on different aspects."}, {"title": "Salem et al.: An Ontology-based Approach Towards Traceable Behavior Specifications in Automated Driving", "content": "According to ISO 34503 [5] the target operational domain is composed by the \"set of operating conditions in which an ADS will be expected to operate\". In contrast, the operational design domain is defined as \"operating conditions under which a given driving automation system or feature thereof is specifically designed to function [...]\" [3]. Therefore, the specification of an operational design domain requires details from system design whereas the target operational domain focuses on the context an automated vehicle is deployed in. Since we already specified the importance of solution-independence of a behavior specification in Requirement 7, the term target operational domain provides an important reference.\nThe terms stakeholder needs and stakeholder requirements are frequently used in the systems engineering standard ISO/IEC/IEEE 15288 [48]. However, no formal definition is provided. Faisandier et al. [49] describe the goal of stakeholder needs and requirements definition activities as the elicitation of clear and concise needs, which is followed by a transfor-mation into consolidated and verifiable stakeholder require-ments. Stakeholder needs may contain vague and ambiguous statements. In contrast, stakeholder requirements are more \"engineering-oriented\u201d [49] (i.e. formulated in requirements-specific language) to enable a proper system definition. We adopt this description of stakeholder needs and requirements. In the context of behavior specification, we specify behavior with a consistent set of stakeholder requirements. We refer to such requirements as behavior-related stakeholder require-ments or behavioral requirements.\nFinally, the term ontology needs to be specified. The term ontology has different definitions depending on the application domain. We refer to ontologies as defined by Gruber [50] in the domain of computer science. \u201cA common ontology defines the vocabulary with which queries and assertions are exchanged among agents.\u201d [50] Therefore, we focus on the communicative aspect of an ontology as a common and formally expressed set of terms in a knowledge base.\nGiven the introduction of foundational terms we introduce our proposed terminology. To account for the complexity of an automated vehicle's operational environment and for the heterogeneity of stakeholder needs we define the term norm behavior:\nSpecification of the (internal and external) behavior an actor shall exhibit in a scenario-overarching context resulting from legal, societal, and ethical needs.\nIn Figure 2 norm behavior is defined as a subset of stakeholder needs with two main characteristics. First, norm behavior may include conflicting needs towards a vehicle's behavior that require consolidation. Second, norm behavior may be specified without referring to a consistent set of operating conditions that are described in a scenario (i.e. norm behavior is scenario-overarching).\nTo satisfy the requirements, which we elicited in Section III, the concept of norm behavior is necessary but not suffi-cient. The documentation of assumptions and decisions that"}, {"title": "Salem et al.: An Ontology-based Approach Towards Traceable Behavior Specifications in Automated Driving", "content": "are necessary to design an automated vehicle requires the consolidation (and interpretation) of potentially conflicting stakeholder needs. In the context of a behavior specification, we propose to use scenarios as a common ground for such a consolidation process. We introduce the term target behavior to capture consolidated stakeholder requirements with respect to the behavior of an automated vehicle:\nSpecification of the (internal and external) behavior an actor shall exhibit in a scenario-specific context based on the specified norm behavior.\nAccording to Faisandier et al. [49] stakeholder requirements can be characterized by properties of clarity and conciseness. Hence, target behavior is defined as a subset of stakeholder requirements in Figure 2 and is characterized by being consolidated and scenario-specific."}, {"title": "V. ONTOLOGY-BASED APPROACH TOWARDS BEHAVIOR SPECIFICATION", "content": "In the previous sections, we argued that an explicit behavior specification can significantly contribute to the development of automated vehicles \u2013 especially in the context of SOTIF. First, we outlined the challenge for developers to address conflicting"}, {"title": "Salem et al.: An Ontology-based Approach Towards Traceable Behavior Specifications in Automated Driving", "content": "stakeholder needs with respect to a system's behavior. Second, we argued that ISO 21448 implicitly requires a specification of behavior to identify specification insufficiencies and to support the vehicle-level SOTIF strategy.\nIn this section we introduce the Semantic Norm Behavior Analysis. The method provides an ontology-based and thus formalized approach to specify target behavior. Figure 3 shows the key activities and artifacts of the Semantic Norm Behavior Analysis. We elaborate on each activity throughout this section. In subsection V-A we give an overview of the activities and artifacts that are part of the Semantic Norm Behavior Analysis. Subsequently, we specify these activities in more detail in subsection V-B, V-C, and V-D.\nA. OVERVIEW OF THE SEMANTIC NORM BEHAVIOR ANALYSIS\nThe Semantic Norm Behavior Analysis is designed to ex-plicitly consider behavior-related stakeholder needs during behavior specification. These needs are often captured in laws, ethical guidelines or other documents. We refer to such documents as knowledge sources for norm behavior. At first, knowledge sources need to be defined and analyzed (Step 1 in Figure 3). These sources can contain both, knowledge about norm behavior and knowledge about domain-specific methods for the interpretation of norm behavior. For example, we will consider the German Road Traffic Regulation as a source of stakeholder needs for norm behavior. As the traffic code contains ambiguous statements, we use knowledge about legal analyses to give an example interpretation of the traffic code.\nThis step of the Semantic Norm Behavior Analysis builds the foundation of the behavior specification as it supports the elicitation of stakeholder needs regarding the behavior of an automated vehicle.\nIn Step 2a (Figure 3) the specified behavioral requirements are formalized in ontologies. First and foremost, one ontology contains the operating conditions for which maneuver options need to be specified. Relevant entities are, for example, lanes, lane markings, and traffic signs. A second ontology formalizes expert knowledge in the behavioral requirements. Mainly, this ontology contains the causalities between a set of operating conditions and the specified maneuver options. Both ontologies provide a consistent description logic model that specifies the intended behavior in a scenario.\nAs the reasoning capabilities of a description logic model are limited, we use logic programming rules to supplement the ontologies (Step 2b in Figure 3). Both activities (modeling entities and relations, and the formalization of rules) build an iterative process.\nStep 3 (Figure 3) includes the verification of the specified behavior. In this context, the ontologies and rules build a set of formal axioms that are evaluated regarding their consistency. The set of axioms is consistent, if description logic and logic programming rules can be applied to the ontologies without logical errors. However, a proof of logical consistency is not sufficient to claim validity of the specified behavior. A validation step is required to show that the specified behavior"}, {"title": "Salem et al.: An Ontology-based Approach Towards Traceable Behavior Specifications in Automated Driving", "content": "complies with the considered stakeholder needs. As stakeholder needs can be formalized only partially, this validation step requires an expert-based evaluation. These experts, for example, need to assess legal compliance of a maneuver, if the traffic code is defined as one of the knowledge sources of stakeholder needs.\nFinally, there are two key results that are generated with an application of the Semantic Norm Behavior Analysis. First, an ontology is generated that formally specifies target behavior for a set of scenarios. Second, the Semantic Norm Behavior Analysis requires the documentation of the rationale for why and how the specified behavior satisfies the considered stakeholder needs. In summary, such an ontology-based behavior specification contains both norm behavior and target behavior.\nB. ANALYSIS OF NORM BEHAVIOR FROM A LEGAL PERSPECTIVE\nIn Step 1 (Figure 3) of the Semantic Norm Behavior Analysis, knowledge sources are determined that represent relevant stakeholder needs. These needs are formulated from multiple perspectives. However, an analysis of stakeholder needs highly depends on the domain of the experts that conduct the analysis. For example, a behavior specification based on laws and regulations requires different knowledge than a specification based on local driving styles. As the development of automated vehicles is of great legal importance, we focus on the application of our method from a legal perspective in this article.\nIn Germany, the Road Traffic Act (StVG4) and the Road Traffic Regulation (StVO) provide important examples of normative legal sources for a behavior specification. Compli-"}, {"title": "Salem et al.: An Ontology-based Approach Towards Traceable Behavior Specifications in Automated Driving", "content": "ance with these documents is necessary in Germany, as the granting of type approval (in the European Union) depends on compliance of an automated vehicle's behavior with the local traffic rules. This also has direct liability implications for the car manufacturer because both, the German producer liability in accordance with Section 823 (1) of the German Civil Code (BGB), and the harmonized European Product Liability Directive, which was implemented in Germany in the Product Liability Act, refer to the design defect. Such a defect is deemed to exist if an average user cannot use the vehicle safely in accordance with its intended purpose. This justified safety expectations must be taken into account [51]. However, compliance with these legal documents is not straightforward as they require interpretation and the additional consideration of, for example, legal cases. Traceability of the behavior specification thus also takes on considerable importance in the context of product liability.\nTo that end, we use the German Road Traffic Act and the German Road Traffic Regulation (s. knowledge about facts and rules in Figure 3) as knowledge sources that potentially contain norm behavior. As these sources for norm behavior may require interpretation, knowledge sources to support such an interpretation are needed (s. knowledge about semantic formalization in Figure 3). For the German Road Traffic Regu-lation, national jurisprudential literature, such as monographs, papers, or Article-by-Article Commentary should be used in the context of interpretation. Court cases are of special interest as they provide both norm behavior and an indication of how the law (e.g., the StVO) can be interpreted.\nIn our example analysis in Section VI we use domain-specific methods elaborated in [52], [53]. The consequences of this limitation are discussed in subsection VII-B. Primarily, we intend to illustrate, how legal knowledge can be integrated"}, {"title": "Salem et al.: An Ontology-based Approach Towards Traceable Behavior Specifications in Automated Driving", "content": "as part of the Semantic Norm Behavior Analysis. The process of a legal assessment of a case which in our case is described by a scenario \u2013 is typically structured into four steps [52", "52": "."}]}