{"title": "Verifying Proportionality in Temporal Voting", "authors": ["Edith Elkind", "Svetlana Obraztsova", "Jannik Peters", "Nicholas Teh"], "abstract": "We study a model of temporal voting where there is a fixed time horizon, and at each round the voters report their preferences over the available candidates and a single candidate is selected. Prior work has adapted popular notions of justified representation as well as voting rules that provide strong representation guarantees from the multiwinner election setting to this model. In our work, we focus on the complexity of verifying whether a given outcome offers proportional representation. We show that in the temporal setting verification is strictly harder than in multiwinner voting, but identify natural special cases that enable efficient algorithms.", "sections": [{"title": "Introduction", "content": "Consider a large corporation that has decided to improve its public image and to give back to the society by engaging in corporate philanthropy over the next decade. They will commit a small fraction of their profits towards supporting the efforts of a single charitable organization, to be selected on an annual basis. The management of this corporation decides to ask its customers, staff, and shareholders for input as to which charity organization it should select each year. Furthermore, the charity selected is of strategic importance-it would directly impact the company's corporate image and hence profitability. As such, it is important for the company to ensure that the selection is representative of what its customers, staff, and shareholders care about and that it would create maximum impact for the charity organization they choose to support.\nIt is natural to view this problem through the lens of multiwinner voting (Faliszewski et al. 2017; Elkind et al. 2017; Lackner and Skowron 2023): indeed, the corporation's goal is to select a fixed-size subset of candidates (in this case, charities) while respecting the preferences of agents (in this case, the customers, staff, and shareholders). In this context, several notions of representation and fairness have been proposed over the past decade, spanning across proportional representation (Elkind et al. 2017; Aziz and Lee 2020), diversity (Bredereck et al. 2018; Celis, Huang, and Vishnoi 2018), and excellence, amongst others (Lackner and Skowron 2023). Perhaps the most prominent among these is the concept of justified representation (JR) and its variants (such as proportional justified representation (PJR) and extended justified representation (EJR)), which aim to capture the idea that large cohesive groups of voters should be fairly represented in the final outcome (Aziz et al. 2017; S\u00e1nchez-Fern\u00e1ndez et al. 2017; Aziz et al. 2018; Peters, Pierczy\u0144ski, and Skowron 2021; Brill and Peters 2023).\nHowever, the existing notions of fairness do not fully capture the complexity of our setting: traditional multiwinner voting models consider decisions made in a single round, with the entire set of candidates to fund (or candidates) being chosen simultaneously. In contrast, in our model the decisions are made over time, voters' preferences may evolve, and a candidate may be chosen multiple times. This calls for adapting the JR axioms to the temporal setting.\nTemporal considerations in the multiwinner voting setting have been studied recently, most notably in the line of work known as perpetual voting (Lackner 2020; Lackner and Maly 2023) or temporal voting (Elkind, Neoh, and Teh 2024; Zech et al. 2024), and have broad real-world applications (see the recent survey by Elkind et al. (2024)). In particular, Bulteau et al. (2021) and, subsequently, Chandak et al. (2024) defined temporal analogues of the justified representation axioms and investigated whether existing multiwinner rules with strong axiomatic properties can be adapted to the temporal setting so as to satisfy the new axioms."}, {"title": "1.1 Our Contributions", "content": "We build upon the works of Bulteau et al. (2021) and Chandak et al. (2024), and focus on the complexity of verifying whether a given solution satisfies justified representation axioms. This task is important if, e.g., the outcome is fully or partially determined by external considerations, so explicitly using an algorithm to obtain an outcome with strong representation guarantees is not feasible, but representation remains an important concern. In multiwinner voting setting, the verification problem is known to be coNP-hard for PJR and EJR, but polynomial-time solvable for JR. We argue that the existing complexity results do not automatically transfer from the multiwinner setting to the temporal setting. However, we develop new proofs specifically tailored to the temporal setting, and show that in temporal elections all three properties are coNP-hard to verify, even under strong constraints on the structure of the input instance. Our complex-"}, {"title": "2 Preliminaries", "content": "We start by introducing the basic model of multiwinner voting with approval ballots. A multiwinner approval election is given by a set of candidates P, a set of voters N, a list of approval sets $(S_i)_{i \\in N}$, where $s_i \\subseteq P$ for each $i \\in N$, and an integer k; the goal is to select a committee, i.e., a size-k subset of P. There is a large body of research on axioms and voting rules for this model (Lackner and Skowron 2023).\nIn this work, we consider temporal voting with approval ballots, as defined by Bulteau et al. (2021) and Chandak et al. (2024). A temporal election is a tuple $(P, N, l, (S_i)_{i \\in N})$, where $N = \\{1, ..., n\\}$ is a set of voters, $P = \\{p_1,...,p_m\\}$ is a set of m candidates, l is the number of rounds, and, for each $i \\in N$, $S_i = (S_{i,1}, S_{i,2},..., S_{i,l})$, where $s_{i,t} \\subseteq P$ is the approval set of voter i in round t, which consists of candidates that i approves in round t. We refer to $S_i$ as i's temporal preference; for brevity, we will sometimes omit the term \"temporal\". An outcome of a temporal election $(P, N, l, (s_i)_{i \\in N})$ is a sequence $o = (o_1,..., o_\\ell)$ of $l$ candidates such that for every $t \\in [l]$ candidate $o_t \\in P$ is chosen in round t. A candidate may be selected multiple times, i.e., it may be the case that $O_t = O_{t'}$ for $t \\neq t'$. A voter i's satisfaction from an outcome o is computed as $sat_i(o) = |\\{t \\in [l] : O_t \\in S_{i,t}\\}|$.\nAn important concern in the multiwinner setting is group fairness, i.e., making sure that large groups of voters with similar preferences are represented by the selected committee. The most well-studied group fairness axioms are (in increasing order of strength) justified representation (JR) (Aziz et al. 2017), proportional justified representation (PJR) (S\u00e1nchez-Fern\u00e1ndez et al. 2017), and extended justified representation (EJR) (Aziz et al. 2017). We will now formulate these axioms, as well as their extensions to the temporal setting; for the latter, we follow the terminology of Chandak et al. (2024). Definition 2.1 may appear syntactically different from the standard definitions of these notions, but it can easily be shown to be equivalent to them; further, it has the advantage of being easily extensible to the temporal setting.\nDefinition 2.1. For a multiwinner election $(P, N, (S_i)_{i \\in N}, k)$ and a group of voters $N' \\subseteq N$, we define the demand of $N'$ as\n$\\alpha^{mw}(N') = \\min\\{\\beta^{mw}(N'), \\gamma^{mw}(N')\\}$, where\n$\\beta^{mw}(N') = | \\bigcap_{i \\in N'} S_i |$ and $\\gamma^{mw}(N') = \\frac{k|N'|}{n}$.\nA committee $W \\subseteq P$ provides justified representation (JR) if for every $N' \\subseteq N$ with $\\alpha^{mw}(N') > 0$ there is an $i \\in N'$ such that $|s_i \\cap W| > 0$; it provides proportional justified representation (PJR) if for every $N' \\subseteq N$ we have $|(\\cup_{i \\in N'}S_i) \\cap W| \\geq \\alpha^{mw}(N')$, and it provides extended justified representation (EJR) if for every $N' \\subseteq N$ there is an $i \\in N'$ such that $| s_i \\cap W| \\geq \\alpha^{mw}(N')$."}, {"title": "3 Hardness Proofs", "content": "In multiwinner elections, outcomes that provide EJR (and thus JR and PJR) can be computed in polynomial time (Aziz"}, {"title": "4 Tractability Results for |P| = 2", "content": "The hardness results in Theorems 3.1 and 3.2 hold even if the number of candidates |P| is small (3 for w-JR/w-PJR and 2 for w-EJR/JR/PJR/EJR). Now, for |P| = 1 verification is clearly easy: there is only one possible outcome, and for any group of voters N' this outcome provides satisfaction of at least $\\beta(N') \\geq \\alpha(N')$ to all voters in N'. To complete the complexity classification with respect to |P|, it remains to consider the complexity of verifying w-JR/w-PJR when |P| = 2.\nProposition 4.1. Given an election $(P, N, l, (s_i)_{i \\in N})$ with |P| = 2 and an outcome o, we can check in polynomial time whether o provides w-JR.\nProof. Assume that P = {p, q}. Suppose that a group of voters N' witnesses that o fails to provide w-JR. Then $sat_i(o) = 0$ for each i \u2208 N', but \u03b2(N') = l.\nWe say that a voter i is grumpy if in each round t she approves a single candidate, and this candidate is not ot, i.e., $|S_{i,t} = 1$ and $o_t \\notin s_{i,t}$ for all t \u2208 [l]. Let G be the set of all grumpy voters, and note that \u03b2(G) = l: in each round t, all grumpy voters approve the (unique) candidate in P \\ {ot}."}, {"title": "5 Parameterized Complexity", "content": "We have seen that the verification problem becomes easier if the size of the candidate set m = |P| is very small. We will now consider other natural parameters of our problem, such as the number of voters n and the number of rounds l, and explore the complexity of the verification problem with respect to there parameters.\nProposition 5.1. For each $X \\in \\{(w-)JR, (w-)PJR, (w-)EJR\\}$, checking if an outcome provides X is FPT with respect to n."}, {"title": "6 Monotonic Preferences", "content": "Since the problem of checking whether an outcome provides (w-)JR, (w-)PJR, or (w-)EJR is intractable in general, it is natural to seek a restriction on voters' preferences that may yield positive results. In particular, a natural restriction in this context is monotonicity: once a voter approves a candidate, she continues to approve it in subsequent rounds. Formally, we will say that an election $(P, N, l, (S_i)_{i \\in N})$ is monotonic if for any two rounds t,t' \u2208 [l] with t < t', each p\u2208 P and each i \u2208 N it holds that $p \\in S_{i,t}$ implies $p \\in s_{i,t'}$. Monotonic elections occur if, e.g., candidates join the candidate pool over time, but never leave, and the voters' preferences over the available candidates do not change. Such preferences can also arise in settings where the candidates improve over time: e.g., job candidates become more experienced. By reversing the time line, this can also model candidates that deteriorate over time (e.g., planning family meals from available ingredients).\nWe first note that verifying weak JR/PJR/EJR in monotonic elections is easy.\nTheorem 6.1. Given a monotonic election $(P, N, l, (S_i)_{i \\in N})$ togther with an outcome o, for each of $X \\in \\{w-JR, w-PJR, w-EJR\\}$ we can decide in polynomial time whether o provides X.\nFor strong notions of justified representation, we also obtain easiness-of-verification results, though the proof requires an additional level of complexity.\nTheorem 6.2. Given a monotonic election $(P, N, l, (S_i)_{i \\in N})$ together with an outcome o, for each of $X \\in \\{JR, PJR, EJR\\}$ we can decide in polynomial time whether o provides X."}, {"title": "7 Finding EJR Outcomes", "content": "So far, we focused on checking whether an outcome provides a representation guarantee. We will now switch gears, and explore the problem of finding a fair outcome.\nChandak et al. (2024) show that every temporal election admits an outcome that provides EJR, by adapting the PAV rule (Thiele 1895) and its local search variant ls-PAV (Aziz et al. 2018) from the multiwinner setting to the temporal setting; the local search-based approach results in a rule that is polynomial-time computable. However, they leave it as an open question whether another prominent voting rule, namely, the Greedy Cohesive Rule (GCR) (Bredereck et al. 2019; Peters, Pierczy\u0144ski, and Skowron 2021) can be adapted to the temporal setting so as to provide EJR.\nBulteau et al. (2021) describe an algorithm that is similar in spirit to GCR and constructs a PJR outcome; however, unlike GCR, the algorithm of Bulteau et al. (2021) proceeds in two stages. We will now describe a two-stage procedure that is inspired by the algorithm of Bulteau et al. (but differs from it) and always finds EJR outcomes."}, {"title": "7.1 Greedy Cohesive Rule Provides EJR", "content": "Chandak et al. (2024) show that every temporal election admits an outcome that provides EJR, by adapting the PAV rule (Thiele 1895) and its local search variant ls-PAV (Aziz et al. 2018) from the multiwinner setting to the temporal setting; the local search-based approach results in a rule that is polynomial-time computable. However, they leave it as an open question whether another prominent voting rule, namely, the Greedy Cohesive Rule (GCR) (Bredereck et al. 2019; Peters, Pierczy\u0144ski, and Skowron 2021) can be adapted to the temporal setting so as to provide EJR.\nBulteau et al. (2021) describe an algorithm that is similar in spirit to GCR and constructs a PJR outcome; however, unlike GCR, the algorithm of Bulteau et al. (2021) proceeds in two stages. We will now describe a two-stage procedure that is inspired by the algorithm of Bulteau et al. (but differs from it) and always finds EJR outcomes."}, {"title": "7.2 An ILP For Finding EJR Outcomes", "content": "We will now describe an algorithm for finding EJR outcomes that is based on integer linear programming (ILP). While this algorithm does not run in polynomial time, it is very flexible: e.g., we can easily modify it so as to find an EJR outcome that maximizes the utilitarian social welfare, or provides satisfaction guarantees to individual voters.\nTheorem 7.2. There exists an integer linear program (ILP) whose solutions correspond to outcomes that provide EJR; the number of variables and the number of constraints of this ILP are bounded by a function of the number of voters n.\nThe following corollary illustrates the power of the ILP-based approach.\nCorollary 7.3. There is an FPT algorithm with respect to the number of voters that, given an election $E = (P, N, l, (S_i)_{i \\in N})$ and a set of integers $\\delta_1, ..., \\delta_n$, decides whether there exists an EJR outcome of E that guarantees satisfaction $\\delta_i$ to voter i for each i \u2208 N, and, if yes, finds an outcome that maximizes the utilitarian social welfare among all outcomes with this property.\nProof. The ILP in the proof of Theorem 7.2 contains an expression encoding each voter's satisfaction. We can modify"}, {"title": "7.3 An Impossibility Result for EJR in the (Semi-)Online Setting", "content": "In their analysis, Chandak et al. (2024) distinguish among (1) the online setting, where the number of rounds l is not known, voters' preferences are revealed round-by-round, and ot is selected as soon as all $(s_{i,t})_{i \\in N}$ are revealed, (2) the semi-online setting, where l is known, but preferences are revealed round-by-round and an outcome for a round needs to be chosen as soon as the preferences for that round have been revealed, and (3) the offline setting, where we select the entire outcome o given full access to $(s_i)_{i \\in N}$. The PAV rule and its local search variant, the GCR rule and the ILP approach only work in the offline setting. In contrast, Chandak et al. (2024) show that a variant of MES satisfies w-EJR in the semi-online setting, but not in the online setting. They left open the existence of rules satisfying EJR in the semi-online setting. Here, we resolve this open question and show that no rule can satisfy EJR in the semi-online setting (and hence in the online setting).\nProposition 7.4. No rule satisfies EJR in the semi-online setting."}, {"title": "8 Conclusion", "content": "We have explored the complexity of verifying whether a given outcome of a temporal election satisfies one of the six representation axioms considered by Chandak et al. (2024). We have obtained coNP-hardness results even for very restricted special cases of this problem: e.g., for strong versions of the axioms verification remains hard even if there are just two candidates. We complement these hardness results with parameterized complexity results and a positive result for a structured setting, where candidates join the pool over time and never leave. We also describe an ILP that can be used to find outcomes that provide EJR and satisfy additional constraints. Finally, we answer an open question of Chandak et al. (2024), by showing that a variant of the Greedy Cohesive Rule provides EJR.\nPossible directions for future work (in addition to open problems listed in Section 4) include considering stronger variants of proportionality, such as FJR (Peters, Pierczy\u0144ski, and Skowron 2021) or core stability (Aziz et al. 2017), exploring other domain restrictions, and extending the temporal framework to the broader setting of participatory budgeting (Aziz and Lee 2021; Lackner, Maly, and Rey 2021; Peters, Pierczy\u0144ski, and Skowron 2021)."}, {"title": "A Omitted Proofs from Section 3", "content": "Proof of Theorem 3.1 (continued)\nWe will now prove that verifying whether an outcome provides w-EJR is coNP-hard even if |P| = 2. To this end, we reduce from the NP-hard problem INDEPENDENT SET WITH MAXIMUM DEGREE OF THREE (IS-3) (Garey, Johnson, and Stockmeyer 1976). An instance of IS-3 is given by a graph G = (V, E) with a vertex set V and an edge set E such that every vertex in V has at most three neighbors, together with a parameter k; it is a 'yes'-instance if there exists a subset of vertices V' \u2286 V with |V'| \u2265 \u043a such that for all vertices u, v \u2208 V' it holds that {u, v} \u2209 E, and a 'no' instance otherwise. We can assume without loss of generality that \u043a \u2264 |V| \u2013 3: indeed, if \u043a \u2265 |V| \u2013 2, we can solve IS-3 in time O(|V|2) by checking all size-k subsets of V.\nGiven an instance (G, \u043a) of IS-3 with G = (V, E), where V = {1, ..., v\u2081 } and \u03ba < \u03bd \u2212 3, we construct an election with a set of voters $N = \\{1, ..., v\\} \\cup N_0$, where $|N_0| = v + 1 - \\kappa$, a set of candidates P = {p, q}, and l = 2v + 1 \u043a rounds. For each i \u2208 N, the preferences of voter i in round t are given by:\n$\\begin{cases} \\{p\\} & \\text{if } t > v;\\\\ \\{q\\} & \\text{if } i \\in [v] \\text{ and } t = i;\\\\ s_{i,t}  \\{p\\} & \\text{if } i, t \\in [v] \\text{ and } \\{v_i, v_t\\} \\in E;\\\\ \\{p, q\\} & \\text{in all other cases}.\\end{cases}$\nSet o = (q, ..., q). We claim that there exists a set of voters N* \u2286 [v] \u222a No such that \u03b2(N*) = l but sati(0) < a(N*) for all i \u2208 N* if and only if the set V' = {vi : i \u2208 N* \u2229 [v]} is an independent set of size at least k in G.\nFor the 'if' direction, let V' be an independent set of size at least k in G, and let N' be the set of voters that correspond to the vertices in V'. Set N* = N' U No. We claim that \u03b2(N*) = l. Indeed, consider two voters i, i' \u2208 N', a voter j \u2208 No, and a round t \u2208 [l]; we will now show that si,t \u2229 Si',t \u2229 Sj,t \u2260 \u00d8. To this end, we consider the following cases:\n\u2022 t > v. Then si,t = Si',t = Sj,t = {p}.\n\u2022 t = i. Then si,t = {q} and si',t = Sj,t = {p, q};\n\u2022 t = i'. Then si',t = {q} and si,t = Sj,t = {p,q};\n\u2022 t \u2208 [v] \\ {i, i'}. Then p \u2208 si,t, p \u2208 Si',t, Sj,t = {p,q}.\nAs all three voters approve a common candidate in each round, we have \u03b2(N*) = l. Then, we get\n$\\alpha(N^*) = \\lfloor \\frac{\\beta(N^*) \\cdot |N^*|}{|N|} \\rfloor > \\frac{(2v + 1 - \\kappa) \\cdot |N^*|}{2v + 1 - \\kappa} - 1 = \\frac{(2v + 1 - \\kappa) \\cdot \\frac{v+1}{\\nu}}{2v + 1 - \\kappa} - 1 = v + 1.$\nHowever, since si,t = {p} for all i \u2208 N and all t > v, the satisfaction of every voter in N* from outcome o does not exceed v. Thus, we obtain sati(0) < a(N*) for all i \u2208 N*.\nFor the 'only if' direction, suppose there exists a set of voters N* \u2286 [v] U No such that \u03b2(N*) = l but sati(0) < a(\u039d*) for all i \u2208 N*. Let N' = N* \u2229 [v], and let V' = {vi : i \u2208 N'}. We claim that V' is an independent set. Indeed, if {vi, vj} \u2208 E for some i, j \u2208 N' then si,i = {q} and si,j = {p}, which is a contradiction with \u03b2(N*) = l. It remains to argue that |V'| \u2265 \u03ba. \u03a4\u03bf this end, we note that n = l = 2v + 1 \u2212 \u043a and \u03b2(N*) = l implies that a(N*) = |N*|, and consider two cases.\n\u2022 N* \u2286 [v]. In this case, N\u2032 = N*. Since every vertex in V has at most three neighbors, for each i \u2208 N' we have sati(0) \u2265 v \u2013 3. On the other hand, by our assumption, sat\u012b(0) < a(N*) = |N*| for all i \u2208 N*. Therefore, V' is an independent set of size |N* | > \u03bd - 3 \u2265 \u03ba.\n\u2022 N* \u2229 No \u2260 \u00d8. Then, consider an agent i \u2208 N* \u2229 No. For each i \u2208 No we have sati(0) = v and hence |N* | = a(N*) > \u03bd. Since |No| = v +1 \u03ba, this implies |V'| = |N'| = |N* \\ No| > \u043a 1. Thus, |V' is an independent set of size at least \u043a.\nIn both cases, we conclude that V' is an independent set of size at least k, and hence our input instance of IS-3 was a 'yes'-instance. This completes the proof."}]}