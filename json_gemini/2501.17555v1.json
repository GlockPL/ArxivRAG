{"title": "An Exceptional Dataset For Rare Pancreatic Tumor\nSegmentation", "authors": ["Wenqi Li", "Yingli Chen", "Keyang Zhou", "Xiaoxiao Hu", "Zilu Zheng", "Yue Yan", "Xinpeng Zhang", "Wei Tang", "Zhenxing Qian"], "abstract": "Abstract-Pancreatic NEuroendocrine Tumors (pNETs) are\nvery rare endocrine neoplasms that account for less than 5% of\nall pancreatic malignancies, with an incidence of only 1-1.5\ncases per 100,000. Early detection of pNETs is critical for\nimproving patient survival, but the rarity of pNETs makes\nsegmenting them from CT a very challenging problem. So far,\nthere has not been a dataset specifically for pNETs available\nto researchers. To address this issue, we propose a pNETs\ndataset, a well-annotated Contrast-Enhanced Computed Tomog-\nraphy (CECT) dataset focused exclusively on Pancreatic Neu-\nroendocrine Tumors, containing data from 469 patients. This\nis the first dataset solely dedicated to pNETs, distinguishing it\nfrom previous collections. Additionally, we provide the baseline\ndetection networks with a new slice-wise weight loss function\ndesigned for the UNet-based model, improving the overall PNET\nsegmentation performance. We hope that our dataset can enhance\nthe understanding and diagnosis of PNET Tumors within the\nmedical community, facilitate the development of more accurate\ndiagnostic tools, and ultimately improve patient outcomes and\nadvance the field of oncology.", "sections": [{"title": "I. INTRODUCTION", "content": "Pancreatic cancer has the poorest prognosis among solid\ntumor cancers, with a 5-year overall survival (OS) rate of\naround 10%, positioning it as the second leading cause of\ncancer-related deaths in Western countries by 2030 [2]. Surgi-\ncal resection remains the only potentially curative treatment,\nalthough a low percentage of patients are eligible due to\nthe advanced stage of diagnosis, highlighting the critical\nimportance of accurate preoperative assessment of surgical\nresectability for improving patient survival [3]. As shown\nin Fig 1, the pancreas is an organ that sits behind the\nstomach, comprising both endocrine cells and exocrine cells.\nThe majority of the pancreas is composed of exocrine cells,\nwhich form the exocrine glands and ducts. The exocrine\nglands produce pancreatic enzymes that are released into the\nintestines to help digesting foods (especially fats). Conversely,\nneuroendocrine cells, a distinct cell type found throughout\nthe body, including the pancreas, secrete hormones into the\nbloodstream [1]. Pancreatic neuroendocrine tumors (pNETs)\nconstitute a rare form of cancer which originate from neuro-\nendocrine cells. These tumors account for less than 5% of\npancreatic cancers [4] and are characterized by their slow\ngrowth, relatively more manageable treatment, and longer\nsurvival periods compared to carcinomas originating from\nexocrine tissue [5], such as pancreatic ductal adenocarcinoma\n(PDAC), the most common and aggressive type of pancreatic\ncancer. However, the extended incubation period of pNETS\nposes a significant risk to patients in advanced stages.\nTypical pNETs cases are solitary in lesion location, though\na few may be multiple [6]. Historically, the diagnostic rate for\nneuroendocrine tumors has been relatively low, and they were\nconsidered rare diseases. However, with the widespread use\nof imageological examinations and increased rates of surgical\nresection, neuroendocrine tumors are no longer as rare [7],\nunderscoring the importance and non-negligibility of the task\nof segmenting pancreatic neuroendocrine tumors. Contrast-\nenhanced Computed Tomography (CECT) is currently the\nmost commonly employed medical imaging modality for stag-\ning pancreatic cancer and evaluating resectability [8]. CECT\ncan assess the vascular support of tumours by analyzing the\ntemporal changes in attenuation within blood vessels and\ntissues, as captured from a rapid series of images acquired\nduring intravenous administration of conventional iodinated\ncontrast material [9]. This process generates samples with four\ndimensions, comprising three spatial dimensions and multiple\ncontrast agent diffusion phases per voxel. Each voxel in the\nCECT dataset corresponds to the CT number of the scan,\nimaging the internal anatomy of living creatures. Accurate\ntumour segmentation is crucial for medical evaluation, since\nit facilitates subsequent tasks such as assessing resectability\n[10] and estimating overall survival [11] [12].\nCurrently, the limited availability of pNETs cases remains\na challenge when training a comprehensive pancreatic can-\ncer diagnosing model. The existing public pancreatic tu-\nmor datasets, including the Medical Segmentation Decathlon\n(MSD) [13] and National Institutes of Health (NIH) datasets\n[14], only contain a small proportion of pNETs samples,\nmaking pNETs segmentation and classification a challeng-\ning task for models trained on these datasets. Besides, the\ndistinct characteristics of pNETs on CECT images present\nsignificant practical challenges for the early diagnosis of\npancreatic diseases. Specifically, small pNETs may not alter\nthe morphology or contour of pancreas on CT scans and\nare rarely accompanied by pancreatic or bile duct dilatation.\nThis lack of external imaging features makes the detection\nof tumors challenging. Moreover, pNETs are generally hyper-\nvascular tumors, exhibiting pronounced enhancement during\nthe arterial phase of contrast-enhanced scans. Conversely, a\nsmaller subset of pNETs are hypo-vascular, displaying weak\nenhancement, which is reminiscent of pancreatic cancer [15].\nThe small lesion size and diversity among samples make\nPNETs segmentation a challenging task.\nModern Artificial-Intelligence-based (AI) algorithms have\nrevolutionized Computer-Aided Detection and Diagnosis\n(CAD) systems, achieving performance comparable to that of\nhuman experts in medical image analysis [16]. It paves the\npath toward downstream tasks, including automated cancer\ndiagnosis and prognosis prediction [17]. However, previous\nwork [18] based on non-specific pancreatic cancer datasets,\nwhich represent only about 1/10 of pNETs cases compared to\nPDACs in the training set, have shown relatively low accuracy\nin the task of pNETs segmentation and classification. The\nrarity of pNET cases and the diversity of lesion anatomy\ntranslate into low sensitivity and misclassification on non-Contrast CT scans with blurs."}, {"title": "II. RELATED DATASETS", "content": "MSD dataset [13]. The MSD pancreas tumor dataset contains\n420 contrast-enhanced CT scans of patients with pancreatic\nlesions (PDAC, PNET, and IPMN) from the Memorial Sloan\nKettering Cancer Center (New York, NY, USA). Pancreas and\ntumor segmentation are provided for the training subset, but\nthe exact pathology of individual tumors remains unannotated,\nlimiting detailed clinical or diagnostic evaluations of segmen-\ntation results.\nNIH-PCT dataset [14]. NIH-PCT dataset consists of 80 portal\nvenous phase abdominal CT scans from patients treated at\nthe NIH Clinical Center. This dataset was curated specifically\nto highlight normal pancreatic morphology. Pancreas segmen-\ntations are provided in NIfTI format, annotated on a slice-\nby-slice basis by a medical student and subsequently refined\nby a radiologist. Since all CT scans in this dataset exhibit\nnormal pancreatic morphology, they can only serve as negative\nsamples in the context of lesion segmentation tasks.\nTCIA-PDA dataset [20]. The TCIA-PDA dataset, developed\nby the National Cancer Institute's Clinical Proteomic Tumor\nAnalysis Consortium (CPTAC), includes 60 abdominal CT\nscans and 6 MRIs from patients diagnosed with pancreatic\nductal adenocarcinoma (PDAC). The dataset is notable for\nits extensive metadata, including patient demographics, tu-\nmor characteristics, and survival outcomes, collected from\nconsortium institutions across the USA, Canada, and Europe.\nHowever, the absence of tumor or pancreas segmentation limits\nthe range of available downstream tasks."}, {"title": "III. OUR PNET DATASET", "content": "To address these limitations, we introduce a well-annotated\nPNETS CECT dataset, consisting of 469 3D samples. It was\nfurther split and processed into a total of 21,122 class-balanced\nslices. Additionally, we present multi-phase well-annotated\nCECT imaging, including arterial phase and venous phase,\npotentially enriching multi-phase registration and fusion tasks\nwith richer visual information. The dataset is based on a\nretrospective observational study of pNETs cases. Definitive\nevidence was required through biopsy pathology for diagnosis\nwhen searching the cases. The classification of the surgical\npathology was determined based on the 2019 WHO classi-\nfication of tumors of the digestive system [19]. A medical\nstudent manually performed slice-by-slice segmentation of the\npancreas as ground-truth, which was verified/modified by an\nexperienced radiologist.\nOur main contributions can be listed as follows:\n\u2022 We introduce a novel CECT dataset, exclusively ded-\nicated to Pancreatic Neuroendocrine Tumors, which is\ncharacterized by its scarcity. The dataset includes multi-\nphase CT scans, coupled with meticulously segmented\nlesions at slice-by-slice level, offering a unique opportu-\nnity to address the paucity of data for this relatively rare\ntumor type.\n\u2022 We highlight the challenges posed by our dataset and\nexplore the characteristics of PNETs cases within it.\n\u2022 We evaluate the performance of a suite of highly regarded\nU-Net-based medical image segmentation methods, in-\ncluding a straightforward baseline proposed by ourselves,\nas a benchmark for further studies.\nWe introduce the well-curated dataset for pNET and provide\nits basic statistics and our baseline 2-D segmentation methods."}, {"title": "Original Volumetric Annotated Data.", "content": "Our pNETs dataset\nconsists of 469 original 3-D volume data of shape\n512 x 512 \u00d7 h, each of which is a 3-D CECT result of a\npatient. h \u2208 [150, 270] is the amount of the scanned transverse\nplanes, typically covering the region from the lower chest to\nthe bottom of the kidneys. The slice interval is evenly set\nwithin 1mm to 1.5mm. Each volumetric scan is accompanied\nby a ground-truth 3D tumor segmentation mask, annotated\nand cross-validated by expert radiologists from the Fudan\nUniversity Shanghai Cancer Center. Figure 2 showcases three\nexamples in our dataset where we randomly select slices in\nArterial and Venous phases."}, {"title": "Post-processed 2-D Pancreas Images.", "content": "We also prepare a\npost-process version of the dataset by segmenting and aug-\nmenting the pancreas area within each CT slice. In detail, we\napply TotalSegmentator [21], a famous open-source 3D pan-\ncreas segmentation deep network trained on non-contrast CT\nscans, to obtain 3D pancreas segmentations, whose output is\nof the same size as the input. Next, for each slice, we crop out\na 256 \u00d7 256 squared region whose center is the center of the\nbounding box of the pancreas mask on the slice. Note that no\ninterpolation is used in order to avoid unnecessary distortions.\nOur post-processed version helps highlight information within\npancreas, which might benefit pNET segmentation.\nGiven that tumors occupy a small portion of the pancreas,\nour dataset inevitably contains a large number of slices without\ntumors. Our statistics reveal that there are 14,501 images\nwith tumors and 121,707 images without. To address this\nimbalance, we adjust the dataset to achieve a 1:1 ratio between\ntumor and non-tumor images, resulting in 21,122 images for\ntraining and 2,596 for validation. Additionally, we present a\nhistogram depicting the occurrence of tumor pixels within\neach image, as shown in Figure 3. This analysis highlights\nthat many slices contain only a small portion of the tumor,\nunderscoring the need for effective algorithms to handle such\nimbalanced data."}, {"title": "Baseline Segmentation Models.", "content": "We depict our baseline to-\ngether with the post-processing process that converts 3-D\nvolume data to 2-D slices in Figure 4. First, we applied\ndata augmentation techniques, including flipping, rotation, and\nrandom cropping for the slices containing tumors to improve\nthe diversity of training. Next, for 2-D tumor segmentation,\nwe apply several classic UNet-based models as baselines,\nincluding UNet [22], UNet++ [23] and Attention UNet [24].\nTo train the networks, we propose the slice-wise weight\nloss which assign different loss weights to different slices, to\nensure images with larger labeled tumor areas receive greater\nloss weights, as these samples usually contain more distin-\nguishable tumor features. The strategy is depicted in Figure 5.\nConcretely, each patient's volumetric data, we first rank the\ncorresponding 2D images in descending order based on the"}, {"title": "Details and Evaluation Metrics.", "content": "We trained every baseline\nmodel on one NVIDIA 4090 GPU using the Adam opti-\nmizer [26] with a momentum of 0.95, a learning rate of 2e-\n5, and a batch size of 4. The maximum training epoch is\nset to 100. The training of a single baseline usually lasts six\nhours. We arbitrarily split all 3-D CT samples from the whole\ndataset into training and testing data at a ratio of 9 : 1. To\nmeasure segmentation performance of the models, we utilize\nthe popular Dice similarity coefficient (DCE). We compare\nseveral baselines on our dataset, including Attention UNet,\nUNet, and UNet++. We also separately train these models with\nthe proposed slice-wise weight loss to verify its effectiveness.\nThe experimental results are reported in two aspects, i.e.,\nthe dice of pNET on slices with pancreas (generally only a\nportion of these slices contain tumor), and the dice of PNET\non slices with ground-truth pNET (also defined as the ROI\nslices). While the latter helps analyze the overall accuracy of\nthe detection methods, the former also help analyze the false\npositive on slices without pNET."}, {"title": "Results and Analysis.", "content": "In Figure 6, we visualize some of the\nsegmentation results generated by baseline methods, and in\nTable I we report the quantitative results. As shown in the\noverall results, the baseline models give decent performances\non the pancreas slices, where the DCE values generally exceed\n0.7. For the slices with no tumor where the GT mask is\nblank, if the models give false positives, the corresponding\nmetric would be zero, otherwise one. As a result, the result\nindicates that the baseline models generally have relatively\nlow false positives. However, we see that the metrics for\nROI slices are noticeably lower, and from the visualization\nresults, the UNet baseline struggles with recalling positives\nfrom slices with small tumor GT. Although those slices with\nlarger tumor ground-truths might be more obvious or important\nfor clinical diagnosis, these slices with smaller ones also could\nnon-negligibly affect the accuracy of the decision-making and\nhelp root-causing the issues. Besides, the baselines using the\ntypical segmentation architectures can be improved with the\nproposed slice-wise weight loss on DSC.\nWe leave room for more advanced segmentation methods,\n1) via non-CNN architectures such as Transformer-based [27]\nor Mamba-based [28] models, 2) via prompting existing large\nmodels [29] with more prior knowledge, or 3) via 3-D CNNs,\nwhich additionally considers cross-slice information (never-\ntheless, the computational complexity might be much higher)."}, {"title": "V. CONCLUSION", "content": "In this paper, we primarily introduce a well-annotated pan-\ncreatic neuroendocrine tumor (pNETs) Contrast-Enhance CT\ndataset. We focuses on the rare pancreatic diseases by provid-\ning more well-curated samples compared to existing datasets,\npromoting further research in pancreatic tumor detection. As\nbaseline detection methods, we propose a specially designed\nslice-wise weight loss function for the UNet-based models,\nwhich demonstrates effective performance in managing the\noverwhelming detection results. We hope the dataset also\nbeneficial to the diagnosis of rare tumor."}]}