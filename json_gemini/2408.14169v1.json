{"title": "DYNAMIC PRICING FOR ELECTRIC VEHICLE CHARGING", "authors": ["Arun Kumar Kalakanti", "Shrisha Rao"], "abstract": "Dynamic pricing is a promising strategy to address the challenges of smart charging, as traditional time-of-use (ToU) rates and stationary pricing (SP) do not dynamically react to changes in operating conditions, reducing revenue for charging station (CS) vendors and affecting grid stability. Previous studies evaluated single objectives or linear combinations of objectives for EV CS pricing solutions, simplifying trade-offs and preferences among objectives. We develop a novel formulation for the dynamic pricing problem by addressing multiple conflicting objectives efficiently instead of solely focusing on one objective or metric, as in earlier works. We find optimal trade-offs or Pareto solutions efficiently using Non-dominated Sorting Genetic Algorithms (NSGA) II and NSGA III. A dynamic pricing model quantifies the relationship between demand and price while simultaneously solving multiple conflicting objectives, such as revenue, quality of service (QoS), and peak-to-average ratios (PAR). A single method can only address some of the above aspects of dynamic pricing comprehensively. We present a three-part dynamic pricing approach using a Bayesian model, multi-objective optimization, and multi-criteria decision-making (MCDM) using pseudo-weight vectors. To address the research gap in CS pricing, our method selects solutions using revenue, QoS, and PAR metrics simultaneously. Two California charging sites' real-world data validates our approach.", "sections": [{"title": "INTRODUCTION", "content": "Electric vehicles (EVs) have gained popularity due to their cost- and eco-effectiveness [1]. According to a projection from the International Energy Agency [2], the worldwide EV fleet is expected to reach 250 million by 2030. A widespread public EV charging infrastructure is necessary for the electrification of transportation, in addition to the proper integration of EVs into the power grid. Smart charging [3], which enables the coordinated regulation of charging operations, is considered an important step towards the proper grid integration of EVs and the efficient operation of public EV charging stations (CSs). Dynamic pricing is a promising strategy to deal with the smart charging problems brought on by the growing use of EVs [4, 5].\nDynamic pricing is a real-time pricing strategy based on factors like demand, supply, time, location, and customer behavior. Static or Stationary pricing (SP) is fixed over time and may not be suitable for contexts like EV charging with variable demand. Dynamic pricing in EV charging manages demand, avoids congestion, incentivizes off-peak charging, and promotes efficient infrastructure use. It has potential benefits such as lower energy production costs, increased grid stability, higher user satisfaction, and lower operating costs for charging stations. This pricing approach has gained significant research attention in the EV charging industry [5, 6, 7, 8]. However, past research has not considered multiple metrics and planning areas for the investigation, which are important in practical settings.\nDynamic pricing enables businesses to adjust prices in response to changing market conditions, consumer demand patterns, and price competition in industries like transportation (e.g., ride-sharing apps), hospitality (e.g., hotel bookings), e-commerce (e.g., online marketplaces), and entertainment (e.g., ticketing). This helps businesses increase revenue and profit. However, there are unique challenges in EV charging, such as managing demand, preventing congestion, incentivizing off-peak charging, addressing range anxiety, and ensuring transparency in pricing. Effective"}, {"title": "PROBLEM DESCRIPTION AND FORMULATION", "content": "Electric utility companies can influence the charging behavior of EV owners by manipulating the pricing of charging services at different CSs [3]. The \u201cdemand curve\", a relationship between price and units required by consumers, is generally a factor that affects the cost of charging and revenue. Dynamic pricing optimization involves considering the demand curve, combining revenue generation with cost coverage, and adjusting prices to maximum profit. Along with revenue maximisation, challenges in pricing optimization for EV charging include decreasing the PAR load and improving the quality of service.\nThree related problems are used to formulate the problem of dynamic price optimization: (1) Calculation or quantification of the demand-price relationship between EV and CS; (2) multi-objective optimization of three metrics (maximize revenue, minimize the difference between peak and average loads, and maximize the quality of service) using the obtained demand-price relationship to determine the price vector for various time slots, and (3) multi-criteria decision making to produce the best option by taking into account multiple criteria in the selection process."}, {"title": "Demand-Price Model", "content": "If $P_{cs}$ and $D_{cs}$ denote the CS pricing and the quantity of power demanded, the relationship between them is in terms of a conditional expectation of the form\n$E[D_{cs} | P_{cs}] = \\alpha \\times P_{cs}^{c}$ (1)\n$\\log E[D_{cs} | P_{cs}] = \\log \\alpha + c \\times \\log P_{cs}$ (2)\n$E[D_{cs} | P_{cs}]$ represents the expected or average charging demand $D_{cs}$ at a specific price $P_{cs}$. The constant term $\\alpha$ represents the level of charging demand at the lowest price. As a measure of the sensitivity of demand to price variations, the elasticity coefficient c is commonly referred to as the price elasticity of demand. Depending on the nature of the relationship, c can have a positive, negative, or zero value. The values of $\\alpha$ and c can be determined using empirical data. The demand at a CS for a given price $P_{cs}$, i.e., $D_{cs}$ is obtained from demand-price quantification using a Bayesian model. This considers the fact that $D_{cs}$ follows a distribution established by $P_{cs}$ rather than being"}, {"title": "Multi-Objective Formulation", "content": "The problem is modeled with multiple global optimization objectives. The fitness function F comprises three objectives- the revenue ($f_{revenue}$), the QoS ($f_{qos}$), and the PAR ($f_{PAR}$). Since pricing solutions for all CSs are obtained together by sharing their price and demand information, cooperation is present among CSs, and thus, they are complementary.\nThe demand at a CS at time t for a given price $P_{cs,t}$, i.e., $D_{mean}(CS, t)$ is obtained from demand-price quantification using a Bayesian model. The sum of the revenue from a charging activity at a CS at time t when the demand at the CS is $D_{mean}(CS, t)$ is referred to as revenue. We calculate the total revenue of all CSs given a price vector P containing prices for all CSs and at all slots as below\n$f_{revenue}(P) = \\sum_{CS=1}^{N_{cs}} \\sum_{t=1}^{T} P_{CS,t} \\times D_{mean}(CS, t)$ (3)\nwhere $f_{revenue}(.)$ calculates the total revenue for charging the price $P_{cs,t}$ at a CS for all CSs and for all time slots. The pricing vector P assumes that different prices apply to each slot and that the users know the prices at each slot.\nThe highest power demand seen during a given time is known as the peak load of a system. The portion between the average load, denoted by $D_{mean}(CS, t)$, and the peak load, denoted by $D_{max}(CS, t)$, is defined as a system load factor. The load factor reveals if a system experiences significant demand changes. Large variations are a result of a low load factor. We compute the load factor referred to PAR as\n$f_{PAR}(P) = \\frac{1}{T \\times N_{cs}} \\sum_{CS=1}^{N_{cs}} \\sum_{t=1}^{T} \\frac{D_{max} (CS, t)}{Dean (CS, t)}$ (4)\nWe calculate the QoS of a CS at time t as the ratio of the demand served at time t, $D_{delv}(CS, t)$, and the requested demand, $D_{req} (CS, t)$. We compute the average QoS of all CSs for a price P as\n$f_{Qos} (P) = \\frac{1}{T \\times N_{cs}} \\sum_{CS=1}^{N_{cs}} \\sum_{t=1}^{T} \\frac{D_{delv} (CS, t)}{D_{reg} (CS, t)}$ (5)\nThe mathematical formulation of the multi-objective problem is defined below:\n$\\max f_{revenue}(P)$ (6)\n$\\min f_{PAR}(P)$ (7)\n$\\max f_{qos} (P)$ (8)\nsuch that 0 < $P_{CS,t}$ < $P_{max}$ (9)\n$D_{delv}(CS, t) \\leq C{CS_{capacity,t}}$ (10)\nwhere $f_{revenue}(.)$ calculates the total revenue at all CSs as shown in (3), $f_{PAR}(.)$ calculated the average PAR or load factor at all CSs as shown in (4), and $f_{qos}(.)$ denotes the QoS of all CSs as shown in (5). The $P_{max}$ denotes the upper limit of a CS price, and the demand delivered $D_{delv, Pcs,t}$ is bounded by $CS_{capacity,t}$ which is the CS capacity at time t."}, {"title": "Multi-Criteria Decision Making", "content": "The set of non-dominated solutions where each objective is considered equally good is termed the Pareto-front. A Pareto-front with numerous alternative solutions is the output of a multi-objective algorithm. The problem is to choose a solution out of the solution set in the context of multi-objective optimization. MCDM problem refers to the problem of making decisions or selecting a solution that involves numerous criteria or objectives."}, {"title": "Dynamic Pricing Approach", "content": "The dynamic pricing approach solves multiple sub-problems in three parts."}, {"title": "Part I - Demand-Price Quantification using Bayesian Optimal Pricing", "content": "Demand-price quantification refers to the process of estimating the relation between the power demand and its price to find the ideal price that will maximize revenue. We used Bayesian modeling for demand-price quantification to estimate the relationship between power demand and pricing based on historical charging data from the ACN Open EV Charging Dataset [31]. This statistical technique involves identifying a prior distribution based on existing knowledge and assumptions and then updating it with observed data using Bayes' theorem to determine the posterior distribution. The historical demand and price data from charging stations and the relationship shown in (1) and (2) are used for this quantification process.\nThe posterior distribution is used to predict the best price that will maximize revenue based on the observed data and our updated assumptions about the relationship between price and quantity desired. Bayesian modeling is utilized to quantify demand-price relationships, make accurate pricing strategy decisions, and increase the capacity to estimate demand and optimize revenue."}, {"title": "Part II - Multi-Objective optimization using NSGA II or NSGA III", "content": "Multi-objective optimization refers to the process of optimizing multiple conflicting objectives, such as (6), (7), and (8), simultaneously with constraints such as (9) and (10). NSGA (Non-dominated Sorting Genetic Algorithm) is a well- known and fast approach for solving multi-objective optimization problems [32, 33]. We used two variations of the NSGA algorithm, i.e., NSGA-II and NSGA-III, for solving the multi-objective optimization problem described in Section 2.2. The two algorithms use a genetic algorithm technique, which entails producing a set of candidate solutions and then evaluating and developing these solutions to increase their fitness with respect to the numerous objectives.\nThe NSGA-II algorithm operates by assigning each candidate solution to a group of non-dominated solutions, which are solutions that are not dominated by any other solution in terms of multiple objectives, i.e., (a) maximize total CS revenue, $f_{revenue}(.)$ (b) maximize QoS, $f_{qos}$ and (b) minimize PAR, $f_{PAR}(.)$. The algorithm then selects a set of the best non-dominated solutions known as Pareto-front and generates a new set of candidate solutions based on these solutions.\nNSGA-III is an expansion of NSGA-II that tries to increase its performance by employing a reference point technique to guide the search towards specified portions of the objective space [33]. In NSGA-III, a set of reference points is defined, and the algorithm searches for non-dominated solutions that are closest to these reference points."}, {"title": "Part III - MCDM using pseudo weights", "content": "We adopt the pseudo-weight vector methodology presented in [35] to select a solution from a solution set or Pareto-front in the context of multi-objective optimization. The objective behind pseudo weights is to give weights to the criteria based on their relative importance without forcing the decision maker to provide explicit numerical numbers for each criterion. This is done by performing pairwise comparisons between the criteria to assess their relative relevance. The pseudo weights $w_i$ for the objective i is calculated as follows [35]:\n$w_i = \\frac{\\frac{(f^{max}_i - f_i(x))}{(f^{max}_i - f^{min}_i)}}{\\sum_{m=1}^{M} \\frac{(f^{max}_m - f_m(x))}{(f^{max}_m - f^{min}_m)}}$ (11)\nThe objectives for different i refer to $f_{revenue}(.)$, $f_{qos}$ and $f_{PAR}(.)$. The advantage of employing the technique of the pseudo weight is that it provides a mechanism to assess the relative relevance of each criterion without having explicit numerical values, which might be difficult or time-consuming to obtain."}, {"title": "RESULTS", "content": "This section explains the evaluation setting and compares the performances of three solutions for dynamic pricing."}, {"title": "Evaluation Setting", "content": "Figure 1 shows that one day has been divided into 96 time slots. There are two traffic peak slots around time slots 34 and 72 in a day. The box plot information containing the distribution of energy prices for the fast and slow charging options at different traffic states has been shown in Figure 2."}, {"title": "Comparative Performance of All Approaches", "content": "The average results of the three approaches are obtained and shown in Table 2. BM + NSGA II and BM + NSGA III refer to the solution approaches that use the Bayesian model in the first part of the solution, followed by NSGA II and NSGA III in the second part, respectively. MCDM is used in the third part of the solution for both approaches. BM + NSGA II and BM + NSGA III algorithms are compared with well-known ToU pricing and SP data for two sites, i.e., JPL and Caltech."}, {"title": "JPL site", "content": "Table 3 shows the improvement of ToU over SP data, as well as the improvement of BM + NSGA II and BM + NSGA III variants over the base ToU and SP at JPL. BM + NSGA III algorithm improves the total revenue by 16.93% compared to SP and 11.52% compared to ToU. The revenue improvement of the BM + NSGA II algorithm is similar to that of the BM + NSGA III algorithm, and the differences between NSGA variants are insignificant. Overall, revenue is significantly improved with the three-part pricing algorithms compared to ToU and SP.\nFor the QoS at the JPL site, BM + NSGA III is the highest, i.e., the best performing, as shown in Table 3 with an average improvement of 61.76% over SP and 30.95% over ToU. The average QoS using BM + NSGA II is slightly lower than ToU but better than SP. Figure 3b shows that BM + NSGA III has a better QoS box plot than BM + NSGA II, and traditional methods like SP and ToU have fewer deviations.\nBM + NSGA II and BM + NSGA III performances are similar for PAR as shown in Figure 3c. However, the percentage improvement of BM + NSGA II is slightly better, as shown in Table 3. Also, both approaches reduced the PAR by 66-71% compared to SP and ToU, as shown in Table 3."}, {"title": "Caltech site", "content": "Table 4 shows the improvement of ToU over SP data, as well as the improvement of BM + NSGA II and BM + NSGA III variants over the base ToU and SP at Caltech. BM + NSGA II algorithm improves the total revenue by 22.78% compared to SP and 8.58% compared to ToU. The revenue improvement of the BM + NSGA III algorithm is slightly lower than the BM + NSGA II algorithm. Overall, there is a significant improvement in revenue with the three-part pricing algorithms compared to ToU and SP.\nFor the QoS at the Caltech site, BM + NSGA III is the highest, i.e., the best performing, as shown in Table 4 with an average improvement of 71.43% over SP and 42.86% over ToU. The average QoS improvement using BM + NSGA II is lower than BM + NSGA III but better than ToU. Figure 4b shows that BM + NSGA III has a better QoS box plot than BM + NSGA II, and traditional methods like SP and ToU have fewer deviations.\nThe performance of BM + NSGA II is better for PAR as shown in Table 4 and Figure 4.2.1, and it improved the PAR by 48.85% and 56.51% compared to SP and ToU respectively."}, {"title": "Summary", "content": "Table 2 shows that BM + NSGA II and BM + NSGA III algorithms perform similarly in revenue for the JPL site. However, BM + NSGA II generates more revenue for Caltech. For QoS, BM + NSGA III performs best, i.e., highest at both sites. In contrast, BM + NSGA II has the lowest PAR, i.e., the best performing at both sites. Overall, the BM + NSGA III algorithm is the best-performing algorithm for the JPL site due to improvement in most metrics compared to ToU and SP. Similarly, the BM + NSGA II algorithm is the best-performing algorithm at Caltech."}, {"title": "Effect of selecting pricing solutions from Pareto-front using MCDM and importance factor", "content": "The importance of metrics such as revenue or PAR reduction for large grids or microgrids will depend on the grid operators' and stakeholders' specific objectives and goals. If the primary objective is to maximize revenue, then revenue would be the most important metric. However, reducing PAR demand may be more important if the focus is on maintaining grid stability and reliability. This is because reducing peak demand can help prevent grid overloading, which can lead to power outages and other problems. In general, a balanced approach is recommended that considers both revenue and PAR reduction.\nTwo evaluation cases are further considered for the best-performing algorithms:(1) maximize revenue as an important factor for microgrids designed to operate as a commercial enterprise, and (2) PAR is an important metric for maintaining large grids stability and reliability. In the first case, the primary goal is to generate revenue by selling power to customers or participating in demand response programs. The second case deals with selecting solutions to reduce peak demand to prevent grid overloading, which can lead to power outages and other problems. JPL site is considered for this evaluation as the EV penetration is high in this case and the Pareto-front solutions obtained are high in number after Part II multi-objective optimization."}, {"title": "CONCLUSIONS", "content": "In this paper, novel dynamic pricing algorithms are designed and evaluated for a novel EV CS pricing problem formulation. These algorithms are designed by integrating three components: (i) Bayesian Demand-Price model; (ii) Multi-Objective optimization algorithms NSGA II and NSGA III; and (iii) use of MCDM methods to select the solutions.\nThe performance of three-part dynamic pricing algorithms is validated by solving the EV CS pricing problem for two sites, JPL and Caltech. This study also compares the three-part dynamic pricing algorithms with the widely used ToU pricing algorithm and SP. Three widely used metrics are used to measure the quality of an EV CS pricing solution: total revenue, QoS, and PAR. The solution-finding capability of these algorithms when the importance of a metric is provided is also investigated.\nWe identify the better characteristics of the BM + NSGA III algorithm. Also, the MCDM is seen to help find solutions given the metric's importance. Experiments also confirm the efficiency of BM + NSGA II and BM + NSGA III in terms of solution quality, i.e., in obtaining better solutions than ToU. The results also reveal that BM + NSGA II and BM + NSGA III are more efficient in solving the EV CS pricing problem than the ToU pricing algorithm.\nThe results can also guide decision-makers in making better CS pricing decisions when many CSs (in order of hundreds or more) need to be priced for efficiently charging at different CSs. It is worth mentioning that the prices are obtained by escaping local best, exploring multiple solutions, and utilizing the strengths of different procedures like demand-price modelling, multi-objective optimization, and MCDM."}]}