{"title": "The Joint Entity-Relation Extraction Model Based on Span and Interactive Fusion Representation for Chinese Medical Texts with Complex Semantics", "authors": ["Danni Feng", "Runzhi Li", "Jing Wang", "Siyu Yan", "Lihong Ma", "Yunli Xing"], "abstract": "Joint entity-relation extraction is a critical task in transforming unstructured or semi-structured text into triplets, facilitating the construction of large-scale knowledge graphs, and supporting various downstream applications. Despite its importance, research on Chinese text, particularly with complex semantics in specialized domains like medicine, remains limited. To address this gap, we introduce the CH-DDI, a Chinese drug-drug interactions dataset designed to capture the intricacies of medical text. Leveraging the strengths of attention mechanisms in capturing long-range dependencies, we propose the SEA module, which enhances the extraction of complex contextual semantic information, thereby improving entity recognition and relation extraction. Additionally, to address the inefficiencies of existing methods in facilitating information exchange between entity recognition and relation extraction, we present an interactive fusion representation module. This module employs Cross Attention for bidirectional information exchange between the tasks and further refines feature extraction through BiLSTM. Experimental results on both our CH-DDI dataset and public CONLL04 dataset demonstrate that our model exhibits strong generalization capabilities. On the CH-DDI dataset, our model achieves an Fl-score of 96.73% for entity recognition and 78.43% for relation extraction. On the CoNLL04 dataset, it attains an entity recognition precision of 89.54% and a relation extraction accuracy of 71.64%.", "sections": [{"title": "1 Introduction", "content": "Entity recognition and relation extraction are pivotal components in the establishment of large-scale knowledge graphs (KG). Lots of researches focus on them."}, {"title": null, "content": "One is two-stage pipeline method that trains two tasks independently [1,2,3]. However, this approach encounters some significant challenges. Firstly, it tends to overlook the interplay between entity recognition and relation extraction. Secondly, it encounters error propagation."}, {"title": null, "content": "To solve the above problems, various joint entity relation extraction methods have been proposed. In which, traditional methods rely on labor-intensive and time-consuming feature engineering[4,5]. Neural network-based joint entity relation extraction methods[6,7,8] demonstrate the capability to extract triplets in a single step. Nevertheless, lacking constraints on entity types, makes it difficult to guide relation prediction. Conversely, methods that leverage shared parameters offer flexibility, typically prioritizing entity recognition before relation extraction. However, they may overlook semantic information, which is particularly important for joint extraction of entities and relations, especially for Chinese texts. For instance, Zeng et al. [9] employ Convolutional Neural Networks (CNN) to extract contextual information. Miwa et al.[10] and Zheng et al.[11] utilize Long Short-Term Memory (LSTM) networks to extract semantic information. However, These approaches struggle to effectively capture intricate details within sentences and grapple with capturing long-term dependencies. Subsequently, Eberts et al. [12] leverage the CLS token as a semantic indicator for entity recognition purposes. However, the CLS representation derived from BERT [13] may be susceptible to information loss or inadequate comprehension of the broader context. JI B et al. [14] improved this work, achieving sentence-level semantic acquisition and span-level semantic acquisition through four different attention variants, but this also requires storing a large number of attention parameters."}, {"title": null, "content": "Our research focuses on extracting structured knowledge from Chinese medical texts, which often contain complex semantics. To facilitate this, we constructed the CH-DDI, a drug-drug interactions dataset. When performing entity recognition, we integrate the advantages of existing models, maximize potential entity spans through span partitioning, and introduce attention-based SEA modules to effectively extract long-range contextual information. In addition, during the creation process of CH-DDI, we identified an important issue of relation overlap, where one drug may have the same or different interactions with multiple other drugs. Therefore, accurate semantic understanding during relation extraction is also crucial. To address this issue, we introduce local contextual semantics between span pairs through max-pooling during relation extraction."}, {"title": null, "content": "Moreover, facilitating information exchange between the two tasks is deemed advantageous for enhancing model performance. Specifically, entity recognition by having awareness of the potential relations within a sentence can lead to more precise recognition of entities, and vice versa. For instance, given two potential location entities, the semantic relation in the sentence may be \"Located_in\" rather than \"Promotion\". Xiong et al. [15] demonstrated the usefulness of information exchange between tasks by implementing the gating mechanism for task interaction. Based on the idea that implementing information exchange between tasks can improve model performance, we propose an interactive fusion repre-"}, {"title": null, "content": "sentation module to achieve bidirectional information exchange between entity recognition and relation extraction."}, {"title": null, "content": "In this work, we propose a joint entity-relation extraction model based on span and interactive fusion representation for Chinese medical texts with complex semantics. In which, the interactive fusion representation module facilitates information exchange between entity recognition and relation extraction by Cross Attention and BiLSTM. And we use the span feature extraction module to obtain segmented spans and various features for spans. It should be noted that we treat the contextual semantics used in entity recognition as sentence-level semantics and use SEA for processing while treating the local context between span pairs used in relation extraction as spans. Similar to the extraction of internal features within spans, we use max-pooling to preserve the important features of the local context. The final entity recognition and relation extraction are the implementation of traditional classification."}, {"title": null, "content": "Overall, our contributions are as follows:"}, {"title": null, "content": "1. We propose a joint entity-relation extraction model based on span and interactive fusion representation for Chinese medical texts with complex semantics, which captures long sentence dependencies through attention mechanism and extracts features again using BiLSTM, ultimately obtaining contextual semantics that consider both sentence importance and sentence sequence order."}, {"title": null, "content": "2. We propose an interactive fusion representation module based on Cross Attention. The encoder in the model includes feedforward neural networks, which can obtain specific representations for entity recognition and relation extraction. The interactive fusion representation module can perform dual Cross Attention on these two representations and further use BiGRU for feature fusion."}, {"title": null, "content": "3. We establish a Chinese drug-drug interactions dataset CH-DDI and conduct experiments on both CH-DDI and the public dataset CoNLL04. Compared with the baseline models, the best results are achieved on both Chinese and English datasets."}, {"title": "2 Related Work", "content": "Entity recognition and relation extraction stand as pivotal sub-tasks within the realm of natural language processing (NLP). The initial two-stage model was gradually abandoned due to the difficulty in achieving interaction between two sub-tasks and the problem of error propagation. Currently, the joint extraction model for unified modeling the two tasks is used, and the extracted structured triplets are convenient for constructing large-scale knowledge graphs (KG) or completing other downstream tasks."}, {"title": null, "content": "Parameter sharing-based methods The shared-parameter joint extraction framework has been shown to enhance the performance of relation extraction through the synergistic optimization of entity recognition processes. Wei et al.[16] utilizes the binary taggers to predict all potential head entities, and subsequently utilizes these predictions to infer their corresponding tail entities and relations. Fu et al.[17] innovatively constructs entities and relations as graphs,"}, {"title": null, "content": "where entities are nodes and relations are edges. The method Bekoulis et al.[18] proposed is similar to the work Huang et al.[19] proposed, they both use BIO annotation combined with CRF for entity recognition and allow for the prediction of multiple potential relations between a word and other words during relation extraction. The only difference lies in the selection of the basic encoder. However, the multi-head selection method lacks the use of semantic information for judgment. STER[20] is a model that uses knowledge distill, it has two teachers that study the information for entity recognition and relation extraction respectively. Our work, similar to SpERT[12] and SPAN[14], utilizes spans for overlapping entity recognition. However, neither of these methods can effectively achieve task interaction, and SpERT lacks effective acquisition of complex semantics. On the other hand, SPAN achieves sentence-level semantic supplementation through multiple attention mechanisms, which often require more storage of attention parameters."}, {"title": null, "content": "Joint decoding algorithm-based methods The methods based on the decoding algorithm often blur the distinction between entity recognition and relation extraction, enabling the direct extraction of triplets in a single step. Common approaches that use joint decoders include tag-based and table-based. Zheng et al. [6] proposed a method that involves assigning a tag to each input token to denote the head or tail entities along with the relations, and subsequently inferring the triplet through tag prediction and parsing. However, the method based on tables often generates one table for each relation. Feiliang Ren et al. [7] introduces a global feature-oriented relational triple extraction model, Wang et al. [21] proposed a method that formulates joint extraction as a token pair linking problem and introduces a novel handshaking tagging scheme that aligns the boundary tokens of entity pairs under each relation type. Shang Y M et al.[8] introduce a novel scoring based classifier to parallel tag and a Rel-Spec Horns Tagging strategy to ensure efficient decoding. Nevertheless, these methods often rely on predefined encoding and decoding strategies, and these methods often lack entity type constraints."}, {"title": null, "content": "Generative models-based methods With the widespread application of generative models such as Transformer[22] in multiple fields, some researchers have also attempted to use generative models for entity relation extraction. Dianbo Sui et al. [23] used generative models to generate sets, where the elements in the set are the desired triplets. However, the output produced by the generative model is more stochastic, and this model often relies on richer training data. LinkNER[24] is the first work exploring how to fine-tune models synergistically with LLMs for NER tasks. Asada M et al. [25] Proposed a novel relation extraction method enhanced by large language models (LLMs)."}, {"title": "3 Method", "content": null}, {"title": "3.1 Overview", "content": "In this work, we propose a novel span-based joint entity-relation extraction model named ISER. It is illustrated in Figure 1. It primarily comprises five components"}, {"title": null, "content": "that consist of the encoder module, the interactive fusion representation module, the span-based feature extraction module, the entity recognition module, and the relation extraction module. The encoder is a pre-trained BERT followed by two feedforward layers. The interactive fusion representation module carries out Cross Attention first and then executes BiLSTM to achieve representation fusion of entity and relation. The span-based feature extraction module implements span partition strategy, in which span width is embedded and span context is concated. The entity recognize module and relation extract module are traditional classification modules."}, {"title": "3.2 Encoder", "content": "The encoder module is composed of a pre-trained BERT model and two feedforward neural networks (FFNs). The input sentence X is tokenized, obtaining a sequence of n tokens and passed through the encoder, obtaining an embedding sequence $(x_1, x_2, x_3 ..., CLS)$ of length n+1, along with specific embedding representations $X_e(x_1, x_2, ... x_m)$ and $X_r(x_1, x_2, ... x_m)$ of length n, which are derived"}, {"title": null, "content": "through the FFN layers(Eq. 1,2) and respectively for entity recognition and relation extraction. In order to facilitate the completion of subsequent tasks, we map all features generated by the encoder to the same dimension as the BERT output and denote it as d."}, {"title": null, "content": "$FFN(x) = (ReLU(xW_e^1 + b_e^1))W_e^2 + b_e^2$ (1)\n$FFN(x) = (ReLU(xW_r^1 + b_r^1))W_r^2 + b_r^2$ (2)\nBoth W and b are trainable weights and biases."}, {"title": "3.3 Interactive fusion representation", "content": "The employment of the attention mechanism facilitates the selective focus on critical information within input sequences, and Cross Attention allows for the exchange of information across disparate data, thereby enhancing the model's capacity to comprehend semantic context. As outlined in the introduction, we are supposed to consider the impact of entity recognition on relation extraction and vice versa. Consequently, the integration of Cross Attention is proposed to promote mutual interaction between entity recognition and relation extraction. After the interactive information is concatenated, it is further fused through BiLSTM. The architecture of the interactive fusion representation is depicted in Fig 2."}, {"title": "3.4 Span-based feature extraction", "content": "In our span-based feature extraction module, a slide window strategy is employed to facilitate effective span partition from input sequences. Consider an input sequence of length n, where the sliding window is configured with a size k. This approach systematically traverses the sequence, extracting all candidate spans of size k, illustrated in Fig 3(a). We constrain the window size because named entities tend not to span excessively long sequences, thereby enhancing computational efficiency. For each candidate span generated, a dual mask technique is applied to encode both the span and its contextual information. The encoding of span is that positions occupied by span tokens are assigned 1 while assigning 0 to all non-span positions; Inversely, the context mask assigns span token positions with 0 and all other context positions with 1, as depicted in Fig 3(b)."}, {"title": null, "content": "After partitioning the span, we extract three types of span features separately. For the existing sequence H = (h1,h2,...hn) obtained through interactive fusion representation module and the span s =(hi,hi+1,hi+2) with width of 3 to be predicted, we use max-pooling to extract internal features across spans (Eq. 6); We then use word embedding to map the discrete span width to a fixed dimensional continuous vector, and this feature is denoted as w3 for span s and is used to clarify the boundary information of the span. Finally, We use the proposed SEA module for context feature extraction, which consists of Multi-Head Attention and BiGRU, as shown in Fig 4. The input of the SEA module is the sequence with the span has been masked Hmask=(h1,...hi-1,[mask],[mask],[mask],hi+3,\u2026hn). Then the Multi-head Self-attention is used to capture contextual semantic information. To ensure the integrity of the original information, residual structures are"}, {"title": null, "content": "$s = maxpool(h_i, h_{i+1}, h_{i+2})$ (6)\n$K/Q/V = H_{mask}W_{K/Q/V}$ (7)\n$Attention (K,Q,V) = softmax(\\frac{QK^T}{\\sqrt{d}})$ (8)\n$c = BiGRU(Attention(K, Q, V))$ (9)\n$W_K, W_Q, W_v$ are trainable weights.\nIn Fig 3(c), the three types of span features are concatenated and then used for entity recognition."}, {"title": "3.5 Entity recognition", "content": "Our entity recognition classifier is a multi-class classifier and it uses any candidate spans as input. For example, let span =(hi,hi+1,...hi+m) represent a span whose width is m+1. We let & represent the set of entity types included in the dataset, the classifier can map the span to an entity class. During the entity recognition phase, the representations we use are the concatenated representations obtained from the span-based feature extraction module ze."}, {"title": null, "content": "$z_e = z \\bigoplus S \\bigoplus W_{m+1} \\bigoplus c$ (10)\n$Y_e = softmax(W_e z_e + b_e)$ (11)"}, {"title": "3.6 Relation extraction", "content": "The relation extraction classifier uses candidate span pairs and the local context between them as input to predict whether there is a relation. For the given span pair (S1, S2) whose widths are p,q respectively, the span pair (S1, S2) are represented by their internal features and width features, and we can easily obtain contextual information between span pairs because we save mask records of spans when partitioning them, and we defined the context between the span pairs as c(S1, S2). As relations are often asymmetric, we will predict whether there is a relation both in (s1, S2) and (S2, S1). It should be noted that we also consider the local context between span pairs as \"spans\", and like obtaining internal features of spans, we use max-pooling to obtain contextual information."}, {"title": null, "content": "$z_1^r = (s_1 \\bigoplus W_p) \\bigoplus c(s_1, s_2) \\bigoplus (s_2 \\bigoplus W_q)$ (12)\n$z_2^r = (s_2 \\bigoplus W_q) \\bigoplus c(s_2, s_1) \\bigoplus (s_1 \\bigoplus W_p)$ (13)\n$\\hat{Y}_r^{12} = \\sigma (W^r z_r^{12} + b^r)$ (14)"}, {"title": "3.7 Training", "content": "We use text annotated with entities and relations for training. By training, the fine-tuning BERT, a width embedding matrix for spans, and classifiers for entity recognition and relation extraction can be obtained. The loss of our model we defined is as follows (Eq. 15)."}, {"title": null, "content": "$L = L_e + L_r$ (15)"}, {"title": null, "content": "The Le is the entity recognition loss and the Lr is the relation extraction loss. In the context of entity recognition, the model's output necessitates processing through a softmax activation function to yield the entity type with the maximum probability. The cross-entropy loss function (Eq. 16) is employed to compute the discrepancy between the predicted and actual categorical distributions for entity labels. Conversely, for relation extraction, the task reduces to determining whether a specific relation exists or not, which can be framed as a binary classification problem. Thus, the sigmoid function is utilized to map the model's output to a probabilistic representation confined between 0 and 1, and subsequently, the binary cross-entropy loss function is applied to measure the loss incurred during this binary classification process (Eq. 17). (ye and yr are the Ground Truth)"}, {"title": null, "content": "$L_e = CrossEntropyLoss(Y_e, \\hat{Y_e})$ (16)\n$L_r = BCEWithLogits(Y_r, \\hat{Y_r})$ (17)"}, {"title": "4 Experiments", "content": null}, {"title": "4.1 Datasets", "content": "CONLL04: The CoNLL04 dataset [26] is a widely-used public benchmark for joint entity and relation extraction, it comprises four primary entity types (Location, Organization, Person, and Other) and five distinct relation types (Work_for, Kill, Live_in, Organized_in, and Located_in). In this paper, We conducted experiments using the dataset provided by SpERT, which includes 922 training datasets and 231 testing datasets."}, {"title": null, "content": "CH-DDI: This is a self-built Chinese drug-drug interactions dataset, which uses drug information from the website Yimaitong. Specifically, the steps for constructing the dataset are as follows: (1) Crawl drug-drug interactions in drug instrcutions related to five chronic diseases (coronary heart disease, COPD (Chronic Obstructive Pulmonary Disease), diabetes, hypertension, and osteoporosis), remove useless information, and obtain the original data after preliminary processing. Taking the treatment of hypertension with bumetanib tablets as an example, the raw data obtained is \u201c<\u5e03\u7f8e\u4ed6\u5c3c\u7247><\u836f\u7269\u76f8\u4e92\u4f5c\u7528><1.\u4e0e\u591a\u5df4\u80fa\u5408\u7528,\u5229\u5c3f\u4f5c\u7528\u52a0\u5f3a\u30022.\u80be\u4e0a\u817a\u7cd6\u3001\u76d0\u76ae\u8d28\u6fc0\u7d20,\u4fc3\u80be\u4e0a\u817a\u76ae\u8d28\u6fc0\u7d20\u53ca\u96cc\u6fc0\u7d20\u80fd\u964d\u4f4e\u672c\u836f\u7684\u5229\u5c3f\u4f5c\u7528\u30023.\u4e0e\u62df\u4ea4\u611f\u795e\u7ecf\u836f\u7269\u53ca\u6297\u60ca\u53a5\u836f\u7269\u5408\u7528,\u5229\u5c3f\u4f5c\u7528\u51cf\u5f31>\u201d. (2) Perform sentence segmentation to obtain sentences containing"}, {"title": null, "content": "complete drug interactions. After this processing, the above example will obtain \u201c\u5e03\u7f8e\u4ed6\u5c3c\u7247@\u4e0e\u591a\u5df4\u80fa\u5408\u7528,\u5229\u5c3f\u4f5c\u7528\u52a0\u5f3a|| \u5e03\u7f8e\u4ed6\u5c3c\u7247@\u80be\u4e0a\u817a\u7cd6\u3001\u76d0\u76ae\u8d28\u6fc0\u7d20,\u4fc3\u80be\u4e0a\u817a\u76ae\u8d28\u6fc0\u7d20\u53ca\u96cc\u6fc0\u7d20\u80fd\u964d\u4f4e\u672c\u836f\u7684\u5229\u5c3f\u4f5c\u7528|| \u5e03\u7f8e\u4ed6\u5c3c\u7247@\u4e0e\u62df\u4ea4\u611f\u795e\u7ecf\u836f\u7269\u53ca\u6297\u60ca\u53a5\u836f\u7269\u5408\u7528,\u5229\u5c3f\u4f5c\u7528\u51cf\u5f31\u201d(3) Refer to the annotation of CONLL04 to achieve annotation of our dataset. Taking the first sentence after sentence segmentation as an example, the annotated data obtained is \u201c{\"text\": \"\u5e03\u7f8e\u4ed6\u5c3c\u7247@\u4e0e\u591a\u5df4\u80fa\u5408\u7528,\u5229\u5c3f\u4f5c\u7528\u52a0\u5f3a\", \"spo_list\": [\"predicate\": \"\u534f\u540c\", \"object_type\": \"@value\": \"\u836f\u7269\", \"subject_type\": \"\u836f\u7269\", \"object\": \"@value\": \"\u5e03\u7f8e\u4ed6\u5c3c\u7247\", \"subject\": \"\u591a\u5df4\u80fa\"]}\". In summary, under the guidance of clinical doctors, drug interactions are defined as seven types (antagonism, inhibition, synergy, taboo, irrelevance, promotion, addition), and we only marked drug entities with significant interactions. The processing flow of the entire dataset follows the above process and has been checked by three people. The statistical results of the two datasets introduced above are shown in Table 1, And the statistical of the relations in the CH-DDI are presented in Table 2.\""}, {"title": "4.2 Evaluation Metrics and experiment settings", "content": "Evaluation Metrics: This article assesses the performance of the model in entity recognition and relation extraction. For entity recognition, a prediction is considered correct when a span is identified as an entity and its boundaries and types exactly match the ground truth. As for relation extraction, it is deemed accurate if both spans are correctly recognized as entities and the relation between these spans is accurately predicted. In particular, we compute the precision (Eq."}, {"title": null, "content": "18), recall(Eq. 19), and F1-score(Eq. 20) on both macro and micro indicators for both entity recognition and relation extraction."}, {"title": null, "content": "$Precision = \\frac{TP}{TP + FP}$ (18)\n$Recall = \\frac{TP}{TP + FN}$ (19)\n$F1 = \\frac{2 * Precision * Recall}{Precision + Recall}$ (20)"}, {"title": null, "content": "Experiment Settings: The model architecture incorporates BERTbase as the underlying encoder for the CoNLL04 dataset, while Bio-BERT, specifically pre-trained on medical text, is utilized for the CH-DDI dataset. Both BERT models undergo fine-tuning during the training process to adapt to the respective tasks. Training involves the implementation of the Adam optimizer with a learning rate decay schedule, commencing with a peak learning rate of 2e-5. To optimize computational efficiency and convergence properties, the batch size for training iterations is empirically determined to be 2 following extensive experimental validations. Subsequently, the batch size is adjusted to 1 during the testing phase. Through meticulous experimentation, a relation threshold of 0.4 is established for the relation extraction. Based on Figure 5, we set the dropout for the CoNLL04 to 0.1 and for the CH-DDI, it is 0.75. The epoch for training we set is 70. The same method as Eberts was used to generate negative samples, 100 negative entity and relation samples were generated during the training for each sentence in CoNLL04 and 50 negative entity and relation samples for each sentence in CH-DDI."}, {"title": "4.3 Comparison with baseline models", "content": "Table 3 and Table 4 shows the comparison results between our model and other models on two datasets. To ensure the reliability of our comparison, we reproduced all the benchmark models and conducted experiments on the two datasets introduced above to obtain and compare the best results."}, {"title": null, "content": "GraphRel[17]: It is an end-to-end relation extraction model that uses graph convolutional networks (GCNs) to jointly learn named entities and relations."}, {"title": null, "content": "CasRel[16]: This model utilizes binary taggers to extract entities and relations. It needs to pre-define the relation patterns (subject_type, relation, object_type)."}, {"title": null, "content": "SPN4RE[23]: SPN4RE is a prediction model designed for triple sets, which does not require consideration of the sequential output of traditional seq2seq models."}, {"title": null, "content": "Multi-head[18]: It uses the CRF layer for entity recognition and then uses a Multi-head selection mechanism in the relation extraction."}, {"title": null, "content": "SpERT[12]: This model is a span-based joint extraction method, which uses an entity classifier and a relation classifier to obtain entities and relations."}, {"title": null, "content": "OneRel[8]: It is based on decoding algorithms and obtains relation triplets in one step."}, {"title": null, "content": "STER[20]: It is a joint extraction model with knowledge distill framework and it has two teacher models for entity recognition and relation extraction respectively."}, {"title": null, "content": "W2NER[27]: This model is based on tables, which generates a table for each input sequence and decodes the table to obtain the predicted entity and entity type."}, {"title": null, "content": "ISERGRU: It refers to remove the Semantic Enhancement Attention(SEA) module and only uses GRU to extract context information."}, {"title": null, "content": "ISERChineseBERT: It refers to uses Chinese BERT for CH-DDI rather than the Bio-BERT which has trained on large biomedical materials."}, {"title": null, "content": "Comparative analysis of evaluation metrics reveals the necessity of leveraging domain-specific pre-training models such as the use of Bio-BERT for the medical field, because the Bio-BERT can provide some potential knowledge. As"}, {"title": null, "content": "shown in Section 4.1, the annotation data our self-built dataset is:\"{\"text\": \"\u5e03\u7f8e\u4ed6\u5c3c\u7247@\u4e0e\u591a\u5df4\u80fa\u5408\u7528,\u5229\u5c3f\u4f5c\u7528\u52a0\u5f3a\", \"spo_list\": [\"predicate\": \"\u534f\u540c\", \"object_type\": \"@value\": \"\u836f\u7269\", \"subject_type\": \"\u836f\u7269\", \"object\": \"@value\": \"\u5e03\u7f8e\u4ed6\u5c3c\u7247\", \"subject\": \"\u591a\u5df4\u80fa\"]}. Before the \"@\" symble, it is an entity involved in drug interactions, which can be seen as entity prompting. And the dataset only contains one entity type. Therefore, the performance of entity recognition on this dataset is excellent. Moreover, from the statistical situation of various relation types in Table 2, there is a data imbalance problem in the CH-DDI dataset, which may have a certain impact on relation extraction."}, {"title": null, "content": "Our model demonstrates superior performance in joint extraction tasks. Experiments with the Graphrel [17] and Casrel[16] models indicate their reliance on substantial training data, the small-sized dataset we use leading to subpar performance. SPN4RE[23] is a seq2seq model designed for end-to-end task, simultaneously generating labels for entities and their corresponding triples. As a result, the model maintains consistent performance across both entity recognition and relation extraction. Our approach resembles a pipeline model, it concentrates on the two tasks for entities and relations, including improving performance in both tasks to ensure broad applicability. The multi-head selection[18] model excels in entity recognition but falls short in relation extraction due to limited semantic information. Shang et al. [8] proposed the one-stage triplet extraction model OneRel. It can effectively address the problem of relation overlap and has shown good performance on both datasets we use. STER is a model that uses knowledge distill to joint extract entities and relations which has excellent performance. In contrast to the span-based SpERT[12] model, our model achieves superior performance in both entity recognition and relation extraction. On the CH-DDI dataset, the Fl-score of our model for both tasks increases by 1.62% and 2.26%. On the CoNLL04 dataset, our model exhibits improvements of 1.63% and 3.22% in the F1-score for entity recognition and relation extraction, respectively. The W2NER [27] achieves comprehensive entity recognition across"}, {"title": null, "content": "domains and languages, showcasing superior performance. However, from Table 3 and Table 4, it can be seen that our model performs better than W2NER on both the CH-DDI dataset and the CoNLL04 dataset, with F1-score improved by 1.19% and 3.35% respectively."}, {"title": "4.4 Ablation study", "content": "We performed seven ablation experiments, the results are presented in Table 5 and Table 6. In these experiments, \"-interactive fusion\" refers to the removal of the interactive fusion representation module; \"SEA -> CLS\" denotes the elimination of the proposed SEA module and the utilization of the CLS token generated by BERT; \"LC ->LCatt\" means we use self-attention to obtain the local context; \u201cLC ->LCBERT\" refers to using the local context in the original BERT output; \"LC -> CLS\" signifies the utilization of the CLS token output by BERT; \"LC ->GCBERT\" refers to using the whole output generated by BERT and \"LC > GC\" denotes utilizing the whole output obtained through interactive fusion representation module."}, {"title": null, "content": "Based on the experimental results presented in Table 5 and Table 6, it can be observed that our proposed interactive fusion representation module effectively"}, {"title": null, "content": "enhances model performance, particularly in relation extraction, with an increase of 1.27% and 3.06% in F1-score on the CH-DDI and CoNLL04 datasets, respectively. After removing the Semantic Enhancement Attention (SEA) module we proposed and replacing it with the token CLS, the performance of entity recognition on both datasets decreased, which in turn affected subsequent relation extraction."}, {"title": null, "content": "In addition, we focused on discussing the semantic information used in the relation extraction, the Fig 6 illustrates the comparison of F1-score for the replacement of the local context we use. It can be seen that whether using global or local context, the results obtained by using the representations through the interactive fusion representation module are better than using the original representations generated by BERT. On the CoNLL04 dataset, using the interactive global context increased the F1-Score for relation extraction by 2.62% compared to using the original BERT global context, and the results using the original BERT local context decreased the F1-Score by 1.99%. The same pattern was observed on the CH-DDI dataset. This once again proves the effectiveness of our proposed interactive fusion representation module. We also processed the local context using self-attention mechanism and compared the results. From Table 5 and Table 6, it can be seen that the results of using attention mechanism are not significantly improved from those of using max-pooling. Considering the efficiency of the model, we ultimately decide to use max-pooling. In addition, we can observe that on the CoNLL04 dataset, the performance of relation extraction fluctuates greatly after not using the local context. For example, when using global context obtained by BERT and the token CLS respectively, the F1-score decreases by 7.77% and 5.93%. On the dataset CH-DDI, there is not much change in performance, which is determined by the language characteristics. English often determines relations based on certain keywords, so the introduction of complete semantic information is equivalent to introducing too much redundant information, while some complex Chinese relations need to be judged based on complete semantics."}, {"title": "5 Interpretability Analysis", "content": "In this section, we visualized and analyzed the Cross Attention we use. Specifically, we aggregate the weight matrices obtained through scaled dot-product attention at the token level and normalize them. Figure 7 and Figure 8 are specific visualization examples for ConLL04 and CH-DDI. From the figures, we can see that when using the relation representations as the query, the updated representations pay more attention to the overall semantics, especially the potential entities. The example in CoNLL04 dataset shows that the model assigns higher attention to \u201cWilkes Booth\u201d and \u201cLincion\u201d and in the CH-DDI dataset, \u201c\u6ce8\u5c04\u7528\u73af\u78f7\u817a\u82f7\u8461\u80fa\u201dhas high weight. While using entity representations as the query, Words related to relations are given higher weight. For example, in Figure 7, \u201cassassinate\" is given the highest weight and it often implies a \"kill\" relation in the sentence. In Figure 8, the \u201c\u7981\u4e0e\u201dhas the highest weight and it means that there may be a \"taboo\u201d relation."}, {"title": "6 Conclusion", "content": "This paper proposes a joint entity-relation extraction model based on span and Interactive fusion representation for Chinese medical texts with complex semantics, which achieves bidirectional information interaction between entity recognition and relation extraction. When performing entity recognition, the proposed SEA module can effectively obtain contextual semantics for partitioned spans, thereby improving the performance. The local context is used to supplement semantics in relation extraction to help circumvent potential confusion within the relation classifier caused by relation overlap issues. Our model performs well on the public dataset CoNLL04 and the self-bulit CH-DDI dataset."}, {"title": null, "content": "In the future, we will do our best to improve our dataset CH-DDI to address the issue of data imbalance, and we will also explore more methods for information exchange in entity recognition and relation extraction."}]}