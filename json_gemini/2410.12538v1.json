{"title": "CHARACTERIZING BEHAVIORAL DIFFERENCES AND ADAPTATIONS OF AUTOMATED VEHICLES AND HUMAN DRIVERS AT UNSIGNALIZED INTERSECTIONS: INSIGHTS FROM WAYMO AND LYFT OPEN DATASETS", "authors": ["Saeed Rahmani", "Zhenlin (Gavin) Xu", "Simeon C. Calvert", "Bart van Arem"], "abstract": "The integration of autonomous vehicles (AVs) into transportation systems presents an unprecedented opportunity to enhance road safety and efficiency. However, understanding the interactions between AVs and human-driven vehicles (HVs) at intersections remains an open research question. This study aims to bridge this gap by examining behavioral differences and adaptations of AVs and HVs at unsignalized intersections by utilizing two comprehensive AV datasets from Waymo and Lyft. Using a systematic methodology, the research identifies and analyzes merging and crossing conflicts by calculating key safety and efficiency metrics, including time to collision (TTC), post-encroachment time (PET), maximum required deceleration (MRD), time advantage (TA), and speed and acceleration profiles. The findings reveal a paradox in mixed traffic flow: while AVs maintain larger safety margins, their conservative behavior can lead to unexpected situations for human drivers, potentially causing unsafe conditions. From a performance point of view, human drivers exhibit more consistent behavior when interacting with AVs versus other HVs, suggesting AVs may contribute to harmonizing traffic flow patterns. Moreover, notable differences were observed between Waymo and Lyft vehicles, which highlights the importance of considering manufacturer-specific AV behaviors in traffic modeling and management strategies for the safe integration of AVs. The processed dataset utilized in this study is openly published to foster the research on AV-HV interactions.", "sections": [{"title": "1 Introduction", "content": "The advent of automated vehicles (AVs) represents one of the most significant technological advancements in the transportation sector over the past few decades. These vehicles promise to reduce human errors and provide potential benefits, including increased safety, reduced traffic congestion, lower emissions, and improved accessibility. In recent years, the transition of AVs from concept to reality has gained momentum. Companies like Waymo and Motional have already deployed their robotaxi fleets in various U.S. cities, and industry giants such as Tesla and Zoox (Amazon's"}, {"title": "2 Related Works", "content": "Previous research on AV-HV interactions generally falls into two main categories: studies exploring the behavioral differences between AVs and HVs, and studies investigating the behavior adaptation of HVs when interacting with AVs. In this section, we overview these studies and highlight the gaps in the existing literature.\nThe initial studies utilized \"field data\" to research the behavior of human drivers in mixed traffic. [3] conducted car-following experiments using Texas A&M University's automated Chevy Bolt and observed that human drivers felt more comfortable following the AV and kept shorter headways. [14] performed a Wizard of Oz experiment in the Netherlands focusing on car-following and overtaking behaviors. They found that human drivers can potentially exploit AVs in their interactions by making abrupt merges in front of AVs. [15] doubted these findings and argued that drivers' reactions to autonomous vehicles depend on their subjective trust in AV technologies rather than the actual driving behavior. They categorized humans as AV-believers and AV-skeptics, where only AV-believers followed AVs with lower headways. [6] observed a similar pattern in the interactions between HVs and AVs, where only aggressive and moderate drivers showed increased aggressive behavior. Additionally, aggressive drivers were more prone to exploit AVs while driving.\nWith the availability of \u201creal-world\" datasets of AVs, such as Waymo Open Dataset [16, 17], Lyft Level 5 [18], and Argoverse [19], researchers began to characterize the behavior AVs and HVs in mixed traffic. [7] and [8] noted that human drivers following AVs exhibit lower driving volatility, shorter time headways, and higher time-to-collision values. This finding is confirmed by [9] and [10], who observed that human drivers maintain shorter spacing and time gaps when following AVs compared to human-driven vehicles. on the other side, and focusing on the behavior of AVs among HVs, [11] found that AVs demonstrate significantly larger time headways than HVs, suggesting higher safety measures. They also noted longer response times for AVs to various stimuli. Despite these relatively consistent findings from real-world datasets, [4] cast doubt upon these findings and propose alternative explanations for these observed behavioral differences. They highlight potential observation biases in AV-collected data, driver heterogeneity, and distinct driving patterns between AVs and HVs and argue that these behavioral insights from non-behavioral data require further scrutiny. All in all, these studies collectively underscore the behavior adaptation of HVs when interacting with AVs, and the different behavior of AVs compared to human drivers. However, they have mainly focused on car-following scenarios and neglected the intricate and multi-dimensional interactions at urban intersections.\nRecently, a few studies have gone beyond analyzing car-following scenarios. [7] studied the behavior of AVs and HVs when approaching signalized intersections. However, they only focused on longitudinal behaviors of AVs and HVs before the intersection, such as approaching a queue or starting a maneuver after a traffic light turns green, and did not investigate the interactions of vehicles inside the intersections. [20] identified crossing conflicts within the Argoverse 2 dataset [19] to study the conflict resolution behavior of AVs and HVs in AV-free and AV-included scenarios. Although this study includes two-dimensional interactions, it does not differentiate between unsignalized intersections and other conflicts, such as vehicles exiting parking areas or situations where one vehicle has a clear right of way. Mixing these scenarios with unsignalized intersections can lead to biased estimations, as they involve different levels of complexity and decision-making. Additionally, the study is limited by its reliance on a single dataset, which questions its generalizability and restricts the ability to investigate behavioral differences across AVs from different companies, and potential different behavioral adaptations of human drivers when facing AVs with different driving styles. Last but not least, the study primarily focuses on crossing maneuvers, without comparing the outcomes of merging and crossing conflicts, which limits a more comprehensive understanding of these different types of interactions.\nThis study addresses these limitations by identifying unsignalized intersections with equal right of way for all their approaches, utilizing two real-world AV datasets from Waymo and Lyft, and comprehensively analyzing both crossing and merging conflicts.\nThrough these contributions, we offer a more robust and diverse analysis of AV-HV interactions. allowing us to explore not only the behavioral differences between AVs and HVs but also between AVs from different manufacturers. Furthermore, the published dataset is the first dataset focusing on unsignalized intersections, which facilitates targetted research in this domain, such as calibrating microsimulation models [13, 12] and development of safer, more efficient, and socially-compliant autonomous driving systems."}, {"title": "3 Methodology", "content": "This study employs a systematic approach to process the datasets, identify relevant scenarios, and analyze interactions between autonomous vehicles (AVs) and human-driven vehicles (HVs). The procedure includes four main steps, depicted in Figure 1. In the first step, the dataset is selected based on the objectives of the study. The second step concerns data preparation, which includes developing an algorithm for identifying unsignalized intersections and preprocessing the data to address noises and outliers. In the third step, algorithms are developed to detect and classify conflicts into crossing and merging, find the potential conflict point, and calculate the desired metrics for analyzing and characterizing the HVs and AVs behaviors and their interactions. Finally, the analyses are conducted using the defined metrics and statistical analysis. Our analysis encompasses both qualitative and statistical comparative analysis."}, {"title": "3.1 Framework Description", "content": "This study employs a systematic approach to process the datasets, identify relevant scenarios, and analyze interactions between autonomous vehicles (AVs) and human-driven vehicles (HVs). The procedure includes four main steps, depicted in Figure 1. In the first step, the dataset is selected based on the objectives of the study. The second step concerns data preparation, which includes developing an algorithm for identifying unsignalized intersections and preprocessing the data to address noises and outliers. In the third step, algorithms are developed to detect and classify conflicts into crossing and merging, find the potential conflict point, and calculate the desired metrics for analyzing and characterizing the HVs and AVs behaviors and their interactions. Finally, the analyses are conducted using the defined metrics and statistical analysis. Our analysis encompasses both qualitative and statistical comparative analysis."}, {"title": "3.2 Dataset selection and Introduction", "content": "Our criteria for dataset selection included several key characteristics: the availability of long trajectories to capture the behavior of AVs and HVs before and within the intersection, the presence of autonomous vehicles operating in fully autonomous mode (and not with a human driver), and the availability of comprehensive trajectory data for detailed analysis. Table 1 presents a comparison of four popular AV datasets. Among these datasets, nuPlan data is collected by an equipped vehicle driven by a human driver, and the trajectories within the Argoverse 2 dataset are 11 seconds. Therefore, this study utilizes Lyft Level 5 and Waymo Open Datasets. Both datasets provide rich information on autonomous vehicle operations in diverse traffic scenarios, making them suitable for our analysis of AV-HV interactions at unsignalized intersections.\nThe Waymo Open Dataset\u00b3 provides approximately 570 hours of driving data, collected across six cities, including San Francisco, Phoenix, Mountain View, Los Angeles, Detroit, and Seattle. We utilize version 1.2.1 of the motion dataset (April 2024), which includes 20-second scenarios and provides the labels for the AV, as well as for other agents in each scene. This dataset employs a fleet of Jaguar I-PACE electric SUVs, which are distinguishable from regular vehicles due to their advanced sensor arrays, including roof and side-mounted LiDAR units and multiple high-definition cameras (Figure 2a). This dataset provides high-resolution trajectory data at 10 Hz, and a length of 20 seconds for each scenario, enabling precise analysis of vehicle interactions."}, {"title": "3.3 Dataset Preparation", "content": "The dataset preparation is comprised of two steps: preprocessing the data by removing outliers and reducing noises in the datasets, and identifying relevant scenarios where vehicles interact with each other at an unsignalized intersection. These steps are detailed as follows."}, {"title": "3.3.1 Data Smoothing", "content": "We observed different types of noises and outliers in the dataset. Most of the noises were apparently due to measurement errors also reported by [4]. However, in some cases, we observed high jumps in the speed profiles, which seemed to be due to inaccurate interpolation between scenarios or frames, which was also observed by [10]. To alleviate such outliers, we first filtered out the data points that required accelerations higher than 10 m/s\u00b2 or decelerations lower than -10 m/s\u00b2 and replaced them with the average observed values of the previous five and next five frames. Next, we applied a low-pass Butterworth filter to smooth the high-frequency fluctuations in our velocity data. The low-pass filter is designed to allow low-frequency components of the signal to pass through while attenuating higher-frequency components, effectively smoothing the data [21]. This approach is particularly useful for reducing noise and revealing the underlying trends in our time-series data. It is characterized by its maximally flat frequency response in the passband, which means it doesn't distort the desired part of the signal. The Butterworth filter is characterized by its transfer function:\n$H(s) = \\frac{1}{\\sqrt{1 + (\\frac{s}{w_c})^{2n}}}}$\nwhere s is the complex frequency variable, wc is the cutoff angular frequency, and n is the filter order. To apply this filter to our discrete-time velocity data, we used a digital implementation by utilizing the SciPy library in Python. The digital Butterworth filter was designed using the following parameters: a cutoff frequency (wc) of 0.5 Hz, a sampling frequency (fs) of 10.0 Hz, and a filter order (n) of 4. Figure 3 shows the results of applying the designed filter and outlier detection to both Waymo and Lyft datasets. As it is presented, the smoothing process has successfully removed the outliers and noises in the datasets, resulting in smooth speed profiles."}, {"title": "3.3.2 Scenario Selection", "content": "The next step is to select the relevant scenarios where the ego vehicle passes an uncontrolled, all-stop, unsignalized intersection. To this end, we developed a systematic approach, where firstly, the HD map data is utilized to locate all the stop signs on the map. Then, a distance-based clustering approach is used to cluster the stop signs whose Euclidean"}, {"title": "3.3.3 Conflict Identification and Classification", "content": "The next step is to identify the merging and crossing conflicts. As a broad definition, a conflict refers to a \u201csituation where two or more road users approach each other in space and time to such an extent that there is a risk of collision if their movements remain unchanged\" [22]. In this study, we take a similar approach proposed by [20] with a slight modification. we identify any interaction between two vehicles as a conflict if: 1) the post encroachment time (PET) for that interaction is less than 10 seconds (as opposed to 5 seconds proposed in [20], and the speed of at least one of the vehicles has changed greater than 3m/s. We released the 5 seconds to 10 seconds in this study since a significant"}, {"title": "3.3.4 Identifying the Conflict Point", "content": "For calculating most of the metrics in this study, we first needed to identify the potential conflict point for each interaction. For crossing scenarios, this process is straightforward as the conflict point occurs where the trajectories of the two vehicles intersect. However, for merging scenarios, the trajectories of the two vehicles might not intersect due to their lateral offset within the lane. To address this, a buffer of 2 meters (1 meter on each side) was added to each vehicle's trajectory and the first point of contact between the two buffers was identified as the conflict point. This is shown by the red dot in Figure 6."}, {"title": "3.4 Definition of Metrics", "content": "In this section, and before diving into the results, we overview the different metrics used for characterizing the driving and conflict resolution behavior of AVs and HVs:"}, {"title": "3.4.1 Time to Collision (TTC):", "content": "TTC measures the time remaining before a collision would occur if both vehicles maintained their current speed and trajectory. We use the approach proposed by [5] for calculating two-dimensional TTC for merging and crossing interactions. For crossing scenarios, we calculate TTC as:\n$TTC_{cross} = \\frac{d_f}{U_f}$\nFor merging scenarios:\n$TTC_{merge} = \\frac{d_f}{U_f - \u03c5\u03b9}$\nWhere df is the distance of the follower to the conflict point, and uf and vi are the speeds of the following and leading vehicles, respectively. This approach is consistent with methods employed by the Joint Research Centre of the European Commission [23]. Also, minimum TTC (minTTC), an indicator of conflict severity and risk, is calculated as the minimum value of TTC recorded for an interaction over the duration of the interaction untill the second vehicle passes the conflict point."}, {"title": "3.4.2 Post-Encroachment Time (PET):", "content": "PET measures the time difference between the moment the first vehicle leaves the conflict point and the second vehicle arrives at it:\n$PET = t_f - t_i$\nWhere tf is the time the following vehicle arrives at the conflict point, and ti is the time the leading vehicle leaves the conflict point."}, {"title": "3.4.3 Maximum Required Deceleration to Avoid Collision (MRD):", "content": "In this study, we introduce a new metric\u2014MRD-to capture the most critical deceleration required by the following vehicle during its approach to the conflict point. MRD represents the highest deceleration needed by the following vehicle to safely avoid a potential collision while approaching the conflict point. It is calculated based on the required deceleration values at each time instance from when the potential conflict is first observed until the leading vehicle has passed the conflict point. The MRD is defined as the maximum of the required deceleration values during this period:\n$MRD = max(\\frac{v_{if}^2}{2d_{if}})$ \nWhere vif is the speed of the following vehicle and dif is the distance to the conflict point at each time instance i. Using the maximum value is preferable to aggregating deceleration over time because it highlights the peak demand placed on the vehicle's braking capabilities. The maximum required deceleration directly reflects the highest risk point"}, {"title": "3.4.4 Time Advantage (TA):", "content": "TA indicates the time differences between the estimated arrival of the first and the second vehicle at the intersection. Time advantage defines which vehicle arrives first at the conflict point assuming that the two vehicle keep their current speed.\n$TA = \\frac{d_f}{U_f} - \\frac{di}{\u03c5\u03b9}$"}, {"title": "4 Results and Discussions", "content": "In this section, we present the results from our analysis of the behavioral adaptations and differences between HVs and AVs at unsignalized intersections. For our analysis, we classify the interactions into three groups:\n\u2022 HV-HV interactions: These are interactions where both vehicles are human-driven. We analyze these as the baseline to understand typical human driving behaviors at unsignalized intersections. This comparison provides a reference point for evaluating how the introduction of AVs may alter driver behavior and intersection dynamics.\n\u2022 AV-HV interactions: In these interactions, the first vehicle is autonomous, while the second is human-driven. This configuration is critical for examining how AVs may influence the behavior of human drivers who follow them.\n\u2022 HV-AV interactions: Here, the first vehicle is human-driven, and the second is autonomous. These interactions allow us to observe how AVs behave when following human drivers. This setup is especially important for understanding how AVs handle situations where they must yield or adjust to the uncertain behaviors of human drivers, providing insights into the adaptability of AV algorithms in mixed traffic.\nThis classification allows us to systematically explore how AVs and human drivers interact in mixed traffic at unsignalized intersections. By isolating these scenarios, we can assess the impact of AVs on driving behaviors, traffic flow, and safety."}, {"title": "4.1 Post Encroachment Time and Time-to-Collision", "content": "PET and TTC are the two most popular safety surrogate measures that are widely used for the safety analysis of interactions and driving behaviors [24, 25]. Low values of PET and TTC are associated with a higher risk of collisions. TTC acts as a proactive measure, providing an estimation of the criticality of the conflict, while PET serves as a retrospective analysis tool, offering insights into near-miss incidents by measuring the observed time gap between vehicles at a conflict point. Figure 7 depicts a joint distribution of PET and minimum observed TTC in HV-HV, AV-HV, and HV-AV interactions.\nThe visual inspection of these plots, accompanied by the results of statistical analysis presented in Table 3 reveal interesting findings. In general, in scenarios where an AV follows an HV (orange dots), higher values of PET and minTTC are observed compared to other conflict types. This trend is evident in both merging and crossing scenarios, indicating that AVs maintain larger safety buffers and show more conservative driving behaviors when trailing HVs. These findings highlight the potential of AVs to enhance safety at unsignalized intersections by maintaining larger safety margins. Nevertheless, this benefit comes with a cost of possible lower efficiency due to larger gaps between the vehicles [10]. This is in line with the observations from the Argoverse dataset proposed by [20].\nInterestingly, the differences between AV-HV and HV-HV interactions are less apparent, which suggests that human drivers still show similar and relatively aggressive driving styles when interacting with AVs. However, we observed greater heterogeneity in HV behaviors when interacting with other HVs compared to their interactions with AVs. This encourages the argument that the presence of AVs may contribute to reducing variability in HV behavior at intersections, potentially standardizing traffic flow patterns. This finding aligns with observations from car-following scenarios in the literature [7, 8]. However, such a conclusion needs further investigation into a wider range of scenarios and datasets. All in all, the investigation of PET-minTTc metrics indicates that HV-HV and AV-HV conflicts are more prone to observing safety criticality, which highlights the important of studying the behavior of human drivers in mixed traffic."}, {"title": "4.2 Maximum Required Deceleration", "content": "We employ maximum required deceleration (MRD) as another indication of scenario criticality. Higher values of MRD indicate a harsher possible reaction from the follower considering its current speed and distance to the leader in order to avoid a potential collision. Figure 8 depicts the boxplots of estimated MRD values for the followers before reaching the conflict point, and Table 4 presents the results of statistical tests for evaluating the significance of observed differences. Interestingly, AV-HV interactions show higher values of MRD compared to other interaction types for both merging and crossing scenarios. This might be related to the unexpected behavior of AVs, which can lead to misunderstandings by human drivers. Specifically, human drivers may be uncertain whether the AV is yielding or proceeding, causing hesitation and delayed deceleration. This uncertainty can result in human drivers delay their deceleration, leading to higher MRD values. This observation aligns with reports on crashes involving automated"}, {"title": "4.3 Time Advantage", "content": "In this study, we propose a novel approach to identify potentially aggressive driving behavior by the \u201clead vehicle\" at intersections. To this end, we utilize the metric called \"time advantage\" (TA) to estimate which vehicle will reach the intersection first at each time step from when the conflict is detected until the first vehicle finally passes the conflict point. Tracking the TA values as the vehicles approach the intersection allows us to determine which vehicle established a positional advantage during the interaction. For instance, observing frequent negative TA values for the leading vehicle at an interaction suggests that the lead vehicle was initially at a disadvantage (negative TA values) but may have accelerated or otherwise acted aggressively to gain the lead at the conflict point. This allows us to quantify aggressive maneuvers, such as speeding up or forcing the other vehicle to yield.\nThe TA distributions for HV-AV and AV-HV interactions for both Waymo and Lyft vehicles are depicted in Figure 9. Also, the statistical tests for comparing these distributions are provided in Table 5. These analyses reveal interesting patterns: The distribution of TA values for Waymo vehicles when being the leader in an interaction closely resembles that of human drivers in comparable situations. This suggests that Waymo vehicles show human-comparable behaviors during the negotiation phase when approaching the intersection. In contrast, the distribution of TA values for Lyft vehicles differs significantly from human drivers (Table 5. Visual inspection of the distributions suggests that human drivers tend to take advantage of Lyft vehicles more often than Waymo vehicles in both merging and crossing conflicts (as shown by the more frequent occurrence of negative TA values when the human driver ultimately becomes the leader in the interaction (HV-AV)). This could be due to Lyft's more conservative driving style. These observations about the behavior of Waymo and Lyft vehicles are in line with previous observations in Section 4.2, where Lyft vehicles often exhibited higher MRD values, indicating a need for harder braking to avoid collisions, likely due to more aggressive driving from human drivers."}, {"title": "4.4 Speed and Acceleration Analysis", "content": "The speed of vehicles within the intersection and their acceleration behavior are important aspects that can be used both for studying the safety and efficiency of the intersection and for the calibration of microscopic traffic flow models. Our"}, {"title": "5 Summary of Findings", "content": "This section summarizes the main findings of this study. The analysis of two large-scale AV datasets revealed that AVs generally maintain larger safety margins compared to HVs, especially when interacting as followers. This is evidenced by higher Post-Encroachment Time and minimum Time to Collision values when AVs trail HVs. This conservative approach by AVs can potentially contribute to increased safety at intersections; however, this benefit might come with the cost of some reduction in traffic efficiency. The findings also suggest that although human drivers may tend to exhibit more consistent and less variable behavior when interacting with AVs, this consistency appears to be influenced by the specific behavior of the AVs themselves. Therefore, a general statement cannot be made across all AV types. The extent to which AVs contribute to standardizing traffic flow patterns and improving safety and efficiency at intersections is likely dependent on how predictable and human-compatible the AV's driving style is.\nThis study also highlights potential challenges associated with the integration of AVs into mixed traffic. Analysis of the maximum required deceleration (MRD) reveals that human drivers following AVs (HV-AV) frequently need to apply more abrupt deceleration rates compared to HV-HV interactions. This observation may be attributed to the unfamiliar or unexpected behavior of AVs, which can potentially lead to misinterpretations and elevated risks for human drivers. These findings highlight a paradox in the analysis of mixed traffic flow: while AVs generally maintain larger safety margins, their different driving style can lead to unexpected situations for human drivers, potentially causing unsafe situations. Also, overly cautious driving style from AVs can lead to aggressive driving from human drivers.\nFinally, this study reveals remarkable differences between the behavior of Waymo and Lyft vehicles when interacting with HVs at unsignalized intersections. While Lyft AVs demonstrated more conservative behaviors, Waymo AVs exhibited behaviors more similar to human drivers and less conservative compared to the Lyft vehicle. Moreover,"}, {"title": "6 Conclusion", "content": "This study provides an in-depth examination of the interactions between AVs and HVs at unsignalized intersections by utilizing real-world large-scale datasets from Waymo and Lyft. The research underscores the intricate dynamics present in mixed traffic environments, highlighting the importance of understanding the mutual influence of AVs and human drivers. By evaluating key safety metrics such as Time to Collision (TTC), Post-Encroachment Time (PET), Maximum Required Deceleration (MRD), and Time Advantage (TA), this study sheds light on the behavioral differences and adaptations between AVs and HVs. One of the key findings of this study is that AVs tend to maintain larger safety margins than HVs, which enhances safety but may also reduce traffic efficiency. However, the research also reveals that human drivers exhibit more consistent behavior when interacting with AVs, suggesting that AVs could standardize traffic flow patterns at intersections. This potential for hormonization indicates a positive influence of AVs on overall traffic dynamics. The study further identifies significant differences between the behaviors of Waymo and Lyft AVs. Waymo vehicles tend to mimic human driving behaviors more closely, leading to smoother integration with human traffic. In contrast, Lyft vehicles display more conservative driving patterns, which may increase safety but at the cost of potential inefficiencies in traffic flow. These differences underscore the importance of considering manufacturer-specific behaviors in traffic modeling and management strategies. Despite the promising findings, the study also highlights potential challenges. The unexpected behaviors of AVs can lead to misunderstandings and increased risk for human drivers, as indicated by higher MRD values in AV-HV interactions. This paradox of maintaining safety margins while potentially causing unsafe situations due to unpredictability underscores the need for improved AV algorithms that align more closely with human expectations.\nWhile this study provides valuable insights into the interactions between AVs and HVs at unsignalized intersections, several limitations must be acknowledged. The findings are based solely on two datasets from Waymo and Lyft, which, while comprehensive, may not fully represent the diverse range of driving behaviors and conditions present in real-world traffic environments. These datasets primarily capture urban driving scenarios and may not account for variations in traffic density, road types, or regional driving habits. To build on these findings, future research should incorporate more diverse datasets that include a broader spectrum of traffic and environmental conditions. This would enable a more robust understanding of AV-HV interactions across various contexts."}]}