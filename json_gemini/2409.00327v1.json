{"title": "Demo: FedCampus: A Real-world Privacy-preserving Mobile Application for Smart Campus via Federated Learning & Analytics", "authors": ["Jiaxiang Geng", "Beilong Tang", "Boyan Zhang", "Jiaqi Shao", "Bing Luo"], "abstract": "In this demo, we introduce FedCampus, a privacy-preserving mo-bile application for smart campus with federated learning (FL) andfederated analytics (FA). FedCampus enables cross-platform on-device FL/FA for both iOS and Android, supporting continuouslymodels and algorithms deployment (MLOps). Our app integratesprivacy-preserving processed data via differential privacy (DP)from smartwatches, where the processed parameters are used forFL/FA through the FedCampus backend platform. We distributed100 smartwatches to volunteers at Duke Kunshan University andhave successfully completed a series of smart campus tasks featur-ing capabilities such as sleep tracking, physical activity monitoring,personalized recommendations, and heavy hitters. Our project isopensourced at https://github.com/FedCampus/FedCampus_Flutter.See the FedCampus video at https://youtu.be/k5iu46IjA38.", "sections": [{"title": "1 INTRODUCTION", "content": "Federated Learning (FL) holds great promise for collaborativelytraining shared machine learning models on end devices whilepreserving data privacy [2]. However, apart from Google's keyboardprediction and Apple's speaker recognition in Siri, there are few real-world applications of FL, especially for cross-platform on-devicescenarios. Although there are FL frameworks such as Flower [1] andFedML[3], they have not been deployed as real-world applications.\nFedCampus address the following challenges: 1) We develop andlaunch a real-world privacy-preserving mobile application at a uni-versity scale. 2) To collaboratively train the same models acrossusers' diverse smartphones, we address cross-platform on-devicetraining and model aggregation. 3) To customize FL algorithms andupdate models in production, we develop to get maximal controlover the FL process on users' devices from our end. 4) To enhanceprivacy protection during real-world applications, we support en-cryption features such as differential privacy (DP) on mobile devices,including encryption in both FL and Federated Analytics (FA)\u00b9."}, {"title": "2 FEDCAMPUS DESIGN", "content": "FedCampus enables FL/FA across both Android and iOS client de-vices, managed by a single backend server, as shown in Fig.1. ForFL, each client trains a local model using private data, while thebackend server aggregates these local models across platforms toupdate the global model.\n2.1 Cross-Platform On-Device FL Pipeline\nTo enable cross-platform FL [6], particularly cross-platform aggre-gation, we propose a pipeline that includes model conversion andunified training APIs:\nModel Conversion: We convert models into formats compati-ble with Android (TensorFlow Lite or TFLite) and iOS (Core ML). ForAndroid, we standardize a model format and develop a compliantTensorFlow converter. For iOS, we define a fixed model structureand utilize the official CoreMLTools converter.\nUnified Training APIs: FedCampus provides trainers withunified APIs for retrieving and setting model parameters, modelfitting, and evaluation, leveraging GPU and NPU acceleration. OnAndroid, we use the TFLite interpreter to invoke our standardizedmethods defined during model conversion. On iOS, we employan undocumented method that modifies the underlying ProtoBufrepresentations of Core ML models."}, {"title": "2.2 Support for MLOps", "content": "In production, FL development faces challenges due to the lackof direct control over end devices. FedCampus addresses this byempowering researchers to continuously deploy models and algo-rithms (MLOps).\nContinuous Cross-Platform Task Delivery: FedCampusenables continuous task delivery without requiring app updates bydecoupling models from clients through a Model Request system.This allows new models to be deployed by uploading them to theBackend.\nCustomizable Continuous FL Training: FedCampus man-ages continuous FL training by supporting multiple parallel trainingsessions through FL Server Setup. Each FL Server runs as an inde-pendent Python subprocess within the Django Backend, occupyingits own port for client connections during FL Training."}, {"title": "2.3 Differential Privacy on FL & FA", "content": "Although FL and FA inherently offer privacy-preserving features,there are still privacy risks in production, such as exposure to mem-bership inference attacks. To enhance privacy protection, FedCam-pus provides interfaces for privacy-preserving algorithms, enablingthe implementation of DP and other encryption methods.\nInterface for DP on FL & FA: FedCampus supports both FLand FA, applying DP encryption as an example in both contexts:For FL, FedCampus adds noise to models after local training onclient devices and supports the aggregation of these noisy modelson the server. For FA, FedCampus implements de-identification oflocal data on devices and applies noise perturbation to the data,which effectively protects client data privacy during analysis andcommunication."}, {"title": "3 DEMONSTRATION", "content": "FedCampus has been deployed and validated in real-world environ-ments. We recruited a large number of volunteers and implementedthe system across various personal devices, successfully completingmultiple smart campus tasks in Duke Kunshan University.\n3.1 Demonstration Setup\nHere, we outline our setup implemented for FedCampus in DukeKunshan University, as shown in Fig.2. The platform has beenoperational for 11 months, from 2023/10 to the present."}, {"title": "3.2 Smart Campus Tasks", "content": "FedCampus has successfully implemented a variety of smart cam-pus tasks, as shown in Fig.3.\nSleep Tracking (FL): This task monitors and analyzes sleeppatterns using labels such as sleeping duration and screen timeto provide insights into sleep quality. We have trained a sleep-efficiency prediction model [7].\nPhysical Activity Monitoring (FL): This task tracks and evalu-ates physical activities using labels like steps, walking distance, andaverage heart rate to assess overall fitness levels. We have traineda CNN model for activity prediction [5].\nPersonalized Recommendations (FA): This task delivers tai-lored suggestions to users based on aggregated health data, utilizinglabels like activity levels and daily calorie.\nHeavy Hitters (FA): Our target is to identify the most prevalentstep counts, known as \"heavy hitters,\" across various participantclusters to evaluate the quality of students' physical activity [4]."}]}