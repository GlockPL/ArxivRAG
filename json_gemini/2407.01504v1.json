{"title": "Reinvestigating the R2 Indicator", "authors": ["Lennart Sch\u00e4permeier", "Pascal Kerschke"], "abstract": "In multi-objective optimization, set-based quality indicators are a cornerstone of benchmarking and performance assessment. They capture the quality of a set of trade-off solutions by reducing it to a scalar number. One of the most commonly used set-based metrics is the R2 indicator, which describes the expected utility of a solution set to a decision-maker under a distribution of utility functions. Typically, this indicator is applied by discretizing this distribution of utility functions, yielding a weakly Pareto-compliant indicator. In consequence, adding a nondominated or dominating solution to a solution set \u0442\u0430\u0443 but does not have to improve the indicator's value.\nIn this paper, we reinvestigate the R2 indicator under the premise that we have a continuous, uniform distribution of (Tchebycheff) utility functions. We analyze its properties in detail, demonstrating that this continuous variant is indeed Pareto-compliant - that is, any beneficial solution will improve the metric's value. Additionally, we provide an efficient computational procedure to compute this metric for bi-objective problems in O(N log N). As a result, this work contributes to the state-of-the-art Pareto-compliant unary performance metrics, such as the hypervolume indicator, offering an efficient and promising alternative.", "sections": [{"title": "1 Introduction", "content": "When optimizing any system, there is often not just one objective, but multiple criteria required to assess the quality of a solution. Rather than aggregating these different optimization objectives into one, e.g., by means of a linear combination of the individual objectives, the domain of multi-objective (MO) optimization aims to find a set of (Pareto-)optimal trade-off solutions to present to a decision-maker [13]. However, to benchmark MO optimizers and facilitate algorithm design, parameter tuning, and automated algorithm selection, quantifying the quality of trade-off solutions in a unary set-based performance indicator is often necessary."}, {"title": "2 Background", "content": "We begin by introducing some fundamental aspects of multi-objective optimization and dominance relationships of multi-objective solutions. Then, we will cover core aspects of set-based performance assessment in multi-objective optimization and its best known representative, the hypervolume indicator. Finally, we introduce the R2 indicator with its most important properties for the discretized and the exact variant."}, {"title": "2.1 Multi-objective Optimization", "content": "In multi-objective (MO) optimization, we aim to (w.l.o.g.) minimize multiple conflicting objectives. Commonly, a MO optimization problem (MOP) with m objectives is given by an objective function F : X \u2192 \\mathbb{R}^m where X represents the decision space. The individual objectives are denoted as \\mathbf{f}_i: X \u2192 \\mathbb{R}, i = 1,...,m in this work. Further, we are primarily considering the bi-objective setting (m = 2). Depending on the particular problem and decision space, there may be further constraints on admissible solutions.\nA particular challenge posed by MOPs pertains to solution comparison. While in single-objective optimization, solutions can be compared directly (either they have identical objective values or one is better than another), such immediate comparisons are not possible for all solutions of a MOP. To solve this, we need the concept of dominance. A solution x dominates another solution y (x \u227a y), iff \\mathbf{f}_i(x) \\leq \\mathbf{f}_i(y) for all i and \\mathbf{f}_i(x) < \\mathbf{f}_i(y) for at least one i. A solution x strongly dominates another solution y if the stronger condition \\mathbf{f}_i(x) < \\mathbf{f}_i(y) holds for all i. A solution that dominates, but does not strongly dominate, another solution is also called weakly dominant. Finally, two solutions can be incomparable, that is, mutually nondominated, if either fulfills some objective better than the other.\nDefinitions of dominance can also be extended to sets of solutions. A set of solutions A (weakly) dominates another set B, if each member of B is (weakly) dominated by a solution in A, written as A \u227c B and A \u227a B, respectively [18,8].\nThe set of all nondominated solutions P = {x \u2208 X | \u2204y \u2208 X : y \u227a x} is known as the Pareto set, and its image under F is known as the Pareto front. The Pareto set contains the optimal trade-off solutions regarding the objectives, and aiming to obtain a close approximation to it is the prevalent approach of solving MOPs when no further constraints or preferences on the objectives are known, i.e., under black-box assumptions. Evolutionary algorithms are the most widespread approach for finding good Pareto set approximations in these conditions.\nFinally, we call the vector of the optimal, individual function values ideal point, and refer to the best vector dominated by all Pareto optimal points as nadir point. Often, before computing indicator values and if the ideal and nadir points are available, the region between them is normalized to the [0, 1]^m box in objective space as a normalization technique."}, {"title": "2.2 Set-based Performance Assessment", "content": "As the Pareto set generally contains more than one solution, set-based performance measures are the norm in assessing the overall quality of an archive of evaluated points. This need to quantify Pareto set approximations has led to numerous performance measures being introduced. For a recent survey on MO performance indicators, we refer to [1].\nThe most prominent set-based performance measure is the dominated hypervolume (HV) indicator (or: S-metric) that measures the space dominated by the set of solutions w.r.t. an anti-optimal reference point [17,2,9].\nAn important property of a set-based performance measure \\mathcal{I} : \\mathbb{R}^m \u2192 \\mathbb{R} is Pareto compliance: If A \u227a B and B \u2280 A, then \\mathcal{I}(A) < \\mathcal{I}(B) [18]. That is, a performance measure should improve if new non-dominated or (weakly) dominating solutions are added to a set of solutions. If only \\mathcal{I}(A) \u2264 \\mathcal{I}(B) can be guaranteed under the same circumstances, \\mathcal{I} is called weakly Pareto-compliant. Only the HV indicator and other indicators based on it are established to be Pareto-compliant [9]. The selection of weakly Pareto-compliant indicators is somewhat larger, including, for example, the (discretized) R2 [5] and the IGD+ [11] measures.\nThe necessity of the anti-optimal reference point can, however, be a hindrance to achieving Pareto compliance in practice. Setting the reference point so far back that it is dominated by every feasible solution introduces a bias towards the edges of the PF, while a reference point close to the nadir point fails to consider all solutions outside of such a defined region of interest, cf. Figure 1."}, {"title": "2.3 The R2 Indicator", "content": "In contrast to the HV indicator, the unary R2 indicator is ordinarily defined as the expected utility of the point set w.r.t. a distribution of utility functions \\mathcal{U} [10]. In the most general case, for a set of solutions Y of a MOP, we can define it as follows:\n\\[R2(Y) := \\int_{w \\in \\mathcal{U}} \\min_{y \\in Y} u(y)dw.\\]\nThe most common choice of a utility function is a Tchebycheff aggregation, which allows to reach all Pareto-optimal points depending on the chosen parametrization. For a weight vector w \u2208 [0,1]^m with \\sum_{i=1}^m w_i = 1 and a utopian vector y^*, it is given by\n\\[u_w(y) = \\max_{i=1,...,m} w_i(y_i - y_i^*)\\]\n\\[= \\max_{i=1,...,m} w_iy_i,\\]\nusing y_i' = y_i - y_i^* to shift the utopian point w.l.o.g. to the origin. The distribution of utility functions is then usually chosen as uniform on the weight simplex.\nIn the bi-objective case, where w_2 = 1 - w_1 holds, this yields the following formula for R2:\n\\[R2(Y) = \\int_0^1 \\min_{y \\in Y} u_w(y) \\delta(y)dw\\]\n\\[= \\int_0^1 \\min_{y \\in Y} \\{ \\max(wy_1, (1 \u2013 w)y_2) \\}dw.\\]\nAs there is no apparent way to calculate this property directly, it is generally approximated in a discrete manner by discretizing \\mathcal{U} using n = |W| weight vectors w \u2208 W:\n\\[R2(Y) \\approx \\frac{1}{|W|} \\sum_{w \\in W} \\min_{y \\in Y} u_w(y).\\]\nAs an example, the uniform weight distribution with size n for the bi-objective case is given by [5]\n\\[W = \\{ (0,1), (\\frac{1}{n-1}, \\frac{n-2}{n-1}), ..., (\\frac{n-2}{n-1}, \\frac{1}{n-1}), (1,0) \\}.\\]\nThe discretization is simultaneously a blessing and a curse: On the one hand, it provides an effective method of approximating the underlying exact R2 value with high precision. On the other hand, this weakens the indicators' properties. To optimize the discretized R2 indicator, one can consider at most |W| points on the Pareto front, which optimize u_w for each w \u2208 W, respectively. Additional nondominated solutions cannot contribute to the indicator value. Further, an individual utility function u_w may be optimized by a point that is only weakly"}, {"title": "3 The R2 Indicator for Continuous Utility Distributions", "content": "In this section, we derive how the R2 indicator can be computed under the assumption of a continuous distribution of Tchebycheff utility functions for bi-objective problems. We will start by analyzing the scenario for a single solution point before extending the analysis to sets of solutions. At last, we derive the computational complexity of the presented approach."}, {"title": "3.1 R2 for a Single Solution", "content": "Without loss of generality, let y^* = (0,0) be the utopian point and Y = {y} be the set containing only one solution y = (y_1,y_2) > (0,0). Further, let w = (w^*,1 \u2013 w^*) be the weight vector such that w^*y_1 = (1 - w^*)y_2. Then, for w_1 < w^*, w_1y_1 < (1 \u2013 w_1)y_2 and for w_1 > w^*, w_1y_1 > (1 \u2013 w_1)y_2. Based on this observation, we can compute the exact R2 indicator of Y for a uniform distribution of Tchebycheff utility functions by splitting the integral along w^*:\n\\[R2(Y) = \\int_{0}^{1} \\max(y_1w, y_2 (1 \u2013 w))dw\\]\n\\[= \\int_{0}^{w^*} y_2(1 - w) dw + \\int_{w^*}^{1} y_1wdw\\]\n\\[= [-\\frac{y_2(1 - w)^2}{2}]_{0}^{w^*} + [\\frac{y_1w^2}{2}]_{w^*}^{1}\\]\n\\[= \\frac{y_2}{2} (1 \u2013 (1 - w^*)^2) + \\frac{y_1}{2} (1 \u2013 (w^*)^2).\\]"}, {"title": "3.2 R2 for a Set of Solutions", "content": "Let us now consider what happens when our solution set contains N > 1 solutions. Let Y = {y^{(1)}, ..., y^{(N)}} be the set of nondominated solutions ordered by ascending y_1 value. Analogous to w^* above, let w^{(n)} = (w_1^{(n)}, 1 \u2013 w_1^{(n)}) be the weight vector such that w_1^{(n)}y_1^{(n)} = (1 \u2013 w_1^{(n)})y_2^{(n)} for all n = 1, . . ., N.\nThe weights w^{(n)} indicate when the utility of solution y^{(n)} is optimal and identical w.r.t. both individual objectives. Slightly increasing (decreasing) w^{(n)} lets the term of the first (second) objective dominate, i.e., the w^{(n)} values indicate a switch in the relevant objective."}, {"title": "3.3 Computational Complexity", "content": "The computational complexity of this approach is determined mostly by the condition that we require Y to contain only nondominated solutions and be sorted by y_1. For this, we can first sort an archive of solutions (including dominated points) by y_1 and pass over this list once, removing any dominated points and duplicates. This takes O(N log N) time with standard sorting algorithms.\nThe computation of the indicator itself is then just a matter of another pass over the sorted list of nondominated points, which requires linear time: All required w and y values can be obtained on the fly based on any given point y^{(n)} and its immediate neighbors. To summarize, the computation of the exact R2 indicator on an archive of N points in bi-objective space requires a complexity of O(N log N). This improves upon the O(N|W|) complexity of the discretized R2 for precise indicator values and large sets of solutions, i.e., large |W| and N values."}, {"title": "4 Properties of the Exact R2 Indicator", "content": "In this section, we present some empirical and theoretical results on our proposed exact R2 indicator. We start by demonstrating the approximation behaviour of"}, {"title": "4.1 Comparison of Discrete and Exact R2 Values", "content": "We start by comparing the exact R2 indicator as computed using our method (see Section 3) with the discretized version found throughout the literature. As a basis for the comparison, we rely on the nondominated points found by evaluating 10^5 solutions on a bi-sphere problem from the bi-objective BBOB [4]. We evaluated the discretized R2 with uniformly distributed weights, and the number of weights (|W|) ranging from one to one million. The value of the discretized indicator as well as the approximation error are visualized in Figure 4.\nWe can see that, in this example, the R2 indicator seems sufficiently well approximated at around 1,000 weights. Still, more weights yield a more accurate approximation: Empirically, there seems to be an exponential relationship between the number of weights chosen and the approximation error. This reflects analyses by [5] on the behavior of the discrete R2 with an increasing number of weights, albeit missing the exact R2 values for comparison."}, {"title": "4.2 Exact R2 Indicator Values", "content": "For the exact R2 indicator, we can provide the optimal indicator values for simple solution sets and corresponding test functions. This contributes to a better understanding of the R2 indicator values, as a geometric interpretation like with the hypervolume indicator is not possible.\nNadir and Ideal Points Assuming we have normalized the objective space ((0,0) being the ideal point and (1,1) being the nadir point), we can compute the R2 indicator for the worst possible solution within the region of interest [0,1] \u00d7 [0, 1] by inserting the nadir point (1,1) into the equation. According to the previous results, and with w^* = 0.5 to fulfill w^*y_1 = (1 \u2013 w^*)y_2, we can compute this value as follows:\n\\[R2(\\{(1,1)\\}) = \\frac{y_2}{2}(1 \u2013 (1 \u2013 w^*)^2) + \\frac{y_1}{2}(1 \u2013 (w^*)^2)\\]\n\\[= 0.5 \\cdot \\frac{1}{2}(1 \u2013 (1 \u2013 0.5)^2) + 0.5 \\cdot \\frac{1}{2}(1 \u2013 0.5^2)\\]\n\\[= 0.5 \\cdot 0.75 + 0.5 \\cdot 0.75 = 0.75.\\]\nThis result is independent of the particular problem or PF, as it is only dependent on the normalized nadir and ideal points. Analogously, we can derive the R2 value for the ideal point as R2(\\{(0,0)\\}) = 0, as all utilities equal zero at the ideal point. For comparison, the HV w.r.t. the nadir point as the reference point is HV(\\{(1,1)\\}) = 0, while the HV of the ideal point is HV(\\{(0,0)\\}) = 1 in this situation.\nLinear Front Let us now consider a linear PF where y_2 = 1 \u2212 y_1 and y_1 \u2208 [0, 1] with ideal point (0,0). When computing R2, for each weight vector w, we can find the optimal solution y on the PF, which we can derive as follows:\n\\[w_1y_1 = w_2y_2 \\Rightarrow w_1y_1 = (1 - w_1)(1 - y_1) \\Leftrightarrow y_1 = 1 - w_1.\\]\nNote that when we use this, it does not matter which of the objectives we consider in the R2 computation, as they will always yield the same utility value. Integrating over the weights for this set Y_{lin}, we get:\n\\[R2(Y_{lin}) = \\int_0^1 \\min_{y \\in Y_{lin}} \\{ \\max(wy_1, (1 \u2013 w)y_2) \\}dw\\]\n\\[= \\int_0^1 wy_1 dw = \\int_0^1 w(1 - w) dw = \\int_0^1 (w \u2013 w^2) dw\\]\n\\[= [\\frac{w^2}{2} - \\frac{w^3}{3}]_0^1\\]\n\\[= \\frac{1}{2} - \\frac{1}{3} = \\frac{1}{6} \\approx 0.1667.\\]\nBased on this result, we can derive that the optimal R2 indicator value for the DTLZ1 problem [7], which possesses a linear PF with ideal point (0,0) and nadir point (0.5,0.5), is \\frac{1}{12} \\approx 0.0833."}, {"title": "Convex and Concave Fronts", "content": "Additionally, we can derive value ranges for general concave and convex PFs: A concave front Y_{conc} will always achieve worse utility values than a linear function, and a convex front Y_{conv} will always have better utility. Again considering the normalized objective space, a general concave front has an ideal R2 value between the value of the linear front and the nadir point's value, i.e., \\frac{1}{6} < R2(Y_{conc}) < \\frac{3}{4}. Analogously, a convex front Y_{conv} will always fall between the R2 values of the ideal point and the linear front, i.e., 0 < R2(Y_{conv}) < \\frac{1}{6}. All cases are illustrated in Figure 5. If none of the discussed conditions apply, the ideal R2 indicator value of the normalized objective space may lie anywhere between 0 and 0.75.\nAs shown above, exact R2 indicator values can be derived for certain analytical PF shapes. Following the same pattern, that is, resolving w_1y_1 = (1 - w_1)y_2 and integrating the utility function, we can compute the exact indicator values also for more complex PF shapes, albeit in a less straightforward manner. We limit ourselves to reporting the results for simple quadratic PF functions, which correspond to the PFs in Figure 5:\n\u2013 Convex PF with y_2 = (1 - \\sqrt{y_1})^2: \\frac{3\\pi-8}{16} \\approx 0.0890\n\u2013 Concave PF with y_2 = \\sqrt{1 - y_1}: \\frac{1}{12}(3\\sqrt{2}sinh^{-1}(1) \u2013 2) \\approx 0.2174\nThe result for the convex PF applies, e.g., for the classical bi-sphere problem, while the concave PF corresponds to DTLZ2 [7].\nTo summarize, we can compute exact R2 indicator values for different simple front shapes and individual points. While these values do not seem to have an intuitive (geometric) interpretation, they are rather given meaning by the expected utility to a decision-maker."}, {"title": "5 Conclusion", "content": "In this paper, we introduce a procedure to compute the exact R2 indicator value for a given solution set. In contrast to its widely-known and commonly"}]}