{"title": "Reasoning about Study Regulations in Answer Set Programming", "authors": ["SUSANA HAHN", "CEDRIC MARTENS", "AMADE NEMES", "HENRY OTUNUYA", "JAVIER ROMERO", "TORSTEN SCHAUB", "SEBASTIAN SCHELLHORN"], "abstract": "We are interested in automating reasoning with and about study regulations, catering to various\nstakeholders, ranging from administrators, over faculty, to students at different stages. Our\nwork builds on an extensive analysis of various study programs at the University of Potsdam.\nThe conceptualization of the underlying principles provides us with a formal account of study\nregulations. In particular, the formalization reveals the properties of admissible study plans.\nWith these at end, we propose an encoding of study regulations in Answer Set Programming\nthat produces corresponding study plans. Finally, we show how this approach can be extended\nto a generic user interface for exploring study plans.", "sections": [{"title": "1 Introduction", "content": "Study regulations govern our teaching at universities by specifying requirements to be met\nby students to earn a degree. Creating a study program involves different stakeholders:\nfaculty members designing study programs, administrative and legal staff warranting\ncriteria, like studyability, faculty members teaching the corresponding programs as well\nas supervising their execution on examination boards, study advisors consulting students,\nand of course, students studying accordingly.\nGiven this impressive spectrum of use-cases, it is quite remarkable that study regulations\nare usually rather sparse and leave many aspects to the commonsense of the respective\nusers. This is needed to cope with their inherent incomplete, inconsistent, and evolving\nnature. For instance, often study regulations leave open minor dependencies among\nmodules. Sometimes associated courses overlap and certain modules cannot be taken in\nthe same semester. And finally, studying happens over time, students' perspectives may\nchange and faculty may rotate. Often these phenomena are compensated by changes,\npreferences, recommendations, defaults, etc. In fact, this richness in issues and notions\nfrom Knowledge Representation and Reasoning (KRR) makes study regulations a prime\ncandidate for a comprehensive benchmark for KRR formalisms.\nOur approach is adaptable, though not universally applicable. Its foundations lie in the\nprinciples of Europe's Bologna Process, designed to harmonize higher education across\nthe continent. European curricula, for example, are structured around credit points,\noften allocated to individual modules. The European Credit Transfer and Accumulation\nSystem (ECTS) provides guidance on program design and credit allocation. Similarly, our\napproach utilizes modules and credit points as fundamental building blocks. Our goal is to\nencompass all study regulations at the University of Potsdam, which share additional key\nprinciples. However, adaptation or even redesign may be necessary for other institutions\nwith differing structures or requirements.\nIn fact, this work is part of a project conducted at the University of Potsdam to\nassist different users by automatizing study regulations. These users range from study\nadministrators, over faculty in different functions, to prospective and advanced students.\nWe started by analyzing more than a dozen different study regulations in order to identify\ntheir underlying principles. The conceptualization of the basic principles led us to a formal\naccount of basic study regulations, presented in Section 2. For illustration, we provide\nthe formalization of the master program Cognitive Systems. We refine this in Section 3\nby showing how modules are passed by accomplishing their associated examination tasks.\nThe formalization of study regulations reveals the properties of admissible study plans.\nTo automatize reasoning about study regulations and their study plans, we capture their\nproperties in Answer Set Programming (ASP; Lifschitz (2002)), a declarative problem\nsolving paradigm, tailored for knowledge representation and reasoning. The ASP-based\nencoding of basic study regulations is discussed in Section 4. Moreover, we show in\nSection 5 how this encoding can be used together with an ASP-driven user interface to\nbrowse through study plans of given study regulations. We conclude in Section 7."}, {"title": "2 Conceptualizing study regulations", "content": "The basic concept of our study regulations are modules. Accordingly, a semester is\ncomposed of a set of modules and a study plan is a finite sequence of semesters. More\nformally, given a set $M$ of modules, a study plan of $n$ semesters is a sequence $(S_i)_{i=1}^n$\nwhere $S_i \\subseteq M$ for $1 \\leq i \\leq n$. Study regulations specify legal study plans. To capture this,\nwe propose an abstract characterization of study regulations and show how they induce\nlegal study plans.\nA basic study regulation is a tuple $(M, G, c, s, l, u, R_g, R_t)$, where\n1. $M$ is a set of modules,\n2. $G \\subseteq 2^M$ distinguishes certain groups of modules,\n3. $c: M \\rightarrow \\mathbb{N}$ gives the credits of each module,\n4. $s : M \\rightarrow \\{w, s, e\\}$ assigns a regular semester to a module,\n5. $l: G \\rightarrow \\mathbb{N}$ returns the lower-bound of the credits of a module group,\n6. $u : G \\rightarrow \\mathbb{N}$ returns the upper-bound of the credits of a module group,\n7. $R_g \\subseteq 2^{(2^M)^n}$ is a set of global constraints expressing study regulations, and\n8. $R_t \\subseteq 2^{(2^M)^n}$ is a set of temporal constraints expressing study regulations.\nThe module groups in $G$ allow us to structure the modules and to express group-wise\nregulations. Functions $c$ and $s$ give the credit points of a module and its turnus,\u00b9 viz. in\nwinter, summer, or each semester (indicated by $w, s, e$), respectively. The elements $l$ and\n$u$ are partial functions delineating the number of credits obtained per module group; a\nspecific number of credits is captured by an equal lower and upper bound. The regulation\nconstraints in $R_g$ and $R_t$ are represented extensionally: each constraint $r$ in $R_g \\cup R_t$ is\nrepresented by the sequences of sets of modules $r \\subseteq (2^M)^n$ satisfying it. While the sets\nof constraints $R_g$ and $R_t$ share the same mathematical structure, they differ in purpose\nand are therefore separated for clarity's sake. $R_t$ expresses temporal constraints over the\nsequence of semesters, while $R_g$ does not make use of this sequential structure, and rather\nexpresses global constraints over the entire set of modules.\nA study plan for a basic study regulation is a finite sequence of sets of modules\nsatisfying all regulation constraints. More precisely, a sequence $(S_i)_{i=1}^n$ of modules of\nlength $n$ such that $S_i \\subseteq M$ for $1 \\leq i \\leq n$ is a study plan for $(M, G, c, s, l, u, R_g, R_t)$ if\n$(S_i)_{i=1}^n \\in \\bigcap_{r \\in R_g \\cup R_t} r$.\nFinally, we call modules exogenous if they are imposed by external means, e.g. by an\nexamination board. The specific choice of these modules is determined case by case.\nAs an example, consider the study regulations of the international master program Cogni-\ntive Systems offered at the University of Potsdam.\u00b2 This program offers a combination of\nmodules in Natural language processing, Machine learning, and Knowledge representation\nand reasoning.\nThese subjects are reflected by the three mandatory base modules, joined in $B$ in (3).\nSince each module yields 9 credits, their obligation is achieved by requiring that the\nmodules stemming from $B$ must account for 27 credits.\u00b3 While the amount is specified\nin (12) and (13), the actual constraint is imposed in (15). The same constraint is used\nfor choosing two among three possible project modules from $P$. The optional modules\nin group $O$ are handled similarly, just that only 24 credits from 36 possible credits are\nadmissible. That is, four out of nine modules must be taken. The freedom of which four\nthe student may choose is restricted by the examination board by imposing the study\nof up to two foundational modules $E \\subseteq F$, which must be the only modules taken from\nmodule group $F$, as formalized in constraint (14). The total number of credits over all\nmodules must equal 120. Finally, an internship, $im$, and a thesis, $msc$, are imposed in (16).\nThis brings us to the temporal regulation in (20) requiring that at least 90 credits are\naccumulated before conducting a thesis. The temporal regulations in (18) and (19) ensure\nthat modules are taken in the right season. And finally (17) makes sure that modules are\nchosen at most once.\nLet $E \\subseteq F$ be some exogenous set of modules in the following example; and let $S$ stand\nfor $\\bigcup_{i=1}^n S_i$, and $M_w = \\{m \\in M \\mid s(m) = w\\}$ and $M_s = \\{m \\in M \\mid s(m) = s\\}$. Then, the\nstudy regulations of the master program Cognitive Systems with respect to $E$ can be\nformalized as follows.\n$M = B \\cup F \\cup A \\cup O \\cup P \\cup \\{im, msc\\}$\n(1)\n$G = \\{B, F, A, O, P, M\\}$\n(2)\n$B = \\{bm_i \\mid i = 1..3\\}$\n(3)\n$F = \\{fm_i \\mid i = 1..3\\}$\n(4)\n$A = \\{am_{i,j} \\mid i = 1..3, j = 1, 2\\}$\n(5)\n$O = F \\cup A$\n(6)\n$P = \\{pm_i \\mid i = 1..3\\}$\n(7)\n$c = \\{bm_i \\mapsto 9 \\mid i = 1..3\\} \\cup \\{am_{i,j} \\mapsto 6 \\mid i = 1..3, j = 1, 2\\} \\cup$\n$\\{fm_i \\mapsto 6 \\mid i = 1..3\\} \\cup \\{pm_i \\mapsto 12 \\mid i = 1..3\\} \\cup \\{im \\mapsto 15, msc \\mapsto 30\\}$\n(9)\n$s = \\{bm_1 \\mapsto w, bm_2 \\mapsto s, bm_3 \\mapsto w\\} \\cup \\{am_{i,j} \\mapsto e \\mid i = 1..3, j = 1, 2\\} \\cup$\n$\\{fm_i \\mapsto w \\mid i = 1..3\\} \\cup \\{pm_i \\mapsto e \\mid i = 1..3\\} \\cup \\{im \\mapsto e, msc \\mapsto e\\}$\n$l = \\{B \\mapsto 27, O \\mapsto 24, P \\mapsto 24, M \\mapsto 120\\}$\n(12)\n$u = \\{B \\mapsto 27, O \\mapsto 24, P \\mapsto 24, M \\mapsto 120\\}$\n(13)\n$R_g = \\{\\{(S_i)_{i=1}^n \\subseteq M^n \\mid |E| \\leq 2, S \\cap F = E\\},\\$\n$\\{\\{(S_i)_{i=1}^n \\subseteq M^n \\mid l(H) \\leq \\sum_{m \\in H \\cap S} c(m) \\leq u(H)\\} \\text{ for all } H \\in \\{B, O, P, M\\}\\}, (15)\n$\\{\\{(S_i)_{i=1}^n \\subseteq M^n \\mid \\{im, msc\\} \\subseteq S\\}\\}$\n(16)\n$R_t = \\{\\{(S_i)_{i=1}^n \\subseteq M^n \\mid S_i \\cap S_j = \\emptyset, 1 < i < j \\leq n\\},\\$\n$\\{\\{(S_i)_{i=1}^n \\subseteq M^n \\mid M_w \\cap S_{2k} = \\emptyset, 1 \\leq 2k \\leq n, k \\in \\mathbb{N}\\} \\$\n$\\{\\{(S_i)_{i=1}^n \\subseteq M^n \\mid M_s \\cap S_{2k-1} = \\emptyset, 1 \\leq 2k - 1 \\leq n, k \\in \\mathbb{N}\\} \\$\n$\\{\\{(S_i)_{i=1}^n \\subseteq M^n \\mid msc \\in S_k, \\sum_{1 \\leq i < k} \\sum_{m \\in S_i} c(m) \\geq 90, k \\in \\mathbb{N}\\} \\}$\\\nIf the set of exogenous modules given by the examination board is, for example, $E = \\{fm_1\\}$,\none admissible study plan spanning four semesters is $S = (S_i)_{i=1}^4$, where\n$S_1 = \\{bm_1, bm_3, fm_1, am_{1,2}\\}$\n$S_2 = \\{bm_2, am_{2,1}, pm_1\\}$\n$S_3 = \\{im, pm_3, am_{3,1}\\}$\n(23)\n$S_4 = \\{msc\\}$\n(24)\nThis plan comprises 120 credits, although the load per semester varies.\nFor illustration, let us verify that our study plan belongs to the ones in (14) and (15)\nfor $H = O$. Indeed constraint (14) is satisfied as we have $F \\cap S = \\{fm_1\\} = E$, and thus\n$\\cap O \\cap S = \\{fm_1, am_{1,2}, am_{2,1}, am_{3,1}\\}$\n(25)\nwhich makes us check whether our study plan satisfies\n$l(O) = 24 \\leq \\sum_{m \\in \\{fm_1, am_{1,2}, am_{2,1}, am_{3,1}\\} } c(m) \\leq 24 = u(O)$\n(26)\nThis is indeed the case since $c(fm_1) + c(am_{1,2}) + c(am_{2,1}) + c(am_{3,1}) = 24$. Hence, our\nstudy plan is an element of constraint (15).\nAlthough the above specification reflects the legal study regulation, it leaves many\nambiguities behind. For instance, the number of credits per semester is left open, as is\nthe order of the modules. The guideline is usually to take around 30 credits per semesters\nbut this is not enforced. Similarly, basic modules in $B$ should be taken before advanced\nones in $A$, again this is neither enforced nor always possible. Since these constraints are\nusually soft, they are left to the students and/or their study advisors.\nOur previous preliminary work (Hahn et al. 2023) outlined further extensions to basic\nstudy regulations (subarea specializations, module dependencies, blocking modules). The\nfollowing section delves into a more novel aspect: how modules are passed by accomplishing\ntheir associated examination tasks."}, {"title": "3 Examination Tasks", "content": "Modules have specific examination tasks that define the criteria for successful completion.\nStudents typically complete these tasks within courses, where they are carefully designed\nto align with the requirements of specific modules.\nStudy regulations focus on modules and their associated examination tasks. It is the\nresponsibility of each department to provide a course selection that enables students to\ncomplete the modules required by their study program. Therefore, we concentrate in what\nfollows on modules and their associated examinations, rather than courses.\nEach module has at least one examination task\u2074 and these tasks are unique to each\nmodule. We distinguish between primary examinations (e.g. written or oral exams)\nand secondary examinations (e.g. weekly exercises), and denote them by $E_p$ and $E_s$,\nrespectively. In analogy to study plans, examination plans are sequences of form $(E_i)_{i=1}^n$,\n$E_i \\subseteq E_p \\cup E_s$.\nInterestingly, a single module can offer flexibility through different combinations of\nprimary and secondary examination tasks. Given a set of modules $M$ and sets $E_p$ and\n$E_s$ of primary and secondary examinations, we define the functions $e_p: M \\rightarrow 2^{2^{E_p}}$\nand $e_s: M \\rightarrow 2^{2^{E_s}}$ to associate a module with different combinations of primary and\nsecondary examination tasks, respectively.\nFor illustration, suppose module $bm_1$ requires as primary examination task either\na written exam or a final project report, identified by $e_{p_{bm_1,1}}$ and $e_{p_{bm_1,2}}$. Also, two\nsecondary examination tasks, a lecture attendance of 50% and the successful completion\nof all weekly exercises, viz. $e_{s_{bm_1,1}}$ and $e_{s_{bm_1,2}}$, are required by the module. This is\ncaptured as $e_p(bm_1) = \\{\\{e_{p_{bm_1,1}}\\}, \\{e_{p_{bm_1,2}}\\}\\}$ and $e_s(bm_1) = \\{\\{e_{s_{bm_1,1}}, e_{s_{bm_1,2}}\\}\\}$.\nNext, we define the completion of modules in terms of examinations.\nTo this end, we define a function $a$ associating examination plans with sequences of\nmodules as $a: (E_i)_{i=1}^n \\rightarrow (S_i)_{i=1}^n$ where for $1 \\leq i \\leq n$ we have\n$S_i = \\{m \\in M \\mid \\exists V \\cup W \\subseteq \\bigcup_{j=1}^i E_j, V \\cup W \\nsubseteq \\bigcup_{j=1}^{i-1} E_j \\text{ for some } V \\in e_s(m), W \\in e_p(m)\\}$.\nThe idea is to complete modules as early as possible. Once a module is completed for\na specific $V$ and $W$ combination, it cannot be repeated for credit in later semesters.\nA module may appear multiple times in a module sequence if it offers several valid\ncombinations of primary and secondary examination tasks, and these combinations are\nspread across different semesters within the examination plan. However, study plans\nbecome invalid if they include the same module in multiple semesters, as this violates a\ncore regulation (see also (17)). Also, different examination plans may result in the same\nmodule sequence, especially if some examination tasks do not immediately contribute to\ncompleting a module.\nFor illustration, let us continue our example with $e_p(bm_1)$ and $e_s(bm_1)$ as above.\nFurthermore, suppose we have the primary examination tasks\n$e_p(m) = \\{\\{e_{pm,1}\\}\\}$ for $m \\in \\{bm_3, fm_1, am_{1,2}, bm_2, am_{2,1}, pm_1, im, pm_3, am_{3,1}, msc\\}$\nalong with the following secondary examination tasks $e_s(bm_2) = \\{\\{e_{s_{bm_2,1}}\\}\\}$, $e_s(bm_3) =$\n$\\{\\{e_{s_{bm_3,1}}, e_{s_{bm_3,2}}\\}\\}$, $e_s(fm_1) = \\{\\{e_{s_{fm_1,1}}\\}\\}$, and\n$e_s(m) = \\{\\{\\}\\}$ for $m \\in \\{am_{1,2}, am_{2,1}, pm_1, im, pm_3, am_{3,1}, msc\\}$.\nNow, consider the examination plan $(E_i)_{i=1}^4$ where\n$E_1 = \\{e_{p_{bm_1,1}}, e_{s_{bm_1,1}}, e_{s_{bm_1,2}}, e_{p_{bm_3,1}}, e_{s_{bm_3,1}}, e_{s_{bm_3,2}}, e_{p_{fm_1,1}}, e_{s_{fm_1,1}}, e_{p_{am_{1,2},1}}\\}$\n$E_2 = \\{e_{p_{bm_2,1}}, e_{s_{bm_2,1}}, e_{p_{am_{2,1},1}}, e_{p_{pm_1,1}}\\}$\n$E_3 = \\{e_{p_{im,1}}, e_{p_{pm_3,1}}, e_{p_{am_{3,1},1}}\\}$\n$E_4 = \\{e_{p_{msc}}\\}$.\nIn fact, this examination plan induces the study plan given in Section 2, that is,\na($(E_i)_{i=1}^4$) = $(S_i)_{i=1}^4$ as given in (21) to (24).\nSimilarly, the examination plan $E' = (E_1, E_2 \\cup \\{e_{p_{bm_1,2}}\\}, E_3, E_4)$ induces a(E') =\n$(S_1, S_2 \\cup \\{bm_1\\}, S_3, S_4)$. Since $e_{p_{bm_1,1}} \\in E_1$ and $e_p(bm_1) = \\{\\{e_{p_{bm_1,1}}\\}, \\{e_{p_{bm_1,2}}\\}\\}$ indi-\ncates that only one primary examination tasks is needed to accomplish module $bm_1$, the\noccurrence of $e_{p_{bm_1,2}}$ in the second semester of E' is redundant and reflected by the\nsecond occurrence of module $bm_1$ in a(E').\nThe relation between primary and secondary examinations tasks is even more intricate\nsince secondary tasks may need to be accomplished before primary ones. We represent\nsuch dependencies by a relation $D \\subseteq 2^{2^{E_s}} \\times 2^{E_p}$ between alternative sets of secondary\nexamination tasks and sets of primary ones.\u2075 More precisely, any such dependency in $D$\nexpresses a temporal constraint requiring that one of the sets of secondary examination\ntasks must be accomplished before or in the same semester as the set of primary constraints.\nFor example, the dependencies $(\\{\\{e_{s_{bm_1,2}}\\}\\}, \\{e_{p_{bm_1,1}}\\})$ and $(\\{\\{e_{s_{bm_1,2}}\\}\\}, \\{e_{p_{bm_1,2}}\\})$\nexpress that weekly exercises of module $bm_1$ (viz. $e_{s_{bm_1,2}}$) must be successfully completed\nbefore a student can take a written exam ($e_{p_{bm_1,1}}$) or hand in the final project report\n($e_{p_{bm_1,2}}$). None of the primary examinations depend on secondary examination task\n$e_{s_{bm_1,1}}$, which is only needed to accomplish the module itself.\nWe are now ready to formalize the concept of an admissible examination plan.\nA basic study regulation problem with examination tasks is a pair (B, E), where B is a\nbasic study regulation problem and E = ($E_p, E_s, e_p, e_s, D, R_{eg}, R_{et}$) where $E_p, E_s, e_p, e_s, D$\nare as defined above, and $R_{eg} \\subseteq 2^{(2^{E_p \\cup E_s})^n}$ and $R_{et} \\subseteq 2^{(2^{E_p \\cup E_s})^n}$ are sets of global and\ntemporal constraints on examination plans, respectively, as given next.\nIn doing so, we extend the above abbreviation of $(E_i)_{i=1}^n$ by E to sets of sets, that is,\nX = $\\bigcup_{x \\in X} x$ for any set X of sets. Now, given a set of modules M along with primary\nand secondary examination tasks $E_p \\cup E_s$, we define the following constraints:\n$R_{eg} = \\{\\{(E_i)_{i=1}^n \\subseteq (E_p \\cup E_s)^n \\mid E \\cap e_p(m) \\cup e_s(m) \\neq \\emptyset \\text{ implies }\\$\n$E \\cap e_p(m) \\in e_p(m) \\text{ for all } m \\in M\\},\\$\n$\\{\\{(E_i)_{i=1}^n \\subseteq (E_p \\cup E_s)^n \\mid E \\cap e_p(m) \\cup e_s(m) \\neq \\emptyset \\text{ implies }\\$\n$E \\cap e_s(m) \\in e_s(m) \\text{ for all } m \\in M\\}\\}(30)\n$R_{et} = \\{\\{(E_i)_{i=1}^n \\subseteq (E_p \\cup E_s)^n \\mid E_i \\cap E_j = \\emptyset, 1 \\leq i < j \\leq n\\},\\$\n$\\{\\{(E_i)_{i=1}^n \\subseteq (E_p \\cup E_s)^n \\mid \\text{ for all } (X, W) \\in D,\\$\n$\\text{W} \\subseteq E \\text{ implies there is some } V \\in X \\text{ such that }\\$\n$V \\subseteq E \\text{ and } \\max(\\{i \\mid V \\cap E_i \\neq \\emptyset\\}) \\leq \\min(\\{i \\mid W \\cap E_i \\neq \\emptyset\\})\\}\\}(34)\nThe two global constraints in $R_{eg}$, ranging from (27) to (30), ensure that if an examination\ntask associated with a module $m$ is part of an examination plan, then a valid combination\nof primary and secondary examination achieving module $m$ must also be a part of the\nexamination plan, with no further unnecessary examination tasks associated with the\nmodule being taken. The first temporal constraint in $R_{et}$, given in (31), forbids the same\nexamination task from being completed in two distinct semesters. Finally, the second\ntemporal constraint in (32) to (34), implements the meaning of dependencies as presented\nwhen introducing the concept.\nLast but not least, an examination plan $(E_i)_{i=1}^n \\subseteq (E_p \\cup E_s)^n$ for a basic study\nregulations problem with examination tasks (B,E) is admissible if a($(E_i)_{i=1}^n$) is a study\nplan for B and $(E_i)_{i=1}^n \\in \\bigcap_{r \\in R_{eg} \\cup R_{et}} r$.\nFor illustration, let us return to examination plan $(E_i)_{i=1}^4$. We have already seen in\nSection 2 that a($(E_i)_{i=1}^4$) constitutes a valid study plan for the Cognitive Systems program.\nSimilarly, the actual examination plan $(E_i)_{i=1}^4$ satisfies all constraints in (27) to (34),\nwhich warrants its admissibility. Unlike this, the aforementioned modified examination\nplan E' fails to be admissible. This is because, first, $R_t$, or more specifically (17), forces\nmodules to occur at most once in a study plan and, second, $R_{eg}$ forbids to have both\n$e_{p_{bm_1,1}}$ and $e_{p_{bm_1,2}}$ in E'. Hence, both a(E') and E' violate constraints on study and\nexamination plans, respectively."}, {"title": "4 Encoding study regulations", "content": "In this section", "parts": "a specific instance and a general encoding. The instance represents\nthe elements of a specific study regulation by a set of facts", ";": "For example", "integers)": "n\u2022 empty(A) means that A = $\\emptyset$"}, "ule\nimplies(\nneg(empty(int(ee,expand(union(EP,ES))))),\nin'(int(ee,expand(EP)),EP)\n)", 2]}