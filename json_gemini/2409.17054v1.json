{"title": "Using LLM for Real-Time Transcription and Summarization of Doctor-Patient Interactions into ePuskesmas in Indonesia", "authors": ["Azmul Asmar Irfan", "Nur Ahmad Khatim", "Mansur M. Arief"], "abstract": "One of the critical issues contributing to inefficiency in Puskesmas is the time-consuming nature of doctor-patient interactions. Doctors are required to conduct thorough consultations, which involve diagnosing the patient's condition, providing treatment advice, and often, transcribing detailed notes into medical records. Additionally, in regions with diverse linguistic backgrounds, doctors often need to ask clarifying questions, further prolonging the consultation process. While the diagnosing task is critical for doctors, the transcription and summarization steps can often be automated using AI technologies to improve the time efficiency of the interactions and help doctors improve quality of care and optimize opportunities for early diagnosis and intervention. In this paper, we propose a solution to this problem by using a localized large language model (LLM) to transcribe, translate, and summarize doctor-patient diagnosis conversations. We use the Whisper model to transcribe the conversations and GPT-3 to summarize them into the ePuskemas medical records format. We implement this as an add-on to an existing web browser extension that allows doctors to fill out patient forms while talking to the patient. By leveraging this solution for real-time transcription, translation, and summarization, doctors improve the turnaround time for patient care while improving care. The quality of medical records are also much better, more detailed, and provides more insights for future visits, overcoming some of the key barriers to efficient healthcare provision in Indonesia, addressing the challenges of overcrowded facilities and the administrative burden on healthcare providers. We believe that our solution can help doctors save time and provide better care to their patients and more accurate medical records. This technological innovation represents a crucial step towards modernizing the healthcare system and ensuring that patients receive timely, high-quality care in even the most healthcare resource-constrained settings.", "sections": [{"title": "I. INTRODUCTION", "content": "In Indonesia, primary health care (PHC) is provided by both public and private sectors. The public PHC is overseen by the government and primarily delivered through the Community Health Centers (Puskesmas), which, along with their auxiliary networks, provide primary care services to individuals and communities within their assigned region. These Puskesmas are designed to provide comprehensive medical services, including preventive care, treatment of chronic conditions, and emergency care [1]. However, the efficiency of Puskesmas is increasingly compromised by the growing volume of patients and the consequent workload on healthcare providers.\nOne of the critical issues contributing to inefficiency in Puskesmas is the time-consuming nature of doctor-patient interactions. Doctors are required to conduct thorough consultations, which involve diagnosing the patient's condition, providing treatment advice, and often, recording detailed notes into the electronic health records (EHR). In Puskesmas, the EHR is implemented through an application called ePuskesmas [2]. ePuskesmas is designed to help doctors and other healthcare providers manage patient data, ensuring easier monitoring of the patient health data for the Health Department at scale [3]. However, while EHR have clearly enhanced the accessibility and organization of clinical data [4], the manual entry of the information has turned it into a labor-intensive and time-consuming task for healthcare providers [5]\u2013[7]. Due to the increased workload and time required to input data into the ePuskesmas application, especially since they still have to maintain manual records as a copy, the added workload and time decreases the overall efficiency [8].\nOne particularly promising technology to help address this issue is the large language models (LLMs). LLMs applied in the realm of doctor-patient interactions, for instance, to perform transcription and summarization, can revolutionize the delivery of healthcare services. Studies have shown the ability of LLMs to perform complex tasks, such as named entity recognition, relation extraction, and multi-modal medical applications [9]. Moreover, the versatility of LLMs has been demonstrated across various medical specialties, ranging from cancer care to neurodegenerative disorders and mental health [10]. The integration of LLMs in doctor-patient interactions can significantly streamline the process of documentation, enhancing the efficiency and accuracy of clinical records.\nIn this paper, we propose a solution that leverages both automatic transcription and summarization using LLMs. Whisper"}, {"title": "II. METHODOLOGY AND SYSTEM FRAMEWORK", "content": "In this study, we employ OpenAI's Whisper and GPT-3 model to perform the automatic transcription and summarization tasks. The core elements of our framework can be divided into four parts: conversation recording, real-time transcription, medical data summarization, and automatic ePuskesmas parser. Figure 1 shows how each element interconnects. The process starts by recording audio using a Chrome extension [15] that captures the patient-doctor interaction. The audio is then processed using a speech recognition model, Whisper API, which transcribes the conversation into text.The transcribed text is then analyzed using GPT-3 to summarize relevant information, such as medical history, symptoms, and diagnosis. This information can then be used to generate clinical notes, add billing codes, or provide decision support to the healthcare provider."}, {"title": "A. Conversation Recording", "content": "The initial step in our system involves recording patient-doctor interactions via a custom web browser extension developed specifically for Google Chrome using JavaScript. While we only showcase this functionality using Google Chrome and it is only applicable directly using Chrome browsers, this approach is by no means restrictive. One can easily reconstruct this simple recorder into other browsers by using their corresponding function calls. We chose Chrome as an example for simplicity. The extension features simplistic essential components, such as buttons to start and stop audio recording, allowing the doctor to control the recording process effortlessly as shown in Figure 2.\nUsing JavaScript's MediaRecorder API [16], [17], the extension accesses the device's microphone to capture audio data. The audio is recorded in real-time and stored in chunks until the recording is stopped. Once the recording is completed, the captured audio is sent to the Whisper API for transcription. The model then processes this audio and converts it into text, accurately capturing every detail of the consultation. Whisper shows good accuracy for transcription in Bahasa Indonesia."}, {"title": "B. Transcription with Whisper", "content": "Whisper is a sequence-to-sequence transformer architecture optimized for various speech processing applications, including transcription, translation, and language identification. Trained on a diverse dataset of 680,000 hours of multilingual audio, the model generalizes effectively across tasks with minimal pre-processing, including Bahasa Indonesia. It processes raw audio signals re-sampled to 16,000 Hz and outputs text transcriptions directly. Performance, assessed via word error rate metrics, shows accuracy comparable to human transcribers, although it could face challenges with low-resource languages [11].\nPrevious work demonstrated the Whisper model's effectiveness in analyzing conversations involving individuals with ASD, facilitating objective communication assessments while preserving privacy in clinical settings [12]. Additionally, the model has been applied to improve speech recognition in Chinese dialects through a speech-based in-context learning approach, achieving significant error reductions and highlighting the benefits of language-level adaptation [13]. The model has also been used to enhance radiological report transcription in French, accurately converting spoken language into text and streamlining workflow efficiency for radiologists in clinical environments [18]. Furthermore, Whisper has been integrated with humanoid robots to transcribe real-time speech in educational settings, improving communication and engagement, particularly for students with diverse learning needs [19].\nFor our implementation, we leveraged the OpenAI API to access the Whisper model. This approach allowed us to integrate the model seamlessly into our system, benefiting from its advanced capabilities without the need for extensive local infrastructure. However, it requires a stable internet connection to interface with OpenAI's servers and obtain results, ensuring that we stay updated with the latest advancements in speech processing technology. While this is a quick solution, we plan to deploy a smaller (distilled) model during scaled deployment to ensure privacy and total control over the flow of data."}, {"title": "C. Summarization with GPT-3", "content": "The transcribed text is then analyzed using the GPT-3 model, which extracts key clinical information such as health complaints, diagnoses, and other relevant notes. This extracted information can be formatted into clinical notes, added as billing codes, or utilized to provide decision support to healthcare providers, thereby streamlining clinical documentation and enhancing overall efficiency.\nGPT-3 is a state-of-the-art language model developed by OpenAI. It leverages its 175 billion parameters to perform a range of language tasks with minimal task-specific training [14]. Its advanced contextual understanding makes it particularly effective for summarizing complex interactions in various domains, including healthcare. In the context of EHR summarization, GPT-3 has shown immense potential, particularly in addressing challenges related to language barriers, high patient volumes, and the need for comprehensive documentation of consultations [20]. One of the key advantages of using GPT-3 for this task is its ability to effectively handle and extract valuable information from diverse medical texts, including EHR, clinical notes, and research papers [21].\nNumerous other research studies have showcased GPT-3's capabilities in various medical applications. For instance, [22] demonstrates GPT-3 potential to summarize patient histories, generate differential diagnoses, and support clinical documentation. It has also been shown effective to condense patient histories to streamline medical documentation in Chinese language and improve information accessibility [21].\nFor our use case, we prompt the model \"Summarize into a JSON format in Bahasa Indonesia with structure {\"keluhan_utama\" : \"ISI DENGAN KELUHAN UTAMA\", \"keluhan_tambahan\": \"ISI DENGAN DETAIL LAINNYA\"}.\" Another variant we tried was \"You are a helpful assistant that summarizes patient-doctor conversations and extracts the main health complaints and diagnoses in Bahasa Indonesia in the following format ...\", followed with a similar format as the previous prompt. To maintain concise and relevant outputs, we set the API's max_tokens parameter to 500, ensuring that the summaries captured essential details without unnecessary verbosity. Accessing the GPT-3 model via the API requires a stable internet connection, which facilitates real-time processing and seamless integration into our system for our prototype, though requires reliable internet [23]."}, {"title": "D. Parsing into ePuskesmas Form", "content": "The outputs generated by the GPT-3 summarization model, such as structured data containing key medical information (e.g., {\"keluhan_utama\": \"...\", \"keluhan_tambahan\": \"...\"}), can be seamlessly integrated into the ePuskesmas form. By mapping these outputs to specific input fields in the ePuskesmas system, we can automate the completion of form entries, ensuring accuracy and reducing the manual entry workload for healthcare providers.\nTo achieve this, our system parses the GPT-3 output and uses JavaScript to identify relevant input field IDs within the ePuskesmas form. The extracted data is then automatically populated into the corresponding fields, such as \"keluhan_utama\" (main complaint) or \"keluhan_tambahan\" (additional complaint) as shown in Figure 3.\nAt the current stage, we have only developed a functional prototype integrating both transcription and summarization solutions using the Whisper model and GPT-3 using HuggingFace space (see Figure 4) for testing purposes. The web browser extension has also been made available to record the audio and call the corresponding API to perform all these tasks."}, {"title": "III. EXPERIMENT & RESULTS", "content": "We experimented with a roleplay test to see the quality of the transcription and summary results."}, {"title": "A. Roleplay: Patient comes with a severe migraine that has occurred for weeks", "content": "In this roleplay experiment, we want to see if the proposed framework can accurately capture the main complaints and what the doctor suggests to the patient. The ground truth transcription is shown in Figure 5 and the result is summarized in Figure 6."}, {"title": "IV. DISCUSSION", "content": "Our experiments with two roleplays demonstrated the potential of our framework. The Whisper model exhibited robust performance in transcribing medical conversations, accurately capturing terminology and dialogue flow. However, the raw output lacked speaker identification, which could pose challenges for downstream processing. These findings align with previous research demonstrating Whisper's effectiveness in analyzing conversations in healthcare settings [12], [13].\nGPT-3's summarization capabilities showed promise in generating structured summaries in the requested JSON format, effectively capturing key symptoms, their duration, and doctor's recommendations. However, our less accurate scenario revealed potential pitfalls, including misinterpretation of symptom duration, mischaracterization of symptoms, and critical errors in patient history and diagnosis. These findings underscore the critical need for human oversight and the importance of viewing AI-generated summaries as assistive tools rather than definitive records. We suggest the doctor still review the summary before saving the record into the EHR repository.\nThe proposed framework demonstrates potential for significantly reducing documentation time for clinicians, allowing more focus on patient care. However, implementation into existing EHR platforms like ePuskesmas will require careful consideration of data privacy, system interoperability, and user interface design. Future development should focus on improving accuracy through regular fine-tuning with domain-specific data, expanding language support, and integrating robust error-checking mechanisms.\nWe envision further developing the framework to automatically document elements of the spoken clinical encounter and other data modalities, enabling physicians to focus more on patient care rather than on documenting anamnesis in the EHR. Fine-tuning the model is necessary to capture nuanced details for completing ePuskesmas' full physical conditions section (Figure 7). Currently, GPT-3 cannot parse this information accurately, making it challenging to fill the correct fields. These directions can be explored in future research."}, {"title": "V. CONCLUSION", "content": "Our study demonstrates the potential of integrating LLMs for real-time transcription and summarization of doctor-patient interactions in Indonesian healthcare settings. The proposed framework, utilizing Whisper for transcription and GPT-3 for summarization, shows promise in improving the efficiency of clinical documentation and the quality of medical records in the ePuskesmas system. While the technology offers significant time-saving benefits and enhanced detail in medical records, our experiments also highlight the need for human oversight to ensure accuracy and patient safety. Future developments should focus on improving model accuracy through domain-specific fine-tuning, expanding language support, and integrating robust error-checking mechanisms. This technological innovation represents a crucial step towards modernizing the Indonesian healthcare system, potentially addressing challenges of overcrowded facilities and administrative burdens on healthcare providers, ultimately leading to more timely and high-quality patient care."}]}