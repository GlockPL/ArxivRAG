{"title": "LLMs generate structurally realistic social networks\nbut overestimate political homophily", "authors": ["Serina Chang", "Alicja Chaszczewicz", "Emma Wang", "Maya Josifovska", "Emma Pierson", "Jure Leskovec"], "abstract": "Generating social networks is essential for\nmany applications, such as epidemic model-\ning and social simulations. Prior approaches\neither involve deep learning models, which re-\nquire many observed networks for training, or\nstylized models, which are limited in their re-\nalism and flexibility. In contrast, LLMs of-\nfer the potential for zero-shot and flexible net-\nwork generation. However, two key questions\nare: (1) are LLM's generated networks realis-\ntic, and (2) what are risks of bias, given the\nimportance of demographics in forming social\nties? To answer these questions, we develop\nthree prompting methods for network gener-\nation and compare the generated networks to\nreal social networks. We find that more realis-\ntic networks are generated with \"local\" meth-\nods, where the LLM constructs relations for\none persona at a time, compared to \"global\"\nmethods that construct the entire network at\nonce. We also find that the generated networks\nmatch real networks on many characteristics,\nincluding density, clustering, community struc-\nture, and degree. However, we find that LLMS\nemphasize political homophily over all other\ntypes of homophily and overestimate political\nhomophily relative to real-world measures.", "sections": [{"title": "1 Introduction", "content": "The ability to generate realistic social networks is\ncrucial for many applications, when the true so-\ncial network cannot be observed (e.g., for privacy\nreasons) or a realistic network is desired between\nhypothetical individuals. For example, in epidemic\nmodeling, synthetic social networks are frequently\nused so that researchers can model the spread of\ndisease based on who has come into contact with\nwhom. Syn-\nthetic networks are also useful for simulating and\nanalyzing social media platforms and social phe-\nnomena, such as polarization and opinion dynamics"}, {"title": "2 Related work", "content": "Social simulation with LLMs. Prior work has\ndemonstrated LLMs' abilities to realistically simu-\nlate human responses and interactions. How-\never, while simulating interactions over networks,\nexisting work focuses less on using LLMs to gener-\nate the networks themselves, either making simplis-\ntic assumptions about the network structure such as\nsampling agents randomly to interact or requiring human\ninvolvement in building the network. To improve the realism\nand usability of these simulations, it is essential to\nalso explore LLMs' abilities to generate the net-\nwork structure, a prerequisite to simulating interac-\ntions over networks.\nA few contemporaneous works have explored\nLLMs for social network generation, with different\nfocuses from ours. Marzo et al. focus on de-\ngree distribution, showing that scale-free networks\nemerge from interactions between LLMs. He et al.\nfocus on content homophily, analyzing a\nsimulated society powered by LLM chatbots. The\nmost similar work to ours is Papachristou and Yuan\n, who analyze whether LLMs demonstrate\nnetwork formation principles, such as preferential\nattachment and homophily. While their work estab-\nlishes the existence of general network principles,\nour work compares generated networks to real so-\ncial networks directly, computing many network\nmetrics, and shows that all metrics can be matched\nat once, while their experiments primarily explore\none principle at a time, with a different prompt for\neach principle. Also, to test homophily, they con-\nsider hobby, favorite color, and location, while we\nexplore key demographic features.\nLLM social biases. Using LLMs in social con-\ntexts raises concerns of biases and stereotyping\n. When\nresponding to public opinion or political questions,\nLLMs' answers skew liberal. When assigned a persona,\nLLMs show worse reasoning capabilities when as-\nsigned certain demographics and produce more toxic content under certain per-\nsonas. However, bias in\nthe context of social network generation remains\nunexplored. In this work, we investigate such bi-\nases by studying the effects of demographic vari-\nables on LLM-generated social networks."}, {"title": "3 Generating social networks", "content": "Our process for generating social networks involves\ntwo steps: first, constructing a set of personas, and\nsecond, having the LLM generate social networks\nover those personas. In this section, we summarize\nthe two steps, with details in Appendix C."}, {"title": "3.1 Persona construction", "content": "For each persona, we include their gender, age,\nrace/ethnicity, religion, and political affiliation,\nwhich are salient dimensions of homophily in real\nsocial networks. We sample these charac-\nteristics based on the distribution of the US pop-\nulation. Using US Census data (US Census Bu-\nreau, 2023), we acquire the joint distribution for\ngender, age, and race/ethnicity. Then, we sam-\nple the persona's religion, conditioned on their\nrace/ethnicity , and political affiliation, conditioned on their gen-\nder and race/ethnicity. In Section 5.3, we\nalso experiment with including interests for each\npersona, instead of only demographic variables."}, {"title": "3.2 Network generation", "content": "We design three prompting methods for generating\nsocial networks, which we summarize in Figure 1.\nGlobal. In our first method, which we call\n\u201cGlobal\u201d, we provide the LLM with the entire list\nof personas, and prompt it to construct the network\nbetween them, in the form of edge pairs.\nLocal. In our second method, which we call \"Lo-\ncal\", we have the LLM take on the identity of\none persona at a time, e.g., by saying, \"You are\na Woman, Asian, age 54, Hindu, Independent.\" We\nprovide the LLM with the list of all other personas\n(in the same format) and prompt it to pick friends\nfor the persona it is currently assigned. To construct\nthe entire network, we iterate through all personas\nin a random order, and we keep an edge between\npersonas A and B if the LLM selects B when acting\nas A or vice versa (so we do not require both to\nselect each other). This method is inspired by tech-\nniques in machine learning that similarly model"}, {"title": "4 Comparison to real networks", "content": "To evaluate the realism of our generated networks,\nwe gather a set of real social networks from the\nCASOS and KONECT repositories. We kept net-\nworks that described social relations between indi-\nviduals, which filtered out other types of networks,\nsuch as work-related interactions or visiting ties\nbetween families. We included eight real networks,\nwhich capture social ties within diverse communi-\nties, including physicians, students, and prisoners\n(see Appendix C.3 for details).\nWe extract graph-level and node-level metrics\nfrom the real networks and our generated networks,\nand compare their distributions. For consistency,\nwe treat all networks as undirected. Since the num-\nber of nodes varies across networks, we focus on\nnetwork metrics that are comparable across graphs\nof different sizes, and scale those that are dependent\non network size based on how they are expected to\nscale in an Erd\u00f6s-R\u00e9nyi random graph. Below, we define and motivate the\nnetwork metrics that we evaluate on.\nDensity. A basic property of a network is its den-\nsity of edges, and social networks tend to be sparse,\nmeaning lower density. Den-\nsity computed as the number of observed edges"}, {"title": "5 Results", "content": "Experimental set-up. We experiment with the\nfollowing LLMs: OpenAI's GPT-3.5 Turbo and\nGPT-40 , Meta's Llama 3.1 (8B and 70B) , and Google's Gemma 2 (9B and 27B)\n, representing a range\nof models across companies and sizes. We find\nthat GPT-3.5 Turbo performs the best at matching\nthe real social networks, so we report results from\nGPT-3.5 Turbo in the main text, but we report re-\nsults from all models in Appendix A. We show that\nour main results about political homophily being\nmost emphasized and overestimated hold for all\nsix models. We also include sensitivity analyses,\nwith different temperatures (Figure 13) and minor\nchanges to the prompt (Figure 14), and show that\nresults are stable.\nWe sample N = 50 personas and we use the\nsame set of personas for all LLM experiments. In\nTable 7, we report the demographic make-up of\nthese 50 sampled personas. For each prompting\nmethod, we generate 30 networks, to capture vari-\nation in prompting (e.g., order of personas) and\nmodel response. For the graph-level metrics, we\nvisualize their mean and standard error, along with\nindividual data points (Figures 3 and 5). Visual-\nizing both the standard error and individual data\npoints capture inferential uncertainty and outcome\nvariability, as recommended by Zhang et al. (2023)."}, {"title": "5.1 Evaluating network structure", "content": "Here, we describe our main results from evaluating\nthe structure of the generated networks.\nLocal and Sequential are more realistic than\nGlobal. First, we find that the prompting meth-\nods produce visually different network structures,\nas shown in Figure 2. Furthermore, the networks\nproduced by the Global method are far less realistic\nthan those produced by Local and Sequential. As\nshown in Figures 3-4, Global has unrealistically\nlow density, clustering, and connectivity, too much\ncommunity structure, and misses the long tail of\nthe degree distribution. In comparison, Local and\nSequential overlap with the real distributions for\nall graph-level metrics and show much greater vari-\nation in node degrees.\nThus, LLMs produce more realistic social net-\nworks when we assign the LLM to act as one per-\nsona at a time, instead of prompting it to produce\nthe entire network at once. This is interesting, since\nthe LLM has strictly less information under the\none-persona setting: in the Local setting, it has no\naccess to any network information, only making\nlocal decisions per persona based on demograph-\nics, and in the Sequential setting, it only knows\nthe network based on previous personas' choices"}, {"title": "5.2 Evaluating homophily", "content": "We measure homophily for gender, race/ethnicity,\nreligion, and political affiliation, using the ratio of\nobserved-to-expected same-group relations (1).\nLLMs capture homophily, with greatest empha-\nsis on politics. In Figure 5, we show that, across\nall prompting methods and demographic variables,\nthe generated networks clearly exhibit homophily.\nFurthermore, we see different levels of homophily\nfor different demographic variables. For the more\nrealistic Local and Sequential methods, homophily\nis by far the strongest for political affiliation: ob-\nserved same-party relations are 85% more frequent\nthan expected under Local and 68% more frequent\nthan expected under Sequential. Rates of political\nhomophily are even higher for the five other LLMs\nthat we test, most extremely for GPT-40 and Llama\n3.1 70B, where 100% of edges are same-party and\nthe network fractures into two disconnected com-\nponents (Appendix A)."}, {"title": "5.3 Incorporating interests", "content": "A natural question is whether demographic ho-\nmophily is exaggerated because we only give the\nLLM demographic information, without other im-\nportant details such as the person's interests. Thus,\nwe run an additional set of experiments where we\nallow the LLM to also generate interests for each\npersona. To generate interests, we prompt the LLM\nwith, \"In 8-12 words, describe the interests of some-\none with the following demographics\u201d (full prompt\nin Figure 16). In Table 2, we provide examples of\nthe generated interests, with the full list of personas\nwith interests available online.\nEffect of interests on networks. As shown in\nFigure 5, by comparing Sequential vs. Sequen-\ntial with interests, we find that incorporating in-"}, {"title": "6 Discussion", "content": "Our work has established several findings. First,\n\"local\" prompting methods result in more realis-\ntic social networks than \"global\" methods, even\nthough local settings receive less information about\nthe existing network. Second, within local meth-\nods, adding network information (i.e., Sequential)\nhelps the LLM produce more realistic networks, so\nthat long-tailed degree distributions are captured.\nThird, the LLM clearly exhibits homophily across\nfive key demographic variables, but political ho-\nmophily dominates, to the extent that it is overes-\ntimated relative to real-world measures. Finally,\nincorporating LLM-generated interests does not re-"}, {"title": "Appendix", "content": "In Appendix A, we compare results across GPT,\nLlama, and Gemma models. In Appendix B, we\ndescribe additional experiments and findings. In\nAppendix C, we provide details on methods and\nexperimental set-up."}, {"title": "A Comparison between LLMs", "content": "We experiment with the following LLMs: Ope-\nnAI's GPT-3.5 Turbo and GPT-40 (Brown et al.,\n2020; OpenAI et al., 2023), Meta's Llama 3.1 (8B\nand 70B) (Touvron et al., 2023), and Google's\nGemma 2 (9B and 27B) (Gemma Team et al.,\n2024), representing a range of models across com-\npanies and sizes. For the OpenAI models, we use\nthe OpenAI API, and for the other models, we use\nthe Llama API, which also includes other open-\nsource models. We report our main results on GPT-\n3.5 Turbo since we find that it best matches the\nstructure of the real-world social networks (dis-\ncussed below), but here, we discuss results from\nall other models. For these experiments, we gen-\nerate networks with the Sequential method, using\nthe same experimental settings as before (same set\nof 50 personas, prompt, temperature of 0.8, etc.).\nFor these experiments, we generate 10 instead of\n30 networks per model, but we find that standard\nerrors are small. We visualize results for GPT-40\nin Figure 7, Llama 3.1 8B and 70B in Figure 8, and\nGemma 2 9B and 27B in Figure 9."}, {"title": "B Additional results", "content": "In this section, all experiments are run with GPT-\n3.5 Turbo, unless otherwise specified."}, {"title": "C Methodological details", "content": "C.1 Persona construction\nAs described in the main text, we include gender,\nage, race/ethnicity, religion, and political affiliation.\nIn Table 7, we list the number of personas in each\ndemographic group for the sample of 50 personas\nwe used in most of our experiments, as well as the\nsample of 1,000 personas we used for evaluating\ntop interests per demographic (Table 5). In Fig-\nure 15, we visualize the distribution of ages in the"}, {"title": "C.2 Network generation", "content": "In Figures 17-19, we provide the full basic prompts\nfor each of our network generation methods:\nGlobal, Local, and Sequential. These are the\nprompts that are used when only demographic vari-\nables are provided per persona. When interests\nare provided, we add \"interests include: ...\" per\npersona. In variants of the Sequential prompt, dis-\ncussed in Appendices A and B, we experiment with\nspecifying the number of friends that should be cho-\nsen; prompting the LLM to generate a short reason\nfor each selected friend; and adding \"Pay attention\nto all demographics\" to the prompt.\nFor the Global method, the entire list of personas\nis given in one prompt, while in the Local and Se-\nquential methods, the LLM is assigned one persona\nat the time and all other personas are listed. We\ngenerate 30 networks per method where, for each\ngenerated network, we randomize the order that the\npersonas are listed, and, for the Local and Sequen-\ntial methods, we also randomize the order in which\npersonas are assigned (using different orders for\nlisting and assignment). For the Sequential method,\nwe experiment with providing each persona's list\nof friends versus only their degree. We find that\nthe model performs better with only degree, while\nlisting friends results in unrealistically high densi-\nties. Furthermore, fewer tokens are used with only\ndegree, so we use this version of Sequential."}, {"title": "C.3 Evaluating network structure", "content": "In this section, we provide more details about the\nreal social networks that we compared against and\ndefine various measures we used to characterize the\nnetworks. In Table 8, we provide basic statistics\nabout the real networks.\nReal networks. We use the following six net-\nworks from the CASOS repository:\nGalesburg (Coleman et al., 1957). This network\ndescribes friendship ties between physicians, where\nthey were asked to name three doctors whom they"}]}