{"title": "Enhancing FKG.in: automating Indian food composition analysis", "authors": ["Saransh Kumar Gupta", "Lipika Dey", "Partha Pratim Das", "Geeta Trilok-Kumar", "Ramesh Jain"], "abstract": "This paper presents a novel approach to compute food composition data for Indian recipes using a knowledge graph for Indian food (FKG.in) and LLMs. The primary focus is to provide a broad overview of an automated food composition analysis workflow and describe its core functionalities: nutrition data aggregation, food composition analysis, and LLM-augmented information resolution. This workflow aims to complement FKG.in and iteratively supplement food composition data from verified knowledge bases. Additionally, this paper highlights the challenges of representing Indian food and accessing food composition data digitally. It also reviews three key sources of food composition data: the Indian Food Composition Tables, the Indian Nutrient Databank, and the Nutritionix API. Furthermore, it briefly outlines how users can interact with the workflow to obtain diet-based health recommendations and detailed food composition information for numerous recipes. We then explore the complex challenges of analyzing Indian recipe information across dimensions such as structure, multilingualism, and uncertainty as well as present our ongoing work on LLM-based solutions to address these issues. The methods proposed in this workshop paper for AI-driven knowledge curation and information resolution are application-agnostic, generalizable, and replicable for any domain.", "sections": [{"title": "1 Introduction", "content": "Food is a fundamental necessity of life and greatly determines its quality. A healthy relationship with food develops when people enjoy their favorite dishes without compromising their health. However, too often, there is a wide gap between what people love to eat and what they are advised to consume for their"}, {"title": "2 Related Work", "content": "Recently, individuals in urban regions in India (as in many other countries) have become more conscious of the nutritional composition of their food and have actively started adopting healthier lifestyles. This shift is driven by growing awareness of physical and mental well-being, as well as the rising prevalence and escalating threat of diet-related diseases such as obesity, hypertension, and diabetes in India [29]. This is increasingly being facilitated through technology and the application of scientific knowledge about food, health, nutrition, and behavior wherein notions like Personalized Health Navigators (PHN) [3,12,21] and Personalized Digital Health (PDH) [13,14] have emerged as key areas for research, development, and practical implementation.\nFood composition refers to the nutritional information of food items, including macronutrients (carbohydrates, proteins, fats), micronutrients (vitamins, minerals), and other essential food components (fiber, water, bioactive compounds). Several applications and APIs, such as Edamam [5], Fitterfly [6], Healthify Me [10], My Fitness Pal [20], Nutritionix[23], Poshan Atlas [24], and USDA FoodData Central [28] already provide nutritional information to their users. However, advances in food composition analysis technologies, personalized dietary recommendations, and the adoption of PHN/PDH are possible only with a digital representation of food, nutrients, and all their constituents. In this context, research at the intersection of food and health has become an increasingly"}, {"title": "3 Challenges in Indian Food Composition Analysis", "content": "India is a country of remarkable diversity. Climate, topography, culture, language, agricultural practices, availability of local ingredients, and economic conditions vary significantly every few kilometers, distinctly shaping food consumption patterns. It is also home to a vast array of cuisines, where the defining characteristics are often rooted in geographical, historical, religious, or economic contexts. Recipes from various Indian cuisines reflect some of these characteristics but not sufficiently. Designing an ontology and building a knowledge graph for Indian food necessitates careful consideration of these and other factors. Below, we outline key challenges in Indian food composition analysis:\n1. Structure: Indian recipes typically lack a standard format for describing ingredients, their measures, size, state of processing, form, etc. This inconsistency makes it difficult to extract essential details and descriptors of ingredients accurately, which are crucial for precise food composition analysis.\n2. Multilingualism: Ingredients are known by different names across the country, with recipes using English, vernacular, and colloquial terms. These names may appear in Roman or Indian scripts and often have varying phonetic spellings, regional dialects, and code-mixing. Such variations complicate straightforward lookups in static food composition tables. Additionally, homonyms and semantic ambiguities, such as saag meaning different greens across regions, require context-aware resolution in food composition analysis.\n3. Uncertainty in Ingredient Measures: Indian cooking often eschews precise measurements, relying instead on ambiguous terms (e.g., one small katori (bowl), 2 large spoons). Sometimes, no measure is specified for common ingredients and spices assumed to be familiar and regularly used (e.g., ginger-garlic paste, jeera (cumin) powder). Such imprecision greatly impacts nutrient computation when key ingredient units and quantities are missing."}, {"title": "4 FKG.in: A Knowledge Graph for Indian Food", "content": "Figure 1 provides the Indian food ontology design, as proposed in [8]. Indian food, especially meals, primarily consists of cooked dishes. Hence, recipes serve as its core and are instrumental in building the Indian food knowledge graph (FKG.in). FKG.in draws inspiration from FoodOn [4] and FoodKG [9], adapting these frameworks wherever necessary to suit the Indian context. It aims to capture essential properties of Indian food in terms of culinary language, cooking variations, and precision nutrition, including, but not limited to, elements such as meals, recipes, ingredient details, cooking methods, cookware, and dietary labels. The design principles followed a modular and flexible approach to knowledge curation. To address multilingualism and other linguistic challenges as well as the inherent uncertainties of Indian recipes collected from diverse sources, we have employed LLMs quite extensively. In the following sections, we discuss"}, {"title": "5 Sources of Nutritional information for Indian Food", "content": "Since we could not find a single comprehensive and open-access source for obtaining nutritional information for Indian food items, we have used multiple sources as listed below along with their unique characteristics, strengths, and gaps:\n1. Indian Food Composition Table (IFCT, 2017): This comprehensive resource [16] was developed by the Indian Council of Medical Research-National Institute of Nutrition (ICMR-NIN) in 2017 and provides detailed information about the nutritional composition of various food items commonly consumed in India. It also provides scientific names, food groups, dietary tags (e.g., vegetarian, eggetarian), over 150 nutrient and food component data points for 528 food items, and common names in 18 Indian vernacular languages for many of them. However, while it includes a wide array of food items, it remains inconsistent and incomplete. E.g., 3 potato variants are found in IFCT viz. 'potato, brown skin, big', 'potato, brown skin, small', and 'potato, red skin' but the food composition data for 'boiled potatoes' is missing. Similarly, both regular and roasted variants of vermicelli are found in IFCT but the roasted variant for groundnuts and the milled variant of Bengal gram i.e. besan (Bengal gram flour) is missing. IFCT also misses out on some crucial ingredients that are commonly used in modern India such as cheese, tofu, butter, mayonnaise, noodles, broccoli, salt, etc., and misses some common nutrient data points such as Iodine and Vitamin B12. For all the oils and ghee (clarified butter), IFCT does not provide information about Energy, Cholesterol, and many important micronutrients.\n2. Indian Nutrient Databank (INDB, 2024): This data repository [30] was built by Anvaad Solutions in 2024 and it builds on IFCT-2017 to fill in many of its gaps. For instance, it includes broccoli, roasted groundnuts, besan, cheese, noodles, salt, etc. It brings in food composition data for both raw ingredients and their variants from multiple sources viz. ICMR-NIN IFCT-2004 and nutrient databases from the United Kingdom [27] and the United States [28] in that order of priority making the total number of individual food items available in INDB 1095. INDB has also curated a vocabulary of common measurement units for both ingredients (e.g., tablespoon, pinch, sprig) and recipes (e.g., plate, bowl, slice) and their mapping to weights in grams for some of these common units. Notably, INDB also includes many complex ingredients such as garam masala (a blend of ground spices), tomato ketchup, and rasam (tamarind-tomato soup) powder which themselves follow recipe instructions and provides a detailed food composition table for 1014 unique and 'standard' Indian recipes which were sourced from 2 books on Indian cooking and selected recipe blogs. However, an issue with the INDB database is that many nutrient data points are not available for all the items."}, {"title": "6 Nutrition Data Aggregation", "content": "In this section, we describe the design of the Nutrition Data Aggregator (NDA) agent, that enhances FKG.in with an aggregated Food Composition Table (FCT), named FKG.in-FCT. For any recipe, once its ingredient names and measurements are extracted from the source, the NDA agent checks IFCT, INDB, and Nutritionix, in that order, to obtain nutritional information from them, if available. All ingredients newly encountered are added to FKG.in-FCT, resulting in a consolidated food composition table, that is also enriched with multilingual information about the ingredients. For each ingredient, it also stores information about its different variants along the axes of forms (e.g., seeds, powder, or paste), processing steps (e.g., boiled, roasted, or steamed), and size (e.g., small, medium, large). When an ingredient is missing from both IFCT and INDB, an API call to Nutritionix adds both the ingredient as well as its nutrient information to FKG.in-FCT. This allows FKG.in-FCT to include various ingredient variants commonly used in Indian recipes but not present in IFCT and INDB,"}, {"title": "7 LLM-Augmented Information Resolution", "content": "Despite using three reliable food composition tables, several ingredients used in Indian recipes could not be found in them. In some cases, ingredients were present in the databases but could not be found easily due to linguistic variations. Additionally, certain Indian food names could not be directly mapped to their equivalents in Nutritionix. LLMs were employed as a tool to navigate these difficulties. While it is well-known that LLMs may hallucinate, and our experience confirms that they cannot always be fully trusted for nutrient information, we assert that LLMs can play a crucial role in mitigating challenges of extracting information from unstructured recipe texts, resolving food or ingredient name ambiguities arising from multilingualism, and addressing quantitative uncertainties when recipe units and ingredient measures lack specificity and precision. With appropriate prompts, LLMs proved to be surprisingly effective at resolving many of these issues. We have developed an LLM-Augmented Information Resolution (LAIR) agent using OpenAI's GPT-3.5 Turbo\u00b3 to process the recipe and ingredient information, leveraging prompt engineering to fine-tune the results as needed. The LAIR agent employs LLMs for both pre-processing as well as post-processing tasks to effectively carry out the following activities:\n1. Recipe Language Translation: We collect recipes from a range of sources including recipe blogs, cookbooks, and Wikipedia, and also accept them as user inputs. Some of these recipes are written in vernacular Indian scripts"}, {"title": "8 Automated Food Composition Analysis Workflow", "content": "Figure 2 presents the automated food composition analysis system. At its heart is the Food Composition Analysis (FCA) agent which links the knowledge graph of Indian food i.e. FKG.in, the aggregated Indian food composition table i.e. FKG.in-FCT, and the LLM-Augmented Information Resolution (LAIR) agent, as well as provides an easy-to-use interface for interaction with users. The individual components and their roles in the workflow are explained below:\nStep 0: Knowledge Curation - This includes a set of steps for initializing FKG.in with data from reliable food ontologies, vocabularies, and various sources of recipes. The LLM-augmented information extraction process along with data validation, inconsistency resolution, and data ingestion steps are presented in detail in [8]. The resulting knowledge graph is stored in an OWL format and implemented using Ontotext's GraphDB. At the end of\nthis workflow, FKG.in stores the list of ingredients with their respective descriptors and measurements for all the recipes exactly as mentioned in their sources. At this point, the recipes do not contain any information about their food composition unless it is explicitly given in the source.\nStep 1: Nutrition Data Aggregation (NDA) Agent - The NDA agent and the FKG.in-FCT creation process were described in the earlier section.\nStep 2: Food Composition Analysis (FCA) Agent - The primary role of the FCA agent is to derive the nutrient and food composition of a recipe based on its ingredients and their quantities. For each dish stored in FKG.in, it uses the FKG.in-FCT to look up ingredients, scale the nutrient values proportionally, and sum them up to calculate the recipe's food composition data. Cooking process transformations are not accounted for at this stage as [30] found the differences for Indian food with and without retention factors to be small, with notable losses in vitamin C, potassium, and phosphorus.\nThe FCA agent is also designed to provide on-demand nutritional information for food items not stored in the knowledge graph. Users can directly interact with the FCA agent via an intuitive interface. For a search involving a dish or recipe without ingredient details, the FCA agent first queries its local knowledge base FKG.in and FKG.in-FCT, using fuzzy matching techniques to find the closest match. It then outputs the nutritional information based on the stored recipe details. A recipe input with details of ingredients and their measures follows the same steps described earlier.\nIn addition to dynamically calculating food composition values, the FCA agent provides users with simple, diet-based health recommendations as per [11]. These recommendations are tailored based on inputs such as personal information (age, gender, weight, height), physiological stage (infant, child, adolescent, adult, elderly, pregnancy, lactation), activity (type, duration, frequency, intensity, calories burned), dietary preferences (food choices, 24-hour dietary recall, hydration, allergies), and weight goals (gain, lose, maintain).\nStep 3: LLM-Augmented Information Resolution (LAIR) Agent - Since recipes are curated from multiple sources, they are quite unstructured. From ingredient names to their units of measurement, nothing is assumed to be available in a standardized way. The LAIR agent works to take in an input, normalize it, handle multilingualism, resolve uncertainties, and obtain weight measurements to calculate nutrient and food composition information. In rare cases, when the FCA agent encounters recipes with ingredients missing from FKG.in-FCT, the LAIR agent also retrieves their nutritional information from public sources, marking it as LLM-sourced in FKG.in-FCT.\nStep 4: FKG.in Ingestion and Maintenance - This step ensures that all information obtained for the recipes and ingredients in Step 3, including the ones from public sources, is appropriately ingested in and appended to FKG.in. This is done by following the same soundness assessment and inconsistency resolution approaches that apply to the knowledge curation workflow in Step 0. Since the verification process is manual and time-consuming, there is a time lag between ingesting the information in the knowledge base and its availability for food composition analysis."}, {"title": "9 Current Status of FKG.in", "content": "Figure 3 illustrates a small sample of chhole masala (chickpea curry) variants and samosa (fried pastry with savory filling) alternatives, stored in FKG.in. These include selected nutrient information, enabling comparisons to support recipe recommendations tailored to dietary preferences, nutritional needs, and health objectives. As can be appreciated here, describing a 'standard' samosa or chhole masala is quite difficult as their recipes vary widely across regions, cultures, and preferences. Thus, it highlights the ambiguity in both defining 'standard' recipes for cooked food items as well as the complications in determining the food composition of purported 'standard' recipes. This led us to treat each recipe as a unique instance of the corresponding cooked food item. FKG.in currently includes information on 25,000+ unique recipe instances, sourced from 15+ recipe sites and 5+ cookbooks, with more recipes being added iteratively."}, {"title": "10 Conclusions and Future Work", "content": "In this paper, we have presented the design of an automated workflow for enhancing the Indian food knowledge graph (FKG.in), which already contains an extensive collection of recipes and ingredients, with food composition information. The automated workflow facilitates the expansion of the local food composition table (FKG.in-FCT) with detailed nutritional data for a vast number of ingredients. Additionally, this process results in an aggregated, validated, and comprehensive dataset of recipe nutrient compositions alongside the addition of new recipes from diverse sources. Most importantly, we demonstrated how the LLM-Augmented Information Resolution (LAIR) agent effectively addresses various structural, linguistic, and uncertainty-related challenges in parsing and analyzing recipe and ingredient information. This proposed approach is application-agnostic, supports dynamic computation of nutritional information for countless recipes, and enhances both the scope as well as the granularity of dietary recommendations.\nSome limitations of this work and potential future improvements include:\n1. Verified FCTs from neighboring countries like Bangladesh, Nepal, Pakistan, and Sri Lanka can be incorporated to represent Indian subcontinental cuisine better, scale FKG.in up, and improve FKG.in-FCT's completeness."}]}