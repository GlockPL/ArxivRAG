{"title": "Strategic Application of AIGC for UAV Trajectory Design: A Channel Knowledge Map Approach", "authors": ["Chiya Zhang", "Ting Wang", "Rubing Han", "Yuanxiang Gong"], "abstract": "Unmanned Aerial Vehicles (UAVs) are increasingly utilized in wireless communication, yet accurate channel loss prediction remains a significant challenge, limiting resource optimization performance. To address this issue, this paper leverages Artificial Intelligence Generated Content (AIGC) for the efficient construction of Channel Knowledge Maps (CKM) and UAV trajectory design. Given the time-consuming nature of channel data collection, AI techniques are employed in a Wasserstein Generative Adversarial Network (WGAN) to extract environmental features and augment the data. Experiment results demonstrate the effectiveness of the proposed framework in improving CKM construction accuracy. Moreover, integrating CKM into UAV trajectory planning reduces channel gain uncertainty, demonstrating its potential to enhance wireless communication efficiency.", "sections": [{"title": "I. INTRODUCTION", "content": "UAVS can supplement existing wireless networks to provide high-quality service and, under certain conditions, can serve as base stations. In scenarios where traditional communication infrastructure is compromised or overloaded, UAVs can ensure continuous connectivity and coverage. UAVs, equipped with sensors, cameras, and other devices, can effectively establish line-of-sight channels in high-altitude scenarios and cover extensive areas. As UAV trajectories design has emerged as a key topic in wireless communications research, various work on this topic have been investigated [1]. The channel model between UAVs and ground users is a crucial factor in ensuring reliable and efficient communication within UAV-IoT networks. Typically, this model can be seen as a combination of line-of-sight (LoS) and non-line-of-sight (NLoS) conditions [2]. Advanced models can achieve greater accuracy by using three-dimensional (3D) building and terrain data, with blockages and reflections taking into account [3]. These models were either limited to simple and inaccurate channel models or could not accurately reflect the characteristics of the channel in specific environments, which often result in large errors. Yet the models which use accurate data for channel modeling are impractical because of the high storage cost for accurate data. In addition to modeling the physical environment model, some channel-related parameters are also needed.\nCKM is a site-specific database tagged with transceiver location pairs, which could give the real-time Channel State Information(CSI) acquisition and then be used to design UAV trajectory by turning uncertain information into certain ones. CKM, after training with a certain amount of data, can provide information that more accurately reflects the channel's features efficiently. It provides promising solutions to the practical issues arising from the significant expansion of channel dimensions and the associated training costs. Authors of [4] presents a general framework for environment-aware communication leveraging CKM, and outlines several typical CKM-assisted communication scenarios. Similarly, the authors in [5] optimized the accuracy of a radio map using a geostatistical tool named Kriging interpolation in cognitive radio networks. The authors in [6] proposed an efficient RadioUNet for estimating the propagation pathloss learning from a physical simulation dataset. Authors of [7] established a 3D CKM to directly give the channel knowledge between the transmitter and the receiver to avoid the high delay and pilot interference caused by traditional pilot-based training. To place UAV in a UAV-aided relay scenario, the authors in [8] constructed a full dimensional radio map to predict the channel gain between any transmitter location and any receiver location based on received signal strength measurements between low-altitude aerial nodes and ground nodes. For the establishment of CKM, the most important things are the authenticity, reliability, and richness of the data. A well trained CKM can enhance UAV coverage and ensure robust communication links in various UAV-assisted applications. However, the data a UAV can collect during flight is often limited. The UAV's short flight time, limited storage and processing power, and the weight restrictions of sensors and other equipment reduce its overall performance in collecting data. As a result, relying only on the data collected by UAVs or from simulation software to train the CKM is time-inefficient. A key challenge is how to acquire additional data and effectively utilize the training data. Besides, the data may be affected by errors resulting from satellite positioning inaccuracies, which frequently occurs due to factors such as shadowing, mobility, and time difference. When additional factors like obstacle reflection and propagation delay arise, these positioning errors are exacerbated, further affecting channel model estimation and diminish algorithm performance. To tackle this, in [9], a CKM is to trained to compensate the satellite positioning errors and provide more accurate channel gain information.\nAIGC refers to contents produced by AI in various forms, such as text, images, audio, and more. Notable advancements in this field include Generative Adversarial Networks(GANs) [10], diffusion models [11], and multimodal generation techniques [12]. These technologies can be used for various fields, providing potential solutions to wireless communication system. To tackle the problem of limited simulation data collection, we employed an AIGC technique, WGAN, to enrich our dataset. This approach significantly enhances the CKM training performance especially when the data is scare. To mitigate the impact of channel variations and environmental obstacles, we incorporated these features into the CKM development. A CKM that effectively integrates channel characteristics will be developed and thoroughly evaluated in the context of UAV communication.\nIn this study, AIGC was employed to enhance data augmentation, channel prediction, and trajectory design, providing a viable solution to optimization problems that are difficult to address in industrial applications. By leveraging detailed environmental and channel information, simulations were conducted to gather diverse datasets for training a CKM that could adapt to dynamic urban environments. Then we integrated it into a UAV trajectory design framework, using Deep Reinforcement Learning (DRL) models to optimize communication links while taking into account various constraints such as transmitting power, channel conditions, and user distribution. The UAVs, serving as aerial communication nodes, generated a small time-cost trajectories that achieves communication demands for ground users. The CKM, coupled with WGAN data augmentation, helped overcome limitations in data collection, providing a more reliable solution for communication and resource management, as illustrated in Fig. 1.\nThe contributions of this paper are summarized as follows.\n\u2022 A data augmentation scheme using WGAN was developed to expand the training dataset. By learning from the original dataset, the WGAN can produce realistic channel gain samples. This data augmentation process not only increases the volume of training data but also enhances the diversity of environmental scenarios, providing a more comprehensive dataset for training predictive models.\n\u2022 A CKM integrating channel knowledge into hidden layer was constructed to predict channel gain by leveraging the augmented dataset. The CKM was trained to map the relationship between user and UAV positions and the resulting signal attenuation. By incorporating both real and synthetically generated data, the CKM is capable of accurately predicting channel conditions across a wide range of environments. This model can support UAV communication by providing accurate, location-based signal predictions.\n\u2022 A UAV trajectory design method utilizing the above AIGC was proposed to optimize communication paths in real-time. The CKM-generated channel gain data is integrated into a reinforcement learning framework, enabling the UAV to dynamically adjust its flight trajectory based on the predicted signal conditions. This method ensures that the UAV follows an optimal or near-optimal flight path, maximizing communication efficiency while minimizing signal loss.\nThe remainder of this paper is organized as follows. Section II formulates the UAV trajectory and communication design problem. Section III displays the steps of AIGC application methods. Section IV presents the results analysis."}, {"title": "II. PROBLEM FORMULATION", "content": "Consider a wireless communication system where an UAV is deployed as an aerial base station to serve N ground users (GUs) in a 3-dimensional space with a side of X \u00d7 X \u00d7 X \u00d7 Hmax. The UAV would fly in a set trajectory to optimize the communication links with the GUs and fly back to the GUs after communication. Each GU is assumed to have a fixed location on the ground, and the UAV aims to provide reliable and high-rate communication services to all GUs within its coverage area. The UAV's trajectory is designed to minimize the overall flying time, considering its hardware limitations, power constraints and communication demands.\nWe assume that the UAV is flying above Hmin, and the height of the buildings and the GUs is under it. As shown in Fig. 2, simulated data is generated and AIGC techniques are applied in data amplification and generation. Then the generated channel gains are used to calculate the throughput in RL environment to design a trajectory."}, {"title": "B. Channel Model", "content": "Denote the location of the UAV by q[t] = (x[t], y[t], z[t]) \u2208 R\u00b3, and denote the location of the n-th GU by qn[t] = (xn[t], yn[t], zn[t]) \u2208 R\u00b3. Here, 0<t\u2264Tmax. The original starting point of the UAV is (0,0, Hmin).\nThe wireless channel between the UAV and each GU is assumed to follow an A2G model, which is common in aerial communication scenarios. It could be modeled as a probabilistic summation of LoS and NLoS which could be both expressed as a basic free space pathloss plus an average shadowing:\n\u00cex (dn[t]) = 20log10(4\u03c0fcdn[t]/c) + ex.  (1)\nfe is the carrier frequency, c is the velocity of light and dn[t] is the distance of the n-th GU and the UAV which can be calculated by\ndn[t] = ||q[t] - qn[t]||2. (2)\nThen according to the probability of LoS, the channel loss between the n-th GU and the UAV is\n\u00ce(q[t], qn[t]) = \u00ceELOS/(1+ ae-b(tan-1(hn[t]/rn[t])-a)) + \u00ceENLOS. (3)\n4\u03c0.fcdn [t]/c + \u00ceENLOS. (4)\nand\nrn[t] = \u221a(x[t] - xn[t])2 + (y[t] \u2013 yn[t])2, (5)\nhn[t] = [t] - zn[t]], (6)\nTo model the channel loss more accurately, a cite-specific CKM is trained to map the estimated channel loss into real loss, which could be expressed as G: [L(Q, Qn), Fenv] \u2192 L(Q, Qn, E)."}, {"title": "C. Formulated Problem", "content": "The UAV's position in the inertial frame is determined by its velocity and orientation, which are functions of its roll ($[t]), pitch (0[t]), and yaw ([t]) angles which describe its rotation angles around x, y, and z axis separately. The transformation from the body frame to the inertial frame is performed using the Direction Cosine Matrix (DCM), denoted as CBN [t], which is expressed as:\nCBN [t] = R\u2082([t])Ry(0[t])Rx($[t]), (9)\nwhere Rx($[t]), Ry(0[t]), and R\u2082([t]) represent the rotation matrices about the x, y, and z axes, respectively.\nThe UAV's velocity vector in the inertial frame, v[t], then can be calculated as:\nv[t] = CBN [t] VB[t] (10)\nwhere VB [t] is the velocity vector in the body frame. The UAV's position q[t] is then obtained by integrating the velocity over time:\nq[t] = q[t - 1] + v[t]. (11)\nV[t] = V[t - 1] + a[t], (12)\nHere V[t] = ||vt||.\nTaking into account the speed constraints, the following conditions must be satisfied:\n-amax < a[t] < amax, (13)\nand\n0 \u2264 V[t] \u2264 \u0474\u0442\u0430\u0445. (14)\nThe UAV is restricted to a maximum transmit power Pmax. However, the UAV does not necessarily operate at maximum power at all times, hence:\n0 < PT [t] < Pmax\u00b7 (15)\nA threshold Pmin is defined for GUs, ensuring that the i-th GU will only engage in communication if the received power PR[t] exceeds Pmin; otherwise, it remains silent. Additionally, a binary association variable a[t] is introduced to represent whether the i-th GU is in communication with the UAV, as defined by:\nai[t] = 1, if PR[t] > Pmin, (16)\n0, otherwise."}, {"title": "The following constraints are then:", "content": "ai[t](PR[t] - Pmin) \u2265 0, (17)\nai[t] \u2208 {0,1}. (18)\nGiven that the UAV functions as a base station, it must fulfill specific communication tasks. Each GU has a minimum required payload Nmin, which must be achieved by ensuring that the total throughput meets this requirement:\n\u2211 tendt=0 ai[t] Ri[t] \u2265 min. (19)\nThe task is considered complete when either the maximum time Tmax is reached or the required payload for each GU is delivered, at which point the UAV returns to its starting location. The goal is to minimize the total time from the start of the UAV's communication with the GUs until the completion of the task and the return to the starting point.\nThe optimization problem involves the variables ai[t], q[t], and PT [t]. Among these, q[t] and PT[t] are continuous variables, while ai[t] is binary. The problem can be mathematically expressed as:\nmin ai [t],q[t], PT [t] tend (20)\nS.t. tend tmax (20a)\nq[0] = q[tend] = (0,0, Hmin) (20b)\n\u03c0 \u2264 0[t] \u2264 \u03c0,\u2200t = 0,1,..., tend (20c)\n\u2013 \u03c0 \u2264 \u03c6[t] \u2264 \u03c0,\u2200t = 0,1,..., tend (20d)\n\u2013 \u03c0 \u2264 \u03c8[t] < \u03c0,\u2200t = 0, 1, ..., tend (20e)\n0 \u2264 V[t] \u2264 Vmax, \u2200t = 0,1,..., tend (20f)\n- amax < a[t] < amax,\u2200t = 0,1,...,tend (20g)\n0 < PT [t] < Pmax, \u2200t = 0,1,..., tend, Vi \u2208 I (20h)\nai[t](PR[t] - Pmin) \u2265 0, \u2200t = 0, 1, ..., tend, \u2200i \u2208 I (20i)\nai[t] \u2208 {0, 1}, vt = 0,1,..., tend, Vi \u2208 I (20j)\n\u2211 tendt=0 ai[t] Ri[t] \u2265 Nmin, \u2200i \u2208 I (20k)\nUpon task completion, the UAV must return to its initial position to recharge and be prepared for subsequent missions. In constraint (20b), the initial time is set to 0, consistent with the typical simulation setup.\nThis problem is characterized by high dimension (which increases with the number of GUs), time-variance, and non-convexity. Although Successive Convex Approximation(SCA) methods could be used to create convex approximations, particularly when dealing with the height variable coupled in the denominator, the complexity makes real-time solving challenging. Alternatively, DRL methods can circumvent the non-convexity by interacting with the Markov Decision Problem(MDP) environment to address the problem effectively."}, {"title": "III. AIGC-ENHANCED ENVIRONMENT-AWARE UAV TRAJECTORY DESIGN", "content": "This section explores several applications of AIGC in UAV-based industrial communication. First, due to the time-intensive nature of data collection, a GAN architecture is employed to enhance data augmentation processes. Subsequently, a CKM is developed to provide accurate predictions of channel gain. Building on these components, a DRL approach is applied to interact with the environment, enabling the generation of optimized UAV flight paths that adhere to communication constraints."}, {"title": "A. AIGC for Simulation Data Augmentation", "content": "Simulation data collection costs a lot of time, so a WGAN is trained in Algorithm 1 for augmentation to improve the diversity of the training data. The WGAN [13] consists of a generator that produces synthetic data from random noise and a discriminator that estimates the Wasserstein distance between real and generated data. This distance helps to improve training stability and mitigates the mode collapse issue common in traditional GANs. The discriminator is trained to maximize this distance, while the generator aims to minimize it. Weight clipping ensures Lipschitz continuity, stabilizing the training process."}, {"title": "B. AIGC for Channel Gain Prediction", "content": "CKM serves as a comprehensive database that stores pairs of transmitter-receiver (Tx-Rx) locations alongside their corresponding channel gains. To enhance the generalization capacity and applicability of the CKM, AIGC is integrated into its construction process. By leveraging AIGC, the CKM is capable of extrapolating and generating synthetic channel data that closely resembles real-world conditions, thereby addressing potential data sparsity and improving the robustness of the system across diverse environments and scenarios. This approach not only augments the CKM's predictive accuracy but also broadens its capacity to adapt to new or unseen Tx-Rx configurations.\nA knowledge-driven architecture serves as the foundational framework of the CKM, which integrates domain knowledge with data-driven techniques to enhance learning efficiency and accuracy. Within this architecture, the knowledge block is characterized by the Line-of-Sight (LoS) probability channel to model the basic characteristics of the environment. Specifically, the knowledge block utilizes established propagation models to estimate the likelihood of a direct, unobstructed path between the transmitter and receiver. This LoS probability is calculated based on the distance, elevation angle, and physical obstructions in the environment, providing a prior estimation of signal attenuation.\nThe knowledge block is integrated into the hidden layers of the CKM neural network to act as an auxiliary learning mechanism. During training, the outputs from this knowledge block are concatenated with the neural network's internal features. By incorporating this physics-based knowledge, the network is better equipped to understand the interactions between the environment and signal propagation, which leads to more accurate predictions of channel characteristics. The overall CKM architecture operates as a hybrid system that combines data-driven learning with physical modeling. The input features, such as the transmitter-receiver positions and environmental details, are fed into both the knowledge block and the neural network. The neural network captures the non-linear patterns in the data, while the knowledge block provides a structured, physics-guided representation of the environment's impact on the signal. Together, these components enhance the predictive power of the CKM, ensuring that it not only fits the available data but also respects the underlying physical laws governing wireless communication.\nThe Algorithm 2 explains how the network combines user and UAV positional data with environmental information to predict channel attenuation. The model takes two inputs: one for the user and UAV positions, and another for the environmental features. The environmental data is encoded into lower-dimensional features via a dedicated sub-network and then concatenated with the positional data for further processing. Multiple residual blocks are used to capture complex relationships between the inputs, with the final residual block incorporating a knowledge module based on a LoS (Line-of-Sight) probability path loss model. This knowledge enhances the model's ability to adjust predictions based on known path loss behaviors. After training, the model predicts channel attenuation on test data."}, {"title": "C. MDP Formulation", "content": "Utilizing the channel prediction from CKM, the resource allocation and trajectory design problem in Section II can be formulated as a MDP, where the goal is to minimize the total communication time tend, while satisfying the communication requirements of IoT devices and adhering to the physical limitations of the UAV. The MDP is characterized by the following components:\nState Space S: The state s[t] \u2208 S at each time step t is represented by a comprehensive vector that captures both UAV dynamics and communication status. The UAV state consists of its position q[t] = (x[t], y[t], z[t]), velocity V[t], and orientation angles 0[t], [t] and [t], which describe the UAV's x-axis, y-axis and z-axis directions of movement. Additionally, each IoT device's state is represented by its position qi[t] = (xi[t], Yi [t], zi[t]) and communication status, which includes received power, path loss, and remaining data to be transmitted. The complete state vector also includes whether a communication link has been established with the IoT device, as well as environmental conditions such as noise and the UAV's path loss.\nAction Space A: At each time step, the UAV takes an action a[t] \u2208 A, which determines its movement and transmission power. The action consists of four components: the UAV's velocity V[t], three dimensional directions 0[t], [t] and [t] and transmitting power Pr[t]. These control variables are constrained by the UAV's physical limits, such as its maximum velocity Vmax and maximum transmission power Pmax. The action space is bounded such that the UAV can only select velocities and angles within the feasible limits, as described by the problem constraints.\nTransition Model P(St+1|St, at): The state transition dynamics are governed by the UAV's movement and communication decisions. At each time step, given the current state s[t] and action a[t], the UAV's position is updated based on its velocity and direction. The IoT device's communication status is updated depending on the received power and path loss between the UAV and the device. The transition model also incorporates environmental noise and uncertainties in the channel model, which affect the communication success.\nReward Function r(st, at): The reward function encourages efficient communication while penalizing excessive movement or poor decisions. The reward at each time step is composed of several terms: r1: Penalty for inefficient UAV movement (e.g., moving too far away from IoT devices or exceeding the allowed velocity). r2: Reward for successfully transmitting data to an IoT device, which is proportional to the amount of data transmitted. r3: Bonus for completing the communication task early. r4: Penalty for running out of time without completing the communication task.\nObjective: The objective of the MDP is to find an optimal policy \u03c0*(st) that minimizes the total communication time tend, while satisfying the constraints of trajectory limits, velocity bounds, acceleration, and minimum required data transmission for each IoT device. The solution to this MDP determines the optimal control strategy for the UAV's movement and communication decisions, ensuring minimal communication time while maintaining system feasibility."}, {"title": "D. AIGC for UAV Trajectory and Communication Design", "content": "An AIGC technique-Reinforcement learning plays a significant role in optimizing UAV trajectories to enhance decision-making and efficiency. PPO is such a typical policy gradient method designed to improve upon traditional reinforcement learning algorithms by striking a balance between exploration and exploitation. Specifically, the PPO algorithm iteratively updates the UAV's policy to maximize a cumulative reward function, which, in this case, is designed to enhance communication performance while minimizing flight costs and energy consumption."}, {"title": "V. CONCLUSION", "content": "This paper presents several robust applications of AIGC in UAV communication. It applies the AI generated data that have similar distribution with the simulated data to improve the performance of subsequent steps. And then a novel approach for constructing a CKM that significantly enhances prediction accuracy by leveraging channel knowledge is introduced, which is then applied to optimize UAV communication resources with AI. Experimental results demonstrate superior performance of AIGC in both channel prediction and trajectory generation compared to traditional algorithms. This innovative approach not only improves the efficiency of UAV trajectory design but also offers valuable insights for future industrial applications. The power of AIGC is evident in the ability to process complex data and generate optimal solutions of neural networks, outperforming conventional techniques. Future research could explore extending the adaptability and real-time performance of AI models to enhance their robustness across dynamic and large-scale environments."}]}