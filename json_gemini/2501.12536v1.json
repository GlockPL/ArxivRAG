{"title": "Interaction Dataset of Autonomous Vehicles with Traffic Lights and Signs", "authors": ["Zheng Li", "Zhipeng Bao", "Haoming Meng", "Haotian Shi", "Qianwen Li", "Handong Yao", "Xiaopeng Li"], "abstract": "This paper presents the development of a comprehensive dataset capturing interactions between Autonomous Vehicles (AVs) and traffic control devices, specifically traffic lights and stop signs. Derived from the Waymo Motion dataset, our work addresses a critical gap in the existing literature by providing real-world trajectory data on how AVs navigate these traffic control devices. We propose a methodology for identifying and extracting relevant interaction trajectory data from the Waymo Motion dataset, incorporating over 37,000 instances with traffic lights and 44,000 with stop signs. Our methodology includes defining rules to identify various interaction types, extracting trajectory data, and applying a wavelet-based denoising method to smooth the acceleration and speed profiles and eliminate anomalous values, thereby enhancing the trajectory quality. Quality assessment metrics indicate that trajectories obtained in this study have anomaly proportions in acceleration and jerk profiles reduced to near-zero levels across all interaction categories. By making this dataset publicly available, we aim to address the current gap in datasets containing AV interaction behaviors with traffic lights and signs. Based on the organized and published dataset, we can gain a more in-depth understanding of AVs' behavior when interacting with traffic lights and signs. This will facilitate research on AV integration into existing transportation infrastructures and networks, supporting the development of more accurate behavioral models and simulation tools.", "sections": [{"title": "1. Introduction", "content": "The rapid advancement of autonomous vehicles (AVs), including advanced driver assistance systems (ADAS) and fully autonomous driving systems (ADS) technology, is driving a revolution in transportation engineering. This revolution can potentially transform the planning and management of transportation infrastructure. To effectively adapt to these changes, it is essential to understand the impacts of AVs on existing transportation ecosystems.\nCurrently, researchers have developed various models to analyze and understand the behavior of AVs in different operational scenarios (Kuang, Liu, Wang, Wu and Wei (2024)), including vehicle platooning (Li and Li (2022); Li, Chen and Li (2022a)), intersection navigation (Soleimaniamiri, Li, Yao, Ghiasi, Vadakpat, Bujanovic, Lochrane, Stark, Racha, Hale et al. (2022)), lane change maneuvers (Li, Li, Huang, Halkias, McHale and James (2022b); Wang, Zhao, Xu, Li and Qu (2021)), and so on. However, these models' evaluations have relied on simulations with idealized assumptions, which often diverge significantly from real-world driving conditions. This discrepancy between the simulated and real-world environments introduces potential errors in assessing the impact of AVs on traffic dynamics and operations. To bridge this gap, it is crucial to develop calibrated driving behavior models for AVs (Huang, Hale, Shladover, Lu, Liu, Li, Li, Mahmassani, Talebpour, Hosseini et al. (2021)). Collecting a substantial amount of trajectory data describing AV performance in real-world traffic environments is essential to developing and calibrating such models. These models, grounded in robust empirical evidence, have the potential to accurately reflect the diverse and dynamic behaviors of AVs in real-world scenarios (Li et al. (2022a)).\nTo improve the calibration of the driving behavior of the AV, real-world data play a pivotal role. In recent years, several autonomous driving companies have collected and published extensive data on AV performance in real-world"}, {"title": "2. Waymo Motion dataset", "content": "This study aims to extract and organize AV interaction trajectory data with traffic lights and signs from existing large-scale AV datasets. There are several similar available AV datasets, such as OpenACC (Makridis et al. (2021)), nuScenes (Caesar, Bankiti, Lang, Vora, Liong, Xu, Krishnan, Pan, Baldan and Beijbom (2020)), Central Ohio (Makridis et al. (2021)), and Waymo (Sun et al. (2020)). However, some of these datasets contain limited scenarios, such as OpenACC and Central Ohio, focusing on car-following behavior. After a comprehensive comparison, we selected the Waymo Open dataset released by Waymo to extract trajectories describing the interaction behaviors of AVs with traffic lights and signs.\nThe Waymo Open dataset is a comprehensive collection of high-fidelity sensor data gathered by AVs across various U.S. cities, including Phoenix, Mountain View, and others. This dataset stands out for its diverse driving conditions, including various road types, weather conditions, and times of day. A wide variety of scenarios are contained in the dataset, including car-following, lane-changing, gap acceptance, interactions with pedestrians, interactions with non-motorized vehicles, and interactions with traffic lights and signs. The dataset was collected using a sophisticated sensor array, including five LiDAR units (one mid-range and four short-range) and five cameras (covering front and side views) (Hu et al. (2022)). The Waymo dataset's scale, diversity, and quality of the Waymo dataset make it a useful resource for AV behavior modeling (Hu et al. (2022)).\nThe Waymo Open dataset is categorized into two subsets: the Perception dataset and the Motion dataset. This study focuses on the Motion dataset, specifically filtering segments that include information about interactions between AVs and traffic lights or signs. Owing to Waymo's ongoing data collection and processing efforts, the number of segments in the Motion dataset continues to grow. In our analysis of V1.2.1 of the Motion dataset, we identified a total of 526,731 segments. The information in the Motion dataset includes environmental context, timestamps, AV trajectory data, background human-driven vehicles (HVs) trajectory data, road background information, traffic sign positions, and traffic light positions as well as their colors (i.e., red, yellow, green) and shapes (i.e., arrow, circle)."}, {"title": "3. Data processing methodology", "content": "To ensure clarity and avoid ambiguity, it is important to define two key terms used to describe the data first: segment and trajectory. A segment refers to each 9.1-second clip at 0.1-second intervals of raw data extracted from the Waymo Motion dataset. Each segment contains comprehensive information (i.e., environmental context, timestamps, AV trajectory, HVs trajectories, road background information, traffic control devices states) recorded during this 9.1-second period. A trajectory refers to the time-series data extracted and processed from a segment that can be directly used to study AV interactions with lights and signs. A trajectory includes the AV's positions, speeds, and accelerations at each time step, along with traffic light states (colors and shapes) and the positions of traffic lights and signs.\nFigure 1 illustrates the roadmap of this work in detail. First, we define rules and procedures to identify segments of AV interactions with traffic lights and signs in the Waymo Motion dataset. Then, the entire Waymo Motion dataset is traversed, and the segments that meet our defined rules are selected. The data structure of the selected segments is reorganized from the original 'tfrecord' format used in the Waymo Motion dataset into a CSV format, where each column represents a time series (i.e., the variables shown in Table 1), and each row represents a time step. In this way, the trajectories of AVs in these selected segments are extracted. Variables, such as the acceleration of the AV, the distance between the AV and traffic lights, and stop signs, are calculated. Next, we conduct an initial assessment of the obtained AV trajectories. In this work, three commonly used metrics in vehicle trajectory data evaluation are utilized to assess the quality of obtained AV trajectories, with a particular focus on identifying noise and anomalies in the trajectory data. Subsequently, we apply a trajectory denoising method to reduce the jerk and noises from the obtained AV trajectories and enhance their quality. Finally, we reassess the quality of the enhanced AV trajectories using the three same metrics."}, {"title": "3.1. Framework", "content": "To ensure clarity and avoid ambiguity, it is important to define two key terms used to describe the data first: segment and trajectory. A segment refers to each 9.1-second clip at 0.1-second intervals of raw data extracted from the Waymo Motion dataset. Each segment contains comprehensive information (i.e., environmental context, timestamps, AV trajectory, HVs trajectories, road background information, traffic control devices states) recorded during this 9.1-\nsecond period. A trajectory refers to the time-series data extracted and processed from a segment that can be directly used to study AV interactions with lights and signs. A trajectory includes the AV's positions, speeds, and accelerations at each time step, along with traffic light states (colors and shapes) and the positions of traffic lights and signs.\nFigure 1 illustrates the roadmap of this work in detail. First, we define rules and procedures to identify segments of AV interactions with traffic lights and signs in the Waymo Motion dataset. Then, the entire Waymo Motion dataset is traversed, and the segments that meet our defined rules are selected. The data structure of the selected segments is reorganized from the original 'tfrecord' format used in the Waymo Motion dataset into a CSV format, where each column represents a time series (i.e., the variables shown in Table 1), and each row represents a time step. In this way, the trajectories of AVs in these selected segments are extracted. Variables, such as the acceleration of the AV, the distance between the AV and traffic lights, and stop signs, are calculated. Next, we conduct an initial assessment of the obtained AV trajectories. In this work, three commonly used metrics in vehicle trajectory data evaluation are utilized to assess the quality of obtained AV trajectories, with a particular focus on identifying noise and anomalies in the trajectory data. Subsequently, we apply a trajectory denoising method to reduce the jerk and noises from the obtained AV trajectories and enhance their quality. Finally, we reassess the quality of the enhanced AV trajectories using the three same metrics."}, {"title": "3.2. Interaction with traffic light segments selection", "content": "The interaction behaviors between AV and traffic lights are divided into four categories in this work (as shown in\nFigure 2): stops at traffic light, left turns at traffic light, right turns at traffic light, and straight proceeds at traffic light."}, {"title": "\u2022 R1.3: The AV's trajectory must intersect with the traffic light.", "content": "R1.1 requires that the segment must include at least one traffic light. Since not all segments in the Waymo Motion dataset contain traffic lights, their presence is a fundamental criterion for determining whether a segment can be analyzed for AV-traffic light interactions.\nR1.2 specifies that the AV's speed must not remain zero throughout its entire journey within the segment. If the AV's speed remains consistently zero, it indicates that the vehicle is completely stationary and the traffic light has not influenced the AV's decision-making process. In such cases, no interaction between the AV and the traffic light is considered to have occurred. Conversely, any instance of non-zero speed\u2014whether the AV maintains a constant non-zero speed throughout the segment, decelerates to zero when approaching the traffic light, or accelerates from zero-demonstrates that the traffic light has influenced the AV's decisions and states. These scenarios are considered as interactions between the AV and the traffic light.\nR1.2 is implemented through Equation 1. To ensure that the AV is not stationary throughout the segment, we require that the cumulative time during which the speed exceeds the speed value $u_{stop}^{light}$ when the vehicle is viewed as stopped before the traffic light should be greater than $l_{move}$. $l_{move}$ is the parameter describing the minimum cumulative movement duration in the AV trajectory. $1$ is the indicator function that equals 1 if the following condition is satisfied; otherwise, its value will be 0.\n$\\sum_{i=1}^{91} 1_{u_i > u_{stop}^{light}} \\ge 10 l_{move}$ (1)\nR1.3 requires that the AV's trajectory, or its forward extension, passes through the traffic light. To implement this, we fit a $d_{poly}th$-degree polynomial to the AV's trajectory over the entire segment and determine whether this fitted"}, {"title": "Three rules are further devised to identify the first scenario, AV stopping at traffic lights:", "content": "R1.4 is implemented through Equation 3, requiring that the AV's speed in the first $l_{begin}$ second of the segment must exceed $v_{ust}^{light}$, indicating a significant initial speed within the beginning of the segment. $l_{begin}$ is the parameter describing the segment length threshold to split the beginning of the segment.\n$ \\forall i \\in [0, 10l_{begin}], v_i > v_{ust}^{light}$ (3)\nR1.5 is implemented through Equation 4, requiring that the AV's speed in the last $l_{end}$ second of the segment be less than $v_{light}^{stop}$. $l_{end}$ is the parameter describing segment length threshold to split the ending of the segment. This rule ensures that the AV comes to a complete stop before the traffic light by the end of the segment. R1.4 and R1.5 collectively ensure that segments are captured where an AV approaches a traffic light with substantial speed and subsequently comes to a stop, indicating a clear influence of the traffic light on the AV's behavior.\n$ \\forall i \\in [10l_{end}, 91], v_i < v_{light}^{stop}$ (4)\nR1.6 stipulates that at the end of the segment, the distance between the AV and the nearest traffic light must be less than $d_{stop}$ (Equation 5). $d_{stop}$ is the parameter describing the distance threshold for determining whether the vehicle is stopped before the traffic light. This criterion ensures that the AV's stopping position is directly in front of the traffic light. In scenarios where multiple vehicles are queued at the intersection waiting for a red light, R1.6 guarantees that the AV is positioned at the front of the entire queue. The rationale for this rule is that if other vehicles were present in front of the AV while waiting at a red light, the behavior of the preceding vehicle would directly influence the AV's decision-making process rather than the traffic light itself. By implementing R1.6, we isolate cases where the traffic light is the primary influencer of the AV's actions.\n$\\sqrt{(x_{91} - x_{1})^2 + (y_{91} - y_{1})^2} < d_{stop}$ (5)\nFor the second scenario, where AVs traverse the traffic light and enter the intersection, we developed three rules to filter the relevant segments:"}, {"title": "For R1.7, to identify segments where AV passes the traffic lights, it is necessary to ensure that the AV's trajectory includes movement both approaching and departing from the traffic light. R1.7 is developed using two approaches, R1.7.1 and R1.7.2, specifically designed to detect this scenario. The R1.7.1 and R1.7.2 have the same purposes but approach them from different perspectives and are used together to identify relevant segments as effectively as possible.", "content": "The vectors cross product rule in R1.7.1 utilizes the cross product between two vectors shown in Equation 6 to identify segments in which AV passes through traffic lights. $P_{i-1}L$, $LP_i$, $P_iL$, and $LP_{i+1}$ represent the vectors between the AV's position and the traffic light's position at different time steps. The cross products between these vectors indicate the relative positional relationship between the AV and the traffic light. Equation 6 demonstrates that if there exists a time i when the signs of the two vector cross products are opposite, it implies that the AV is moving towards the traffic light before time i and then away from it after time i. This change in direction suggests that the AV has passed through the traffic light at approximately time i.\n$\\forall i \\in \\{2, ..., 90\\}, (P_{i-1}L \\times LP_i) \\times (P_iL \\times LP_{i+1}) < 0$ (6)\nSimilar to R1.7.1, R1.7.2 employs a distance-based approach to identify AV trajectories that pass through traffic lights. This rule posits that if the distance between the AV and the traffic light first decreases and then increases, it indicates that the AV initially approaches the traffic light and subsequently moves away from it. Such a pattern of distance change suggests that the AV's trajectory has traversed the traffic light.\nR1.8 is implemented by requiring that the AV's trajectory extends for more than $l_{extend}$ seconds after passing through the traffic light, indicating that the traffic light's influence on the AV's behavior has completely ended. $l_{extend}$ is the parameter that describes the segment length threshold to determine whether the AV travels a significant distance beyond the traffic light. Additionally, this provides sufficient evidence to determine whether the AV turned left, turned right, or proceeded straight through the intersection after passing the traffic light.\nR1.9 determines whether the AV turns left, right, or proceeds straight after passing the traffic light using the vector cross product shown in Equation 7. In this equation, $P_1L$ and $LP_{91}$ are vectors connecting the AV's start and end positions to the traffic light, respectively. The cross product of $P_1L$ and $LP_{91}$ reflects the relative positions of the AV's start, end, and traffic light. If the cross product is positive, $P_{91}$ is to the left of $P_1L$; if negative, $P_{91}$ is to the right; if zero, $P_{91}$ is collinear with $P_1L$. To eliminate the influence of vector length on the cross product result, we use the unit vectors $\\frac{P_1L}{||P_1L||}$ and $\\frac{LP_{91}}{||LP_{91}||}$ for the calculation. We stipulate that if the cross product result $\\eta_{light}^{left} > \\eta_{Mleft}^{light}$, the AV turns left after passing the traffic light; if $\\eta_{light}^{left} < \\eta_{Mright}^{light}$, the AV turns right; if $\\eta_{through,1}^{light} < \\alpha < \\eta_{through,2}^{light}$, the AV proceeds straight. $\\eta_{left}^{light}$, $\\eta_{right}^{light}$, $\\eta_{through,1}^{light}$, and $\\eta_{through,2}^{light}$ are parameters describing the cross product threshold to determine whether AV turns left, turns right or proceeds straight after passing the traffic light.\n$\\eta^{light} = \\frac{P_1L}{||P_1L||} \\times \\frac{LP_{91}}{||LP_{91}||}$ (7)\nIn summary, for any segment in the Waymo Motion dataset, sequentially evaluating rules R1.1, R1.2, R1.3, R1.4, R1.5, and R1.6 determines whether the segment contains an interaction where the AV stops before a traffic light. Similarly, evaluating rules R1.1, R1.2, R1.3, R1.7, R1.8, and R1.9 in order determines if the segment includes an interaction where the AV turns left, turns right, or proceeds straight after passing through a traffic light."}, {"title": "3.3. Interaction with stop sign segment selection", "content": "The interaction behaviors between the AV and the stop signs are divided into four categories (as shown in Figure\n5): four-way stops, right turns at the stop sign, one-step left turns at the stop sign, and two-step left turns at the stop\nsign.\nFour-way stops: These occur at intersections where minor roads meet, with all approaches controlled by stop signs. As illustrated in Figure 5(a), vehicles from each direction, including the AV, must come to a complete stop before entering the intersection. In this scenario, the AV approaches from one of the minor roads."}, {"title": "To categorize the four types of AV-stop sign interactions, we first isolate segments from the Waymo Motion dataset that exhibit such interactions. An AV-stop sign interaction segment is defined as a segment where the AV decelerates and comes to a complete stop in close proximity to a stop sign. Following three rules are developed to identify these interactions.", "content": "R2.1 requires the presence of one or more stop signs within a segment. Since not all segments in the Waymo\nMotion dataset include stop signs, the presence of stop signs is a basic criterion for determining whether a segment\ncan be analyzed for AV-stop sign interactions.\nR2.2 requires that the AV's trajectory must slow down when approaching the initial nearest stop sign. Since a\nsegment may contain multiple stop signs, the stop sign closest to the AV's initial position within the segment is defined\nas the initial nearest stop sign, with its coordinates denoted as $S_{\\mu}(x_{s,\\mu}, y_{s,\\mu})$. If the AV's speed does not decrease during\nthis process, it is inferred that the AV might not have successfully detected the stop sign or is not traveling in a lane\ncontrolled by the stop sign. Consequently, such a segment cannot be considered as having an AV-stop sign interaction.\nR2.2 is implemented using Equation 8, which specifies that there must exist two time points, i and j, where i occurs\nbefore j and satisfies two conditions. The first condition is that the distance between AV and the initial nearest stop\nsign decreases from time i to j. The second condition is the AV's speed decreases from time i to j.\n$ \\exists i, j \\in \\{1, ..., 91\\}, i < j, [\\sqrt{(x_i - x_{s,\\mu})^2 + (y_i - y_{s,\\mu})^2} > \\sqrt{(x_j - x_{s,\\mu})^2 + (y_j - y_{s,\\mu})^2}] > [v_i > v_j]$ (8)\nR2.3 mandates that following deceleration, the AV must come to a complete or near-complete stop at the initial nearest stop sign. This rule is implemented on two key aspects: the stop area and the AV's speed within this area. We designate the stop area as a circular region with a $r_{stop}$ radius, centered on the AV's location nearest to and before the initial nearest stop sign. Regarding speed, it is required that the cumulative time during which the speed is less than the value $v_{stop}^{Usign}$ and the AV is within the stop area should be greater than $l_{stop}$. $l_{stop}$ is the parameter describing the minimum cumulative stopping duration in the AV trajectory.\nR2.3 is implemented through Equation 9, where $1$ is the indicator function equal to 1 if the following condition is satisfied; otherwise, its value will be 0.\n$\\sum_{i=1}^{91} 1_{\\sqrt{(x_i-x_{s,\\mu})^2+(y_i-y_{s,\\mu})^2} \\> r_{stop} \\cdot 1_{v_i2} \\right]$, we classify the maneuver as a left turn; conversely, if $\\eta_{sign}^{left} < \\eta_{Mright}^{sign}$, we categorize it as a right turn. $\\eta_{sign}^{left}$ and $\\eta_{Mright}^{sign}$ are the parameters describing the cross product threshold to determine whether the AV turns left or right after passing the stop sign.\n$\\eta^{sign} = \\frac{P_1S_{\\mu}}{||P_1S_{\\mu}||} \\times \\frac{S_{\\mu}P_{91}}{||S_{\\mu}P_{91}||}$ (16)\nR2.7 examines the AV's speed profile to distinguish between one-step and two-step left turns at stop signs. Unlike one-step left turns, AVs executing two-step left turns must come to a full stop twice: once at the initial nearest stop sign and again in the center turning lane. This behavior is reflected in the speed profile, which will show two instances where the speed falls below $u_{stop}^{Usign}$, separated by a certain time interval. Consequently, we classify segments as two-step left turns when the AV's speed profile exhibits two occurrences of speeds below $u_{stop}^{Usign}$ with an interval exceeding $\\Delta t_{stop}$ between them. The remaining segments are categorized as one-step left turns at stop signs.\nFor any segment in the Waymo Motion dataset, sequentially evaluating rules R2.1, R2.2, R2.3, R2.4, and R2.5 determines whether the segment contains an AV and the four-way stop sign interaction. Similarly, assessing rules R2.1, R2.2, R2.3, R2.6, R2.7 in order determines if the segment includes an AV and stop sign interaction where the AV performs right turning, one step left turning or two turns left turning after passing the stop sign."}, {"title": "3.4. Trajectories organization", "content": "The data structure of the selected segments is converted from the original 'tfrecord' format used in the Waymo Motion dataset into a CSV format. In this format, each column represents a time series (i.e., the variables listed in Table 1), and each row corresponds to a time step. The AV trajectories are extracted from these segments, including the AV's position coordinates, speed values, and acceleration values calculated through speed differentiation. Additionally, the corresponding positions of traffic lights and stop signs are also extracted. The traffic lights state information is recorded, i.e., the color (e.g., red, yellow, and green) and the shape (e.g., arrow and circle) of the light. The distances between the AV and these traffic control devices are calculated. Consistent with the original trajectory data in the Waymo Motion dataset, our organized trajectories all have a duration of 9.1 seconds, with data points recorded at 0.1-second intervals."}, {"title": "3.5. Trajectories assessment metrics", "content": "The quality of the AV trajectories obtained interacting with traffic lights and signs is evaluated using three metrics: Anomaly Acceleration (%), Anomaly Jerk (%), and Anomaly Jerk Sign Inversion (%). These metrics provide a"}, {"title": "Anomaly Acceleration (%) measures the percentage of acceleration a values that are considered anomalous. An acceleration value is deemed anomalous if it exceeds a predefined threshold. The normal range of acceleration is a \u2208 [\u22128ms-2,5ms-2] (Punzo, Borzacchiello and Ciuffo (2011)).", "content": "Anomaly Jerk (%) quantifies the percentage of jerk data that are identified as anomalous. Jerk (j) is the rate of change in acceleration over time, as shown in Equation 17. Similar to acceleration, a jerk value is considered anomalous if it exceedsa specified threshold. The normal range of acceleration is j\u2208 [\u221215ms-3,15ms-3] (Punzo et al. (2011)).\n$j = \\frac{da}{dt}$ (17)\nAnomaly Jerk Sign Inversion measures the number of times the sign of the jerk changes within a specified time window. Frequent sign changes indicate erratic behavior or instability in motion. The jerk sign cannot be inversed more than once in 1s (Li et al. (2023a)). This study documents the proportion of 1s windows that exhibit more than one sign inversion of the jerk."}, {"title": "3.6. Trajectories enhancement methods", "content": "It is found that due to the precision of data collection and storage devices, Waymo's trajectory data contains various issues, such as noise and outliers. When using this trajectory data for modeling, these issues could potentially affect the accuracy of the models. Similar problems have also been reported in other studies processing Waymo data (Hu et al. (2022)). To enhance the quality of the trajectory data obtained in this study to investigate the interaction behaviors of AV and traffic lights and signs, a wavelet-based denoising approach is adopted to reduce noise within the trajectory data. This method leverages the Discrete Wavelet Transform (DWT), known for its efficacy in signal processing applications, particularly where signals contain nonstationary power at various frequencies (Hu et al. (2022)).\nThe process begins with the selection of an appropriate wavelet type. For our purposes, the Daubechies 6 (db6) wavelet is chosen after trial and error, due to its capability to handle data with sharp transitions\u2014a common characteristic in vehicle dynamics. The db6 wavelet provides a good balance between data smoothness and the ability to preserve essential features, such as edges and peaks in the speed profile.\nUsing the selected wavelet, the noisy trajectory data is decomposed into multiple levels of detail and approximation coefficients through wavelet decomposition. This decomposition splits the signal into a series of finer-scale detail coefficients that capture high-frequency components (generally noise and fine details) and approximation coefficients that represent the low-frequency components (the underlying trends).\nAfter decomposition, a na\u00efve thresholding approach is applied, where all detail coefficients at each level of decomposition are set to zero. This approach is based on the assumption that for the short-duration and high-resolution data typical of vehicle trajectories, most of the significant noise can be attributed to these high-frequency components. By setting these coefficients to zero, we remove a substantial portion of the noise, simplifying the signal while retaining the overall structural integrity of the vehicle's movement.\nFinally, the denoised trajectory is reconstructed using the inverse wavelet transform. This step uses the modified coefficients, now devoid of the smaller-scale noise components, to synthesize a cleaner version of the original signal. The approximation coefficients ensure that the essential characteristics of the original trajectory are preserved."}, {"title": "4. Interaction dataset", "content": "The rules established in Section 3.2 are used to select segments containing traffic light and AV interactions. The detailed parameter values adopted during the selection of the AV and traffic light interaction segment are shown in Table 2, where most of the values are chosen based on trial-and-error. All segments in the Waymo Motion dataset are iteratively examined. Segments that satisfy the established rules are recorded. The data structure of these selected trajectory segments is reorganized. The trajectories of AV and the position, as well as the state information of the related traffic light in these selected segments, are extracted. Then, the quality of the trajectory of AV is evaluated and enhanced."}, {"title": "4.1. Interactions with traffic lights", "content": "The rules established in Section 3.2 are used to select segments containing traffic light and AV interactions. The detailed parameter values adopted during the selection of the AV and traffic light interaction segment are shown in\nTable 2, where most of the values are chosen based on trial-and-error. All segments in the Waymo Motion dataset\nare iteratively examined. Segments that satisfy the established rules are recorded. The data structure of these selected\ntrajectory segments is reorganized. The trajectories of AV and the position, as well as the state information of the\nrelated traffic light in these selected segments, are extracted. Then, the quality of the trajectory of AV is evaluated and\nenhanced."}, {"title": "4.2. Interactions with stop signs", "content": "The rules established in Section 3.3 are utilized to select segments containing AV and stop-sign interactions. The\ndetailed parameter values adopted during the selection of the AV and stop sign interaction segment are shown in Table\n4. The radius for the circular stop area is set considering typical urban lane widths in the United States, and other values\nare chosen based on trial-and-error. We iteratively examine the Waymo Motion dataset, select segments meeting our\nestablished rules, extract AV trajectories and stop sign information, and enhance the trajectory quality through our\nprocessing pipeline."}, {"title": "5. Conclusion", "content": "This paper presents the development of a large dataset that captures interactions between AVs and traffic control devices, specifically traffic lights and stop signs. Derived from the Waymo Motion Dataset, our work addresses a critical gap in the existing literature by providing real-world data on how AVs navigate these crucial elements of traffic infrastructure.\nKey contributions of this work include:\n1. The establishment of a systematic methodology to identify and extract relevant AV interaction segments from an existing AV dataset.\n2. The development of detailed classification rules for various types of AV interactions with traffic lights and stop signs, including stopping, turning, and proceeding through intersections.\n3. The creation of a high-quality dataset that can support further research into AV behavior at intersections with control devices.\nThe resulting dataset, which includes over 37,000 segments of AV interactions with traffic lights and more than 44,000 segments of interactions with stop signs, provides a rich resource for the research community. This data can"}]}