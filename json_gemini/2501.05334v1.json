{"title": "The Bakers and Millers Game with Restricted Locations", "authors": ["Simon Krogmann", "Pascal Lenzner", "Alexander Skopalik"], "abstract": "We study strategic location choice by customers and sellers, termed the Bakers and Millers Game in the literature. In our generalized setting, each miller can freely choose any location for setting up a mill, while each baker is restricted in the choice of location for setting up a bakery. For optimal bargaining power, a baker would like to select a location with many millers to buy flour from and with little competition from other bakers. Likewise, a miller aims for a location with many bakers and few competing millers. Thus, both types of agents choose locations to optimize the ratio of agents of opposite type divided by agents of the same type at their chosen location. Originally raised in the context of Fractional Hedonic Games, the Bakers and Millers Game has applications that range from commerce to product design. We study the impact of location restrictions on the properties of the game. While pure Nash equilibria trivially exist in the setting without location restrictions, we show via a sophisticated, efficient algorithm that even the more challenging restricted setting admits equilibria. Moreover, the computed equilibrium approximates the optimal social welfare by a factor of at most  2 (1 + \\frac{min(|L|,|M|)}{e\u22c5|M|}-1). Furthermore, we give tight bounds on the price of anarchy/stability. On the conceptual side, the location choice feature adds a new layer to the standard setting of Hedonic Games, in the sense that agents that select the same location form a coalition. This allows to naturally restrict the possible coalitions that can be formed. With this, our model generalizes simple symmetric Fractional Hedonic Games on complete bipartite valuation graphs and also Hedonic Diversity Games with utilities single-peaked at 0. We believe that this generalization is also a very interesting direction for other types of Hedonic Games.", "sections": [{"title": "1 INTRODUCTION", "content": "Markets facilitate trade. They are the key places where supply meets demand. Typically, there are many possible markets for goods or services, and thus sellers face the economic decision of which mar- kets to serve, while customers strategically decide which market to patronize. The choice of the right location for trade is crucial in a competitive economic environment both for sellers and for cus- tomers. The number of competitors in a given market is a key factor in determining supply and demand, and eventually, prices and prof- its from trade. For achieving high prices, sellers want to minimize competition with other sellers and at the same time, they want to maximize the number of customers. For customers who aim for low prices, it is important to patronize a market with many sellers to choose from and with low competition from other customers. Our running example of the above competitive setting will be the Bakers and Millers Game, as briefly introduced by Aziz, Brandt, and Harrenstein [4]. There, millers choose locations to set up their mill to produce flour whereas bakers depend on buying their flour from local millers. In this scenario, millers aim for locations with many bakers as customers and only a few other competing millers. Bakers will patronize a local miller that has as few competing cus- tomers as possible. If both bakers and millers can freely choose any location, then this setting is well-studied, since it corresponds to a simple symmetric Fractional Hedonic Game on a complete bipartite valuation graph [3, 4]. However, in many practical applications, there is an asymmetry between sellers and customers, i.e., sellers can freely choose where to set up their stores, but customers can only patronize a restricted set of locations, e.g., their local neigh- borhood. In this paper, we study the impact of such an asymmetry of location choice by investigating the Bakers and Millers Game where one side has restricted locations. In our setting, the millers can freely choose their location, while the bakers can only choose from an agent-specific restricted set of locations. See Figure 1 for an illustration. With this, we investigate a very simple model that naturally extends simple symmetric Fractional Hedonic Games on complete bipartite valuation graphs.\nMore examples are classical farmer's markets but also online commerce on different platforms like Alibaba, Amazon, eBay or Zalando. Another application is gaining a favorable position in a two-sided matching market: A worker wants to move to a city that has more companies and thus more possible jobs to choose from, whereas a company wants to move to a city which has fewer companies that compete for the local workforce. However, location choice is not restricted to trade. \"Sellers\" could be product designers, politicians, researchers, or writers who strategically focus on certain topics, and the \"customers\" might be consumers, voters, reviewers or readers only interested in some of these topics. Thus, \"locations\" might simply be points in some abstract feature space. Given the importance of strategic location choice, the research on such problems dates back roughly a century, starting with Hotelling's seminal model of several sellers competitively selecting a location for their store on the city's main street [30] that was later adopted by Downs for modeling political competition [15]. Based on this, many other location choice models have been investigated in Economics, Mathematics, Computer Science and Operations Re- search and this field is typically called Location Analysis [19, 43]. However, most of these models solely focus on the seller's side, i.e., on locating stores in settings where the customers do not face strategic decisions since they simply patronize their nearest store. Also, the opposite point of view has been taken, where the sellers have fixed positions and the focus is on the customer behavior, like in consumer behavior theory [8, 45]. The setting of rational agents who compete over a fixed set of offered services, products or resources is covered by the broad area of Congestion Games [39, 44]. There, agents strategically select resources and an agent's utility for a given resource deteriorates with the number of other agents who also choose the same resource. Thus, in the Bakers and Millers Game, both bakers and millers face a Singleton Congestion Game if the behavior of the other type of agents is fixed, i.e., given the location choice of the millers, the bakers want to select locations with a minimum number of other bakers and a maximum number of millers and vice versa. Hence, our game combines both the sellers' and the customers' perspectives simultaneously, i.e., both sides strategically select a location which then determines which customers are matched to which sellers. Our game focuses on the impact of the location choice and it abstracts away from the exact mechanisms that determine prices via supply and demand. This allows for modeling a broad range of applications ranging from commerce, over two-sided matching, to the design of products or political campaigns."}, {"title": "1.1 Our Contribution", "content": "We study competitive location choice in the Bakers and Millers Game introduced by Aziz, Brandt, and Harrenstein [4]. Most impor- tantly, we generalize this setting by considering that one side, the bakers, may have location restrictions, i.e., they can only choose their location from an individually predetermined subset of possible locations. This naturally models an asymmetry in many competi- tive settings where sellers or producers can freely choose where to open stores or facilities while the customers are bound to patronize stores accessible to them only, e.g., local stores in their vicinity. Be- sides store locations, this can also model product or feature choices by producers in a setting where the customers are only interested in certain subsets of features or products, like family-friendly cars, lightweight e-bikes, or regional vegan food. The Bakers and Millers Game with restricted locations gener- alizes simple symmetric Fractional Hedonic Games on complete bipartite valuation graphs by naturally limiting the possible coali- tions that can be formed. The same holds for Hedonic Diversity Games with utilities that have a single peak at 0. As these two ex- amples indicate, we emphasize that this extra layer of first selecting locations that then determine the formed coalitions can be added to any variant of Hedonic Games to better model real-world settings. As our main contribution, we analyze the impact of the loca- tion restrictions in the Bakers and Millers Game. While proving the existence of pure Nash equilibria is trivial if both bakers and millers can freely choose their locations, this task is much more challenging if the bakers have restricted locations. Despite this, we show the existence of pure Nash equilibria by giving a polynomial- time algorithm to compute one. As a consequence of the location restrictions, some bakers might end up without an available miller. Hence, we use the coverage of bakers, i.e., the number of bakers with at least one available miller, as our social welfare function. For this function, our aforementioned efficient algorithm computes a pure Nash equilibrium that approximates the optimal social welfare by (1 + \\frac{min(|L|,|M|)}{e\u22c5|M|}-1) with Euler's number e and the sets of locations |L| and millers |M|. On the other hand, we show that computing a strategy profile or even a pure Nash equilibrium with optimal social welfare is NP-hard. Finally, we establish tight bounds of 1 + \\frac{1}{min(|L|,|M|)-1} \u2264 \\frac{PoS}{PoA} \u2264 |B| on the price of stability and of anarchy, with the set of bakers B."}, {"title": "1.2 Preliminaries and Model", "content": "Basics. We denote the set of available locations by L and the set of agents by A = B \u222a M, with the set of bakers B and millers M. Each baker b \u2208 B has a set of feasible locations L(b) \u2286 L. A strategy profile is given by the tuple (s, t), where s is a vector of bakers' locations (sb)b\u2208B, with sb \u2208 L(b), and t is a vector of millers' locations (tm)m\u2208M, with tm \u2208 L. We denote by Bs(l) := |{b \u2208 B | sb = l}| the number of bakers at location l for a given strategy profile s. Similarly, Mt (l) := |{m \u2208 M | tm = l}| denotes the number of millers at location l.\nObjectives. Agents choose locations to avoid competition due to agents of the same type while maximizing the availability of agents of the other type. In its simplest form, this notion is captured by a utility function that corresponds to the ratio of the two types of agents. Hence, the (always well-defined) utility of a baker b and a miller m in a given strategy profile (s, t) is\nup (s, t) = \\frac{Mt (sb)}{Bs(sb)} and um (s, t) = \\frac{Bs(tm)}{Mt(tm)} respectively.\nEquilibria. A state (s*, t*) is a miller equilibrium if for each miller m \u2208 M there is no location t'm \u2208 L such that\num (s*, (t_m', t_{-m})) > um(s*, t*). A state (s*, t*) is a baker equilibrium if for each baker b \u2208 B there is no location sb \u2208 L(b) such that\nup ((s_b', s_{-b}), t*) > up(s*, t*).\nA state (s*, t*) is a pure Nash equilibrium if it is both a baker equilibrium and a miller equilibrium.\nEfficiency. We measure the efficiency of equilibria by the num- ber of bakers that can shop at some miller. Therefore, we define the coverage of a strategy profile (s, t) as the number of bakers with at least one miller at the same location, i.e.,\nW(s, t) = |{b \u2208 B | Mt (sb) > 0}|.\nIn Section 3, we justify this definition. Based on the coverage, we define the price of anarchy [32] and the price of stability [2] as\nPoA = sup_I \\frac{W(OPT(I))}{W(worstNE (I))} and PoS = sup_I \\frac{W(OPT(I))}{W(bestNE (I))}\nwhere for an instance I, we have OPT(I) as the social optimum, worstNE(I) as the Nash equilibrium with the lowest coverage and bestNE(I) as the Nash equilibrium with the highest coverage."}, {"title": "1.3 Related Work", "content": "Research in the broad field of Hedonic Games was initiated by the seminal works of Dreze and Greenberg [16] and Bogomolnaia and Jackson [10]. In these games, the agents have preferences over all possible coalitions of agents and every partition of the set of agents into disjoint coalitions is considered an outcome. The crucial aspect of Hedonic Games is that the utility of an agent in some coalition only depends on the composition of her coalition. Given this, many variants of utility functions have been studied.\nFractional Hedonic Games. Closest to our model are Frac- tional Hedonic Games (FHGs) introduced by Aziz, Brandt, and Harrenstein [4] and later extended [3], where each agent has an individual value for every other agent and the utility of some agent in a coalition is her average agent value within her coalition, i.e., it is the sum over the individual values of all the agents in her coalition divided by the number of agents in the coalition. A nice feature of FHGs is that an instance can be described via a weighted directed valuation graph, where an edge (u, v) with weight w encodes that agent u has a value of w for agent v. A FHG is called symmetric if an edge (u, v) with weight w in the corresponding valuation graph implies the existence of the reverse edge (v, u) with the same weight w, i.e., pairs of agents value each other equally. A FHG is called simple if all edge weights in the valuation graph are either 0 or 1. Thus, the valuations in simple symmetric FHGs can be modeled with an undirected unweighted valuation graph.\nFHGs have been intensively studied with different notions of stability, like core, Nash or individual stability [3, 6, 10, 11, 13, 36] and also in a modified version where the agents do not count themselves in the computation of their utility in a coalition [37, 38]. In our paper, we use Nash stability. In a Nash stable partition, no agent can improve her utility by unilaterally changing her coalition. Nash stable partitions are not guaranteed to exist for FHGs with arbitrary agent valuations, but they do exist for non-negative val- uations [6], which include simple FHGs. Also, it is NP-complete to decide if a given instance admits a Nash stable partition, even with symmetric valuations [11]. If the quality of stable partitions is measured with the utilitarian welfare, then the price of anarchy is in O(n), even on unweighted paths, and the price of stability on weighted graphs is in O(n), even on weighted stars [6]. Note that we also prove bounds on the price of anarchy and stability but with a different social welfare function. Bil\u00f2, Fanelli, Flammini, Monaco, and Moscardelli [6] show that best response dynamics are not guaranteed to converge to a Nash stable partition even on unweighted bipartite graphs and that computing a Nash stable partition with maximum social welfare is NP-hard. However, the non-convergence result does not carry over to our game since the bipartite valuation graph in [6] is not complete.\nHedonic Diversity Games. Also related are Hedonic Diversity Games (HDGs) [9, 12]. There, the agents have different types and their utility depends on the type-composition of their coalition. Similarly to FHGs, the utility of an agent is the fraction of own- type agents. The utilities in our game correspond to single-peaked utilities, a concept that dates back to Black [7], and such preferences have also been investigated in HDGs [9, 12]. As with FHGs, our game is equivalent to HDGs with utilities that are single-peaked at 0 if the number of locations equals the total number of bakers and millers and if all bakers can choose any location. Thus, by restricting the number of locations or the access to these locations, our game generalizes such HDGs.\nSchelling Games and Resource Selection. Another class of related games are Schelling Games [1, 14, 18]. There, agents of different types select a location on a given graph and the utility of an agent is a function of the type composition of the neighborhood on her selected location. The crucial difference to FHGs and HDGs is that these neighborhoods may be non-overlapping. The agents' utility is a threshold function that attains its maximum value if the fraction of same-type agents in the neighborhood is at least \u03c4, for some \u03c4\u2208 [0, 1]. Recently, single-peaked utility functions have also been studied [5, 25]. Close to Schelling Games and to our game is the model presented by Gadea Harder et al. [26]. In their setting, agents of different types jointly select resources. Like in Schelling Games, an agent is content with her resource if the fraction of same-type agents selecting the resource reaches at least a tolerance threshold \u03c4\u2208 [0, 1]. Two variants are studied: impact-blind and impact-aware agents. For the former, equilibrium existence is shown via a potential function argument while for the latter, this only holds for t \u2264 1.\nIf the number of locations in our game equals the total number of bakers and millers and if the bakers can choose any location, then our game is equivalent to a simple symmetric FHG. On the other hand, if the valuation graph of a simple symmetric FHG is bipartite and complete, then this is equivalent to our game\u00b9. Thus, our model generalizes simple symmetric FHGs that have bipartite and complete valuation graphs."}, {"title": "2 EQUILIBRIUM EXISTENCE AND COMPUTATION", "content": "We observe that equilibria in the Bakers and Millers Game are not unique and can be quite different. See Figure 2 for an example with two locations x and y, four bakers and two millers. In the left equilibrium, all agents except one baker are at the same location x. On the right, each location has one miller and two bakers.\nIn the special case of L(b) = L, i.e., where each baker can choose every location, there is always a trivial pure Nash equilibrium by assigning all agents to a single location. Thus, we now turn to the non-trivial case with restricted bakers and devise an algorithm to compute a pure Nash equilibrium. This algorithm, shown in Algo- rithm 1, proceeds in three phases: First, it tries to concentrate the bakers as much as possible in few locations so that they are placed in the fullest location they can access. Then, a miller equilibrium is created by sequentially inserting each miller at the currently best location. Finally, the bakers are redistributed to a specific baker equilibrium, which maintains the miller equilibrium. We show cor- rectness in the following proof with two embedded lemmas.\nTHEOREM 2.1 (NASH EQUILIBRIUM ALGORITHM). Algorithm 1 computes a pure Nash equilibrium in polynomial time.\nPROOF. Algorithm 1 first greedily determines the order of the locations by the number of yet unassigned bakers in range and assigns the bakers to those locations in that order resulting in a baker profile s. See Figure 3 for an example. We then iteratively insert millers to their best-response locations. This yields a profile (s, t*) in which the millers are in equilibrium. Finally, we compute a baker equilibrium profile s* by choosing the state s that maximizes the classic Rosenthal potential function [44]\n\u03a6 (s) = \u2211_{l\u2208L} Mt* (l) \u00b7 H_{Bs (l)},\nwhere Hi denotes the i-th harmonic number. We will show that the resulting profile (s*, t*) remains an equilibrium for the millers, too. We begin by proving that after inserting the millers in Line 8, the millers are indeed in a miller equilibrium.\nLEMMA 2.2 (MILLER EQUILIBRIUM). In (s, t*) every miller is allo- cated to her best-response location.\nPROOF. Assume for the sake of contradiction there is a miller m on location l that could improve to a location l', i.e.,\n\\frac{Bs(l)}{Mt* (l)} < \\frac{Bs (l')}{Mt* (l') + 1} (1)\nConsider the last miller that was placed on location l. For the number x of millers located at l' at this time, we have\n\\frac{Bs (l)}{Mt* (l)} > \\frac{Bs (l')}{x+1} (2)\nat this time. Otherwise, m would have been placed on l' instead. As x \u2264 Mt* (l'), the lemma follows.\nBefore we show that the last step does maintain the property that millers are in equilibrium, let us remark some useful observations. The number of assigned bakers in s is non-increasing with the index of the location, i.e., Bs (li) \u2265 Bs (li+1), and each baker b is assigned to the location li \u2208 L(b) with smallest i of locations in L(b). This can be seen in Figure 3b. Therefore, when moving from s to s*, bakers are only moved to locations with higher indices. Furthermore, by inserting the millers at their best-response locations and breaking ties in favor of smaller indices, we have that Mt* (li) \u2265 Mt* (li+1).\nLEMMA 2.3 (MILLER EQUILIBRIUM MAINTAINED). Let t* be a miller profile computed by Algorithm 1 and s* = arg max_{x} \u03a6_{t*} (x). The state (s*, t*) is a miller equilibrium.\nPROOF. To prove the lemma, we analyze the changes when mov- ing from s to s*. In particular, we show that the minimal utility of any miller does not decrease and that the maximal achievable utility of a deviation does not increase. To that end, we denote by Lt* \u2286 L the subset of locations occupied by millers in t*. We consider the difference graph which is a multi-graph G = (Lt*, E) that describes the change of bakers from s to s*. See Figure 4 for an example. Therefore, E contains an arc from location li to location lj for each baker b with sb = li and s*b = lj. Note that we always have i < j and, therefore, the difference graph G is acyclic.\nWe consider a path decomposition P of G into maximal paths. In particular, there is no location that is both a start and an endpoint of paths, as these two paths would be merged. Let (P1, P2,..., pm) \u2208 P be a path consisting of locations. As s* maximizes the function \u03a6t* (x) = \u03a3l\u2208L Mt* (l) \u00b7 HBx(l), we have that\n\\frac{Mt* (p1)}{Bs* (p1) + 1} < \\frac{Mt* (pm)}{Bs* (pm)}\nor equiv. \\frac{Bs* (p1) + 1}{Mt* (p1)} > \\frac{Bs* (pm)}{Mt* (pm)}\n(3)\nsince otherwise rearranging the bakers backwards along that path would increase the value of \u03a6. Note that rearranging changes only the number of bakers on p1 and pm. By the choice of paths in P being maximal, we have that p1 has only outgoing arcs and pm has only incoming arcs in G. Therefore, Bs* (p1) + 1 \u2264 Bs(p1) and Bs* (pm) \u2265 Bs (pm) + 1. (4)\nCombining Equations (3) and (4) we get that the maximal utility of any miller in s* is not larger than in s:\n\\frac{Bs (p1)}{Mt* (p1)} > \\frac{Bs* (p1) + 1}{Mt* (p1)} \u2265 \\frac{Bs* (pm)}{Mt* (pm)} \u2265 \\frac{Bs(pm) + 1}{Mt* (pm)} (5)\nSince we have Mt* (p1) \u2265 Mt* (pm) because p1 has a lower index in (l1,..., l|L|) than pm, we also have\n\\frac{Bs* (P1)}{Mt* (p1)} \u2265 \\frac{Bs(pm)}{Mt* (pm)} (6)\nwhich implies that the minimal utility of any miller in s* is not smaller than in s. Now assume for the sake of contradiction that there is a miller m that has a profitable deviation from location l = t* (m) to location l' in (s*, t*). Furthermore, let m' be the miller with minimal utility umin in (s*, t). Therefore, we have that\n\\frac{Bs* (l')}{Mt* (l') + 1} > \\frac{Bs* (l)}{Mt* (l)} \u2264 u_{min} (7)\nwhere the second inequality follows from Equation (6). However, by Lemma 2.2 this deviation for m' was not profitable in (s, t*):\n\\frac{Bs(l')}{Mt* (l') + 1} \u2265 u_{min}. (8)\nCombining Equations (7) and (8) implies that Bs* (l') > Bs(l'), so l' is the endpoint of some path in P. We now consider a path in the difference graph G that ends at l' and starts from some location lstart. By Equation (5) we have that\n\\frac{Bs (fstart)}{Mt* (start)} > \\frac{Bs* (l')}{Mt* (l')} (9)\nBy the existence of a path from l' to lstart, we get Mt* (start) \u2265 Mt* (l'). Therefore, we have\n\\frac{Bs (start)}{Mt* (start) + 1} > \\frac{Bs* (l')}{Mt* (l') + 1} (10)\nHowever, then deviating to lstart would already have been an im- proving deviation for m' in (s, t*), which contradicts Lemma 2.2. Therefore, if there is no profitable unilateral deviation for a miller in s, there is also none in s*, which concludes the lemma.\nFinally, it remains to show that (s*, t*) is a baker equilibrium, which follows from the fact that \u03a6t* is an exact potential function for the induced baker game if we fix all millers. Assume for the sake of contradiction that there is a baker b that has a profitable deviation from l = sb to l', with\n\\frac{Mt* (l)}{Bs* (l)} < \\frac{Mt* (l')}{Bs* (l') + 1} (11)\nBut then\n\u03a6t* ((s_b', l')) = \u03a6t* (s*) - \\frac{Mt* (l)}{Bs* (l)} + \\frac{Mt* (l')}{Bs* (l') + 1} > \u03a6t* (s*),\nwhich contradicts the choice of s* as a maximizer of \u03a6t*. In the following Lemma 2.4, we show how to compute the maximizer in polynomial time and thus our current Theorem 2.1 follows."}, {"title": "3 SOCIAL WELFARE", "content": "The most prominent notion of social welfare is utilitarian social welfare, i.e., the summation of the agents' utilities. However, in the game at hand, this sum essentially simplifies to the number of millers plus the number of covered bakers, where the latter denotes bakers for which there is a miller on a location they can choose:\nWelfare = \u2211_{b \u2208 B} up (s, t) + \u2211_{m \u2208 M} um(s, t)\n= \u2211_{b \u2208 B} \\frac{Mt (s_b)}{Bs(s_b)} + \u2211_{m \u2208 M} \\frac{Bs(t_m)}{Mt(t_m)}\n= \u2211_{l:Bs (l)\u22600}  \\frac{Mt (l)}{Bs(l)}  Bs(l) + \u2211_{l:Mt (l)\u22600}  \\frac{Bs(l)}{Mt(l)}  Mt(l)\n= \u2211_{l:Bs (l)\u22600} Mt(l) + \u2211_{l:Mt (l)\u22600} Bs(l). (12)\nNote that in equilibrium, the first term of Equation (12) evaluates to |M| and the second term is equal to the number of covered bakers. We therefore define the latter as coverage and use it as a metric for social welfare in the rest of the paper."}, {"title": "3.1 Price of Anarchy and Stability", "content": "We show that the price of anarchy is |B|, which is the worst possible in terms of the number of bakers. This follows from the fact that in every instance there exists a Nash equilibrium which covers at least one baker, while for some instances there is an equilibrium which covers exactly one baker.\nTHEOREM 3.2 (PRICE OF ANARCHY). The price of anarchy is |B|.\nPROOF. The price of anarchy is trivially at most |B| since at least one of the bakers is covered by a miller in equilibrium. For a matching lower bound, we construct the following instance: Let the set of locations be L = {x, l1, . . ., l|B|} and let there be one miller. For each baker bi \u2208 {b1, ..., b|B|}, let the set of permissible locations be L(bi) = {li, x}. There is a pure Nash equilibrium where each baker bi is placed on location li and the miller chooses l\u2081 with only one baker covered. The social optimum has all agents on location x. See Figure 6. Thus, we have PoA \u2265 |B|.\nIn contrast to the low welfare of the worst equilibrium, the best equilibrium is surprisingly good.\nTHEOREM 3.3 (PRICE OF STABILITY). The PoS is 1+\\frac{min(|L|,|M|)-1}{|M|}.\nThe theorem follows immediately from the following two lem- mas. For the upper bound, we use the strategy profile with the highest coverage and construct a pure Nash equilibrium where the millers use a subset of the miller location of this optimal state.\nLEMMA 3.4 (PRICE OF STABILITY UPPER BOUND). There exists a pure Nash equilibrium that approximates the optimal coverage by a factor of 1 + \\frac{min(|L|, |M|)-1}{|M|}"}, {"title": "3.2 Complexity and Approximation of Optimal Solutions", "content": "We first show hardness for computing optimal solutions and optimal equilibria. To that end, we reduce from the MAXIMUM K-COVERAGE problem [28].\nDefinition 3.6 (MAXIMUM K-COVERAGE). Given an integer k and a set of sets S, find a subset S' \u2286 S with |S' | = k such that the number of included items \u222a_{T\u2208S'} T is maximal.\nWe now use the NP-hardness of MAXIMUM K-COVERAGE to show that finding the social welfare optimum and the socially optimal Nash equilibrium is NP-hard.\nTHEOREM 3.7 (SOCIAL WELFARE OPTIMUM). Computing the social welfare optimum is NP-hard.\nPROOF. We reduce from MAXIMUM K-COVERAGE. Let the set of locations be L = S and for each item s in the base set \u222a_{T\u2208S} T, we create a baker b with L(b) = {T \u2208 S | s \u2208 T}. We add k millers. If there is an optimal solution S' that covers n items, then for the corresponding strategy profile (s, t) we place the millers at exactly the locations S' and let all bakers choose a location in S' if possible. The result is a coverage of W(s, t) = n. For a social optimum (s, t), we set S' to the set of locations that have at least one miller placed on them. Since (s, t) is a social optimum, all bakers that can be placed in S' are placed in S' and therefore the number of covered bakers is equal to the number of items contained in \u222a_{T\u2208S'} T.\nFor optimal pure Nash equilibria, the reduction is more involved: Adding dummy bakers to each location ensures there is no pure Nash equilibrium with multiple millers on the same location.\nTHEOREM 3.8 (SOCIALLY OPTIMAL EQUILIBRIUM). Computing the pure Nash equilibrium with the best coverage is NP-hard.\nPROOF. Again, we reduce from MAXIMUM k-COVERAGE. Let the set of locations be L = S and for each item s in the base set \u222a_{T\u2208S} T, we create a baker b with L(b) = {T \u2208 S | s \u2208 T}. For each location l, we also add q = |\u222a_{T\u2208S} T| + 1 bakers b with L(b) = {1}. We add k millers. We show that there is an optimal solution S' that covers n items if and only if there is a socially optimal pure Nash equilibrium (s, t) with coverage W(s, t) = n + kq."}, {"title": "4 CONCLUSION AND FUTURE WORK", "content": "Our model adds location choice to the classical setting of simple symmetric Fractional Hedonic Games and to Hedonic Diversity Games with single-peaked utilities. This extension renders proving the existence of pure Nash equilibria much more challenging and we cope with this problem by carefully designing a three-stage constructive procedure that ensures that neither bakers nor millers want to deviate from the constructed state of the game. It is still an open question if this result can also be proven via a potential function approach.\nThe computed pure Nash equilibrium approximates the best possible social welfare by a factor of (1+\\frac{min(|L|,|M|)-1}{|M|})(1 + \\frac{min(|L|, |M|)}{e\u22c5|M|}-1) Note that the individual factors are tight: The price of stability is 1 + \\frac{min(|L|, |M|)-1}{|M|} and is the best achievable factor for se- lecting locations unless P = NP [21]. However, it is an open problem, if the combination of both factors is also a tight upper bound.\nAn interesting future direction is to add weights to the agents. Our results on the price of anarchy and stability also hold in this setting with only minor modifications of the proofs. The bakers and the millers individually still play Congestion Games, but already for weighted agents on only one side, there is no potential function as can be seen by the improving response cycle in Figure 8.\nAnother possible research direction is to restrict the millers in their location choice as well. Here, we cannot rule out the existence of a potential function. However, settling this open problem seems to be challenging, since it also remains unsolved for the related model by Gadea Harder et al. [26].\nFinally, as already mentioned above, other variants of Hedonic Games can also be extended by adding a layer of location choice. We believe that investigating the impact of restricting the set of possible coalitions in such a natural way will lead to interesting new insights into coalition formation problems. Using locations, effects like geographical proximity, access restrictions, and space restrictions can be combined in simple and clean models."}]}