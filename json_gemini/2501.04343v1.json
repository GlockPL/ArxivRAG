{"title": "TimelineKGQA: A Comprehensive Question-Answer Pair Generator for Temporal Knowledge Graphs", "authors": ["Qiang Sun", "Sirui Li", "Du Huynh", "Mark Reynolds", "Wei Liu"], "abstract": "Question answering over temporal knowledge graphs (TKGs) is\ncrucial for understanding evolving facts and relationships, yet its\ndevelopment is hindered by limited datasets and difficulties in\ngenerating custom QA pairs. We propose a novel categorization\nframework based on timeline-context relationships, along with\nTimelineKGQA, a universal temporal QA generator applicable to\nany TKGs. The code is available at: https://github.com/PascalSun/\nTimelineKGQA as an open source Python package.", "sections": [{"title": "1 INTRODUCTION", "content": "Temporal knowledge graphs (TKGs) extend standard knowledge\ngraph triples (e1, r, e2) to quintuples (e1, r, e2, tstart, tend) by incor-\nporating temporal stamps. TKGQA, temporal knowledge graph\nquestion answering, can be seen as a transitional task from knowl-\nedge graph information retrieval (IR) to knowledge graph reasoning,\nin particular, temporal reasoning.\nFirstly, current research in TKGQA is significantly constrained\nby dataset limitations. While CronQuestion [7] stands as the largest\nand most complex TKGQA dataset available, current TKG embedding-\nbased QA methods have already achieved Hits@1 metrics well\nabove 0.9. More concerning is the trend observed in recent publi-\ncations: the work proposed by Liu et al. [6] in 2023 achieved 0.969\nfor Hits@1, followed by two suspicious works by Zha et al. [9]\nand Xue et al. [8] in 2024 that present nearly identical method-\nological pipelines and benchmark results without cross-referencing.\nNotably, the ablation study diagram in [8] is identical to that of\n[6]. This situation not only highlights potential academic integrity\nconcerns but also exemplifies how current dataset limitations are\neffectively blocking advancement in TKGQA research.\nSecondly, from the dataset perspective, since the introduction\nof TempQuestions [2], the TKGQA research community has rec-\nognized the need to address complex temporal questions, yet ap-\nproaches to modeling this complexity remain divergent. While\nTempQuestions initially considered ordinal and implicit questions\nas complex, subsequent datasets [1, 3, 5, 7] explored different di-\nmensions including Before/After relationships, First/Last ordering,\nand Aggregation operations. However, no existing dataset com-\nprehensively incorporates all these complexity dimensions - even\nCronQuestion [7], the largest available dataset, lacks temporal ag-\ngregation questions such as How long in total did Obama and Bush\nserved as president of the US?, as summarized in Table 1. This sug-\ngests the fundamental challenge lies in developing a comprehensive\ncategorization framework that can characterize various dimensions\nof temporal complexity within a unified dataset.\nThirdly, while Large Language Models offer promising directions\nfor domain-specific TKGQA applications through fine-tuning, the\nlack of effective temporal QA pair generation methods for private\ndomains has left this potential largely unexplored."}, {"title": "2 RELATED WORK", "content": "TempQuestions [2], one of the early TKGQA datasets, introduced\nbasic categories including Explicit Temporal, Implicit Temporal, Tem-\nporal Answer, and Ordinal Constraints. CronQuestions [7] further\ndeveloped this categorization with Simple Time, Simple Entity, Be-\nfore/After, First/Last, and Time Join, essentially extending tempo-\nral relations through a fuzzy version of Allen's temporal logic.\nComplex-CronQuestions [5] focused on complex questions, while\nthe recent Temporal Implicit Questions (TIQ) [4] dataset empha-\nsized challenging implicit questions. However, as shown in Table 1,\nthese datasets not only lack comprehensive coverage of tempo-\nral question types (e.g., Aggregation, Ordinal, First/Last), but more\nfundamentally, they fail to establish a systematic framework for\ncharacterizing temporal complexity across different dimensions.\nThis absence of a multi-dimensional temporal complexity frame-\nwork, combined with incomplete coverage of temporal operations,\nsignificantly limits our ability to advance TKGQA research."}, {"title": "3 CONCEPTS AND NOTATION", "content": "TKG. A TKG, denoted as G := (E,R,T,F), is a directed graph\nthat incorporates temporal relationships between entities. In this\nnotation, & represents the set of entities, R denotes the set of\nrelations, T signifies the set of timestamps, and F is the set of facts.\nEach fact is represented as f = (e1, r, e2, tstart, tend), where f \u2208 F;\ne1, e2 \u2208 E; r \u2208 R and tstart, tend ET."}, {"title": "4 QUESTION COMPLEXITY DIMENSIONS", "content": "Our categorization framework classifies question-answer pairs\nbased on four dimensions: context complexity (|C|), answer fo-\ncus, temporal relations, and temporal capabilities, with detailed\nillustrations shown in Figures 1 and 2.\nSimple (if |C| = 1): Questions requiring a single context fact are\nfurther categorized by their answer focus. Factual questions need\ntemporal constrained retrieval (TCR) to find facts within given time\nconstraints (tstart, tend), while Temporal questions require timeline\nposition retrieval (TPR) to determine time ranges (tstart, tend) of\ngiven facts. In Figure 1, Q1 exemplifies Simple.Factual and Q2 rep-\nresents Simple.Temporal.\nMedium (if |C| = 2): Questions involving two context facts require\nmore complex temporal capabilities. For Factual questions, both\nTPR and TCR are needed, along with temporal semantic opera-\ntion (TSO). For example, Q3 in Figure 1 first uses TPR to retrieve\nBush's Yale period T = (1964, 1968), then applies TSO with the tem-\nporal signal \"during\" to infer a new time range T' = (1964, 1968),\nand finally uses TCR with the new T' to retrieve Obama's education\nfacts within this period. TSO generates a new time range T' based\non a time range T = (tstart, tend) and a temporal signal word w (e.g.,\nbefore, after, during):\nT' = op(w, tstart, tend)\n(1)\nFor Temporal questions like Q4, TPR will be first applied to re-\ntrieve relevant time ranges (e.g., presidency periods of Bush and\nObama), then Timeline Arithmetic Operation (TAO) processes these\nranges through three types of temporal relation operations: (1) Set\nOperations (union, intersection, negation), (2) Allen's Temporal\nRelations (13 relations like before, after, start-by), and (3) Dura-\ntion Operations (duration comparison and calculation). For Q4,\napplying the 'union' operation to the presidency periods yields a\n16-year duration.\nComplex (if |C| = 3): Under this category, Factual questions\nrequire all four capabilities (TPR, TCR, TSO, and TAO) as shown\nin Q5 in Figure 1, while Temporal questions need only TPR and\nTAO (Q6). The key distinction from the Medium category is the\nintroduction of Ordinal type questions, which require a fourth type\nof temporal relation operation in TAO: (4) Ranking (temporal\nordering based on tstart, tend, or duration)."}, {"title": "5 QUESTION ANSWER PAIR GENERATOR", "content": "Based on the aforementioned categorization framework, we develop\nTimelineKGQA, an open-source automated QA pair generator\nfor temporal knowledge graphs. This tool can generate diverse QA\npairs from any TKG while incorporating all identified complexity\ndimensions. As shown in Figure 2, our TimelineKGQA consists\nof four main modules:\nModule 1: Temporal knowledge graph unification. Our gen-\nerator accepts any knowledge graph as input, converting it into a\nTKG where each fact is augmented with a time range (tstart, tend)\n(Figure 3). Unlike CronQuestions which only supports year-level\ngranularity, our framework allows for flexible temporal granularity\n(minutes, hours, days to years) and supports both time ranges and\ninstant events (where tstart = tend, can be treated as a time point).\nModule 2: Fact Sampling. To mimic real-world question patterns,\nour sampling strategy for context facts (|C| \u2208 {1, 2, 3}) prioritizes\ntemporally proximate facts and frequently occurring entities.\nModule 3: Question Answer Pair Generation. Based on the\nnumber of sampled facts, the generator follows different generation\npaths (Figure 2):\nSimple (|C| = 1): Five questions are generated for each fact - two\nfactual focus questions about entities, and three temporal focus\nquestions involving tstart, tend, or the duration.\nMedium (|C| = 2): For Medium.Factual answers, Allen's Tempo-\nral Relations between two facts are calculated and incorporated\nas temporal signal words in the questions, with answers about\nentities or predicates. For Medium.Temporal answers, questions\nare generated based on one of three temporal relation operations\n(union/intersection, Allen's relations, or duration), using Yes/No,\nmultiple-choice or open-end answer format.\nComplex (|C| = 3): Follows similar generation process, with addi-\ntional support for ranking-based questions where fact rankings are\ncalculated before question formulation."}, {"title": "6 DATASET GENERATION", "content": "Using TimelineKGQA, we create two benchmark datasets from\nthe ICEWS Coded Event Data\u00b2 (Time Range) and CronQuestion\nknowledge graph (Time Point) for demonstration purposes, gener-\nating 89,372 and 41,720 questions respectively. The distribution of\nquestions across categories and answer types for both ICEWS Actor\nand CronQuestion KG datasets is shown in Tables 3 and 4.\nand embedded using OpenAI's text-embedding-3-small model. Queries\nare embedded similarly, followed with semantic similarity search\nretrieving the top K relevant facts. We evaluate the retrieval perfor-\nmance using modified versions of Mean Reciprocal Rank (MRR) and"}, {"title": "7 CONCLUSION", "content": "We present a comprehensive temporal question categorization\nframework and a universal TKGQA dataset generator that addresses\nthe limitations of existing datasets. Our framework introduces a\nsystematic approach to classify question complexity through con-\ntext facts, answer focus, and temporal operations, while identifying\nfour key temporal capabilities (TCR, TPR, TSO, and TAO). Using\nour TimelineKGQA generator to create two benchmark datasets,\nwe demonstrate that question difficulty aligns with our complexity\ncategorization through empirical evaluation. This work provides a\nfoundation for developing and evaluating more advanced TKGQA\nsolutions, and enables widespread application in private domains."}]}