{"title": "From Traditional to Deep Learning Approaches in Whole Slide Image Registration: A Methodological Review", "authors": ["Behnaz Elhaminia", "Abdullah Alsalemi", "Esha Nasira", "Mostafa Jahanifara", "Ruqayya Awana", "Lawrence S. Young", "Nasir M. Rajpoot", "Fayyaz Minhas", "Shan E Ahmed Raza"], "abstract": "Whole slide image (WSI) registration is an essential task for analysing the tumour microenvironment (TME) in histopathology. It involves the alignment of spatial information between WSIs of the same section or serial sections of a tissue sample. The tissue sections are usually stained with single or multiple biomarkers before imaging, and the goal is to identify neighbouring nuclei along the Z-axis for creating a 3D image or identifying subclasses of cells in the TME. This task is considerably more challenging compared to radiology image registration, such as magnetic resonance imaging or computed tomography, due to various factors. These include gigapixel size of images, variations in appearance between differently stained tissues, changes in structure and morphology between non-consecutive sections, and the presence of artefacts, tears, and deformations. Currently, there is a noticeable gap in the literature regarding a review of the current approaches and their limitations, as well as the challenges and opportunities they present. We aim to provide a comprehensive understanding of the available approaches and their application for various purposes. Furthermore, we investigate current deep learning methods used for WSI registration, emphasising their diverse methodologies. We examine the available datasets and explore tools and software employed in the field. Finally, we identify open challenges and potential future trends in this area of research.", "sections": [{"title": "1. Introduction", "content": "Image registration, also known as image alignment, is a technique to find a spatial transformation for aligning two or more images. This transformation brings the images into a common coordinate system, making them directly comparable. For various tasks, when working with images of the same object or a scene, acquired at different times, from different sensors, or under different conditions, it is necessary to register them on the same coordinate system as they would in a physical space. In the field of medicine, image analysis plays a pivotal role in diagnosis, prognosis, treatment planning, and follow-up monitoring. However, in the majority of the cases, the images are acquired using multiple modalities, markers or techniques which vary in terms of temporal, spatial and dimensional aspects which necessitates the need to align the images for appropriate diagnosis and downstream analysis. Consequently, image registration has emerged as an indispensable tool for medical image analysis and has been used in many applications [1].\nIn pathology, analysing multi-gigapixel images of serial and differently stained histology sections provides valuable insights into the spatial heterogeneity of various molecular markers and the distribution of various kinds of cells. For example, the distribution of tumour cells in relation to immune cell subtypes in the TME can be highly informative for understanding disease dynamics and guiding treatment strategies. Additionally, the quantification of various critical factors, such as the extent of lymphocytic infiltration, aids in understanding disease progression, treatment response, and potential therapeutic strategies. Furthermore, multi-stained tissue slide analysis can help predict responses to immunotherapy using immune markers [3].\nGenerating a histology WSI includes slicing a tissue sample into thin layers (typically 2-5 \u00b5m thick [4]) and then staining them using various markers to visualise different cellular components. The most common stain is Haematoxylin and Eosin (HE) stain which is commonly used in routine pathology practice [5].\nThe stained slides serve as a crucial tool for diverse analyses in pathology. In several tasks, other stains in addition to HE such as immunohistochemical (IHC) stains like Ki67 or Estrogen Receptor (ER), may be required for a comprehensive analysis e.g., for ER scoring in breast cancer [6]. Fluorescence imaging further adds strength to these techniques [7]. There are emerging technologies for multiplexed imaging such as CODEX [8], which provide a deep view of spatial relationships at the single-cell level within tissues. However, combining information from distinct images such as multiplexed immunofluorescence (mIF) images, serial section images, serially stained images, and other diverse forms of data with routine HE WSIs requires precise multimodal image registration. To meet this demand, numerous researchers have proposed various registration methods, leading to a growing number of papers focusing on this aspect. On the other hand, deep learning has gained considerable attention in recent years for medical image registration [9], consequently prompting researchers to employ it for WSI registration.  summarises the breakdown of papers published in the area of WSI registration over the past years and included in this review. The chart shows a rise in the utilisation of deep learning for WSI registration.\nWhile numerous surveys have exhaustively covered medical image registration [10, 11, 1, 12], there is a notable gap in the domain of WSI registration. Since digital pathology has become more prevalent, it is crucial to address this research gap, and hence a detailed review of state-of-the-art approaches along with the challenges and opportunities presented by WSI registration, needs to be documented.\nIn this work, we aim to review state-of-the-art research on WSI registration, with a focus on methods using deep learning. We categorise the methods into two distinct approaches: conventional methods and deep learning models. Fig.3 shows the classification of the methods along with their common subcategory models for each. Reviewed literature is investigated from various perspectives such as techniques, evaluation metrics, datasets, and modalities. Deep learning-based methods are grouped into three categories based on their network approaches. Finally, we explore the available datasets, software, and tools, and discuss various challenges, open problems, and possible future directions. This review provides a thorough understanding for readers in the field who are exploring the latest advancements and aiming to contribute to future research."}, {"title": "2. WSI Registration", "content": "WSI registration is a process that involves aligning and merging multiple WSI scans obtained from different slides, scanners, or time points. In a conventional setting, the pathologists perform WSI registration manually or semi-automatically. The process involves visually aligning multiple WSIs using specialised software or viewer tools. This requires expert execution and supervision, and it is a time-consuming task that demands meticulous attention to detail and expertise in identifying reference points for alignment. However, with advances in digital pathology technology, automated registration algorithms are increasingly being developed to streamline the process and improve efficiency and accuracy. Fig.1 illustrates a general pipeline for automatic histopathology image registration and follow-up downstream analysis."}, {"title": "2.1. Problem Formulation", "content": "From a mathematical perspective, the standard registration problem can be defined as finding a transformation that optimally aligns an image (moving image) Im to a reference image Ir. With this definition, registration is formulated by defining a cost function C(Ir, Im) that quantifies the quality of the alignment. Therefore, the objective is to find the transformation To that minimises the cost function as:\n$\\theta^* = \\arg \\min_{\\theta} C(I_r, T_{\\theta}(I_m)),$\n(1)\nwhere @ is the set of transformation parameters.\nDespite advancements in automatic registration and the numerous proposed methods by researchers, the registration process remains challenging, whether conducted automatically or manually. Various factors contribute to this complexity, including variations in image quality, differences in imaging modalities, and the presence of noise and artefacts. Additionally, the diverse nature of the objects and scenes being registered further complicates the process, making it a persistent challenge in the field. These challenges and the details of each approach are discussed in the following section."}, {"title": "2.2. Importance of WSI Registration", "content": "While HE WSIs provide details about morphological characteristics, they are unable to show the expression of different pathologically relevant biomolecules such as proteins for which immunohistochemical markers are necessary. While some techniques allow the characterisation of both morphological and immunohistochemical markers on the same tissue such as the simultaneous staining of PHH3 with HE on the same slide in [13], typically HE and IHC staining are done on serial sections which warrants effective and reliable registration. Moreover, WSI registration can serve as a means for automated label extraction on a large scale; specific IHC biomarkers, such as PHH3 for mitosis, can be used to stain the same slide that has been stained with HE [14]. This allows for quicker or automatic labelling of biological entities in the HE slide based on the biomarker expression in the IHC slide [15, 16]. However, to accomplish this effectively, reliable WSI registration is necessary.\nAnother significant aspect of WSI registration lies in its application for generating 3D reconstructions from a sequence of 2D slices [17, 18, 19, 20]. This can help for a more comprehensive understanding of complex structures and spatial relationships within biological specimens.\nFurthermore, merging data from slices stained with varying techniques [21, 22, 23, 24], or different image modalities, such as alignment of histology to magnetic resonance imaging (MRI) [25, 26, 27], also emphasise the significance of WSI registration. Generating a high-resolution mosaic from small 2D tiles [28], assisting in virtual staining [29] and facilitating for classification of cancer cells [30] are among other applications of WSI registration."}, {"title": "2.3. Challenges in WSI Registration", "content": "Generally, finding a transformation that is simultaneously locally and globally consistent in terms of semantics across different images, i.e., similar objects are correctly aligned even in the presence of significant elastic (stretches) or inelastic deformations (tears or missing tissue) as well as visual inconsistencies such as scanning artefacts, is a challenging task.\nIn particular, one of the most challenging parts of WSI registration is to tackle the variability in the image content from the same tissue stained with multiple markers. In most histopathology workflows where WSI registration is required, the slides are marked with stains that highlight different parts of the tissue, e.g., some stains mark the nuclei such as DAPI and Ki67 and others mark the cytoplasm, such as CD163 and CD86 or extracellular matrices such as HE [31]. The batch number of antibodies may further aggravate the variability in the imaging of the stains. This means that prominent features in one stain (e.g., based on nuclei) might be faint or absent in the other, making it difficult to find matching points between the images for alignment, and requiring more sophisticated methods for registration.\nAdditionally, tissues scanned at different time points may exhibit variations in appearance due to changes in tissue structure, intensity, and imaging conditions. Biological processes like growth, deformation, or movement can alter the morphology of tissues. These differences make it difficult to accurately align images from different time points, as tissues may not retain the same shape, contrast, or position.\nMoreover, there may be notable variations in local structures even between serial tissue sections. Variations in section thickness can substantially affect the observed tissue content. This discrepancy poses a significant challenge, as the absence of consistent patterns across slides makes it difficult to find corresponding features between slides [32].\nComparatively, medical images from modalities, such as X-ray(s) and MRI(s) often present inherent features like distinct contours and identifiable structures such as bones, facilitating their registration process. Thus, inherently containing information that aids in aligning them accurately. Consequently, registration models proposed for traditional medical images often can be applied more universally across various imaging scenarios, while for WSI registration it is challenging; algorithms trained for one specific marker may not extend to other markers. As a result, the development of robust and versatile WSI registration algorithms necessitates careful considerations associated with different staining methods and cellular features [33]. Given these challenges, registration methods developed for other medical imaging modalities such as X-ray/CT/MRI may not function optimally for WSI registration and require substantial adaptation in addressing the challenges.\nAnother main challenge is the size of the data; a WSI contains billions of pixels and suffers substantial morphological heterogeneity. The huge size and resolution impose challenges in terms of efficient storage, loading, processing, and analysis; the storage and transmission of entire slide images demand considerable storage capacity and bandwidth. WSIs are primarily stored in gigapixel resolution, offering varying levels of detail; in uncompressed form, a whole slide can exceed the size of 250 Gigabytes, and only high-end machines can handle such amount of data in the system. The computational analysis of these images is therefore a resource-intensive task [31].\nThe process of slide preparation and digitisation can also introduce multiple challenges that can significantly impact the accuracy and reliability of image analysis. During slide preparation, a tissue section may be placed at an arbitrary orientation compared to other sections of the same tissue block [31], or tissue contents can change from one section to the next, and there may be unique artefacts on some of the slides [36]. For example, elastic deformation, which occurs when the tissue sample stretches or compresses during slide preparation, distorts tissue structures and changes spatial relationships between cellular components [37]. Physical imperfections in the slide itself, such as folds that obscure tissue or pen marks, which can be misinterpreted as cellular structures, also challenge the registration of histopathology images. The scanning process can also introduce its own artefacts, like blurriness that obscures details or dust particles that appear as additional structures in the image. These combined challenges make it difficult to accurately translate the information on the slide into a clean, high-fidelity digital representation.\nFinally, for WSI registration using machine learning algorithms, it is important to have a substantial amount of data with acceptable image quality [39]. Creating a suitable dataset involves significant expertise and effort, and there are few publicly available datasets for WSI registration. While annotated images are ideal for evaluating models, annotating WSIs with accurate and detailed information is a time-consuming process that often requires input from expert pathologists. Even with expert involvement, establishing a reliable ground truth for model training can be challenging due to potential variations in annotations among different pathologists, which can lead to inconsistent labelling of the same image.\nVarious approaches have been developed to address the above challenges. For instance, changes in appearance can be handled by colour normalisation techniques [40]. To address the variations such as deformation during slicing between serial sections in cross-slide registration, one solution is to restain the same section [41]. However, restaining the tissue sections requires proper training and can be cost-inefficient. Multiplexed fluorescence imaging provides an alternate solution to this problem, but this is relatively new technology, requires staff training, is expensive, and takes considerable time and cost to optimise antibody panels for this technology.\nTo address variation in the stains, many researchers employed segmentation approaches [42, 43]. Additionally, multimodal similarity features, such as structural probability maps [44], and synthesising images with the same domain [45, 27] have also been utilised to mitigate the structural complexity. To address the challenges with the large size of images, two approaches can be adopted: either conducting registration on a different level of downscaled images [46] or dividing the WSI into smaller patches and registering them individually, followed by the combination of the results [3, 47, 45]."}, {"title": "3. Datasets for WSI Registration", "content": "Challenge competitions have been highly beneficial and have created a positive impact on the advancement of computational pathology. Given its importance, multiple challenge competitions worldwide have focused on WSI registration. These competitions provide large annotated datasets, which makes it easier for researchers to work on high-quality data and propose new methods. This results in the development of state-of-the-art approaches, encouraging further expansion and application. It also helps new researchers in the field to keep track of overall progress through the years and develop new approaches after the competition is over. A list of publicly available datasets has been curated in Table 1.\nOne of the challenge competitions on WSI registration was ANHIR (Automatic Non-rigid Histological Image Registration) [33], hosted at the IEEE International Symposium on Biomedical Imaging in 2019. The competition was specifically organised for histology image registration, drawing 100 registered teams, with 10 actively participating. The results were published for the top 7 well-performing teams. Broadly, most methods employed classic approaches, with the winner achieving a registration accuracy exceeding 98% for landmarks. An interesting aspect was that the best-performing algorithms were initially developed for different modalities but were fine-tuned for histopathology data. Another noteworthy finding was the minimal difference in both robustness and accuracy among the first six methods, contrasting with significant variations in reported execution speed. The fastest, completed tasks within a few seconds, while the slowest required an hour. None of the evaluated methods took advantage of full-resolution or full-colour information, and there was only one method employing a neural network for registration - a convolutional neural network (CNN) which was the fastest method [33]. Despite good registration accuracy, with a median landmark localisation error in tens of pixels at the original resolution, even the most effective methods might lack the robustness and accuracy required for routine fully automated use at the nuclei level. However, these methods could be employed in an application with a semi-supervised setting, reducing the effort required for manual refinement.\nThe ANHIR dataset comprises high-resolution WSIs of various tissue types, including lesions, lung lobes, and mammary glands, at magnifications of up to 40x. The original sizes of these images range from 15K \u00d7 15K to approximately 50K \u00d7 50K pixels. The WSIs were acquired in sets of consecutive tissue slices, with each slice undergoing staining using a different dye, including clara cell 10 protein (Cc10), prosurfactant protein C (proSPC), HE, antigen Ki67, platelet endothelial cell adhesion molecule (PECAM-1, also known as CD31), human epidermal growth factor receptor 2 (c-erbB-2/HER-2-neu), ER, progesterone receptor (PR), cytokeratin, and podocin. A collection of over 50 histological sets is provided, and for user convenience, downscaled versions of the images are included at various resolutions: 100%, 50%, 25%, 10%, and 5% of the original size. For evaluation purposes, the landmarks were manually identified in each image, ensuring correspondence within each set.\nThe ACROBAT (AutomatiC Registration Of Breast cAncer Tissue) challenge [38, 46] was organised in 2022 and 2023, running for two editions to date. The challenge was hosted on the Grand Challenge platform [54], with the ability to view the ranking of the submitted algorithm run through the validation set on the leaderboard. However, in the second edition [46], Docker containers were the accepted method of submission via a private upload link. The intended output of registration includes the registered image with the transformed landmarks. The first edition included eight graded submissions [38], while the second edition received four submissions [46]. Arguably, the submitted registration methods represent the cutting-edge advancements of WSI registration, with many participants publishing open-source code and method descriptions.\nThe ACROBAT dataset is publicly available, and it is based on 4,212 WSIs at 40\u00d7 magnification from 1,152 breast cancer patients. HE slides as well as IHC stains including ER, HER2, Ki67, and PR are provided in the dataset, and it is divided into training, validation, and test sets. While the validation set slides were available for participants, the annotations were hidden. Both validation and test sets were manually annotated with landmarks by two experts.\nThe HyReCo dataset [48], acquired at the Radboud University Medical Center in the Netherlands, consists of two subsets, A and B. Subset A includes consecutive sections stained with various markers such as HE, CD8, CD45RO, Ki67, and PHH3. These slides were annotated with 11\u201319 landmarks per section, totalling 690 landmarks across all stains. Subset B consists of re-stained slides without corresponding consecutive sections, annotated with an additional 2303 landmarks. The images in both subsets were digitised at a resolution of 0.24\u00b5m/px and are of size approximately 95K \u00d7220K pixels. To evaluate landmark accuracy, inter-observer and intra-observer errors were measured, indicating high precision. The dataset, along with landmarks, is available under the Creative Commons Attribution-ShareAlike 4.0 International Licence, enabling researchers to utilise it for further analysis and validation.\nThe Prostate Fused-MRI-Pathology dataset [52] is collected for the registration of MRI and histopathology prostate images. It is publicly available through The Cancer Imaging Archive (TCIA) website 1. This dataset comprises 28 human subjects, each with MR and HE images. Surgically excised prostate specimens were originally sectioned and quartered, resulting in 4 slides per section. Each slide was digitised at 20\u00d7 magnification using an Aperio slide scanner, producing a set of four WSI images in the *.svs format. These images were digitally stitched together to create pseudo-whole mount sections (.tiff). Cancer presence annotations on the pseudo-whole mount sections were provided by an expert pathologist. Slice correspondences between individual T2w MRI and stitched pseudo-whole mount sections were established and verified for accuracy by expert pathologists and radiologists.\nThe Pathology Images of Scanners and Mobile phones (PLISM) [53] dataset, recently published, was specifically developed to enhance machine learning methods; variations in the colour and texture of histopathology images undermine the robustness of machine learning models when faced with out-of-domain data. To address this, the PLISM dataset includes precisely aligned image patches from various domains, facilitating accurate evaluation of colour and texture differences. PLISM comprises images of 46 human tissue types, stained in 13 different ways, and captured using 13 distinct imaging devices. The strength of PLISM is that it includes both WSIs and smartphone images of the same tissue or serial sections of tissue microarray (six smartphones and seven digital scanners). Analysis revealed significant diversity in these variations, particularly between WSI and those from smartphones. A CNN pre-trained on PLISM demonstrated improved handling of domain shifts.\nFinally, the datasets ASHLAR (Alignment by Simultaneous Harmonisation of Layer Adjacency Registration) [50, 51] and Guiet & Chiaruttini [49] have limited number of two sample of WSIs."}, {"title": "4. Evaluation metrics", "content": "Image registration is typically formulated as an optimisation problem or through minimising a loss function. This typically comprises a similarity metric, which compares the aligned images, and a regularisation term that guarantees the smoothness of the transformation. Traditional similarity metrics such as Euclidean Distance or Normalised Cross-Correlation prioritise aligning pixel intensity values or correlations. However, for WSI, it falls short due to the lack of geometric or physical meaning associated with many common similarity measures. In simple terms, just because two whole slides \"look similar\u201d according to a specific measure does not necessarily guarantee they accurately align anatomically.\nOne reliable approach involves manually identifying a set of corresponding points in both reference and moving images. This technique, known as landmark-based methods, uses these points to assess how well the registration aligns the images. The drawback is that the evaluation of registration depends on the quality of these landmarks. However, the effect of \u201cnoisy\u201d annotations can be reduced by marking sufficiently large number of landmark points verified by at least two pathologists.\nFor evaluation metrics, Target registration error (TRE) is the most frequent landmark-based metric that quantifies the precision of a registration process. It calculates the misalignment between corresponding landmarks in the transformed and the reference images and is computed as $\\text{TRE} = (\\sum_{i=1}^{N} ||p_i \u2013 q_i||)/N$, where N is the total number of landmarks, and pi and qi represent the coordinates of the corresponding points in the registered and reference images, respectively.\nMost studies have used TRE in their evaluation process, with different variants of TRE being available for this purpose, [55, 46, 56]. By normalising the TRE with respect to a predefined length or dimension in the reference image, rTRE calculates the relative error (rTRE = TRE /D; where D is the reference length or dimension in the reference image used for normalisation). This normalisation allows for a more standardised comparison of registration accuracy across different datasets or applications, particularly when the scale of the images varies. Average rTRE, mean rTRE and max rTRE are other variants of TRE reported for evaluation [33].\nApart from TRE, other methods exist for computing distances between landmarks. For instance, Euclidean distance of the position of the landmarks [57], computing the distance of feature keypoints extracted from automatic methods [58], the mean absolute error (MAE) of landmarks[27] and t-test of the annotations that were manually selected on both images [43] are also reported. However, these methods are not commonly employed in the literature for histopathology registration.\nSince manually selecting keypoints and annotations is labour-intensive and not all the datasets have landmarks, several studies reported the evaluation using similarity metrics. The Dice coefficient and Hausdorff distance are two commonly employed metrics in medical image analysis to assess the similarity or dissimilarity between two sets of points or shapes, particularly in tasks like image segmentation or registration. The Hausdorff distance measures the maximum dissimilarity between two sets of points or shapes by determining the maximum distance between a point in one set and its nearest point in the other set, and vice versa. Conversely, the Dice coefficient quantifies the spatial over-lap between two sets of points or regions. Various studies focusing on registration from a segmentation perspective have used the Dice coefficient, Hausdorff distance and mean segmentation offset to report the evaluation results [43, 27, 4].\nThe structural similarity index measure (SSIM) can also be used to evaluate the similarity between two images; it measures the similarity in luminance between corresponding pixels, the similarity in contrast, and the similarity in structure, and is calculated by comparing local patterns of pixel intensities in the two images. Other similarity metrics, including root mean square error (RMSE), peak signal-tonoise ratio (PSNR), mutual information (MI), normalised MI (NMI), normalised gradient field (NGF), normalised correlation correlation (NCC) are also used in several works to quantify the registration precision [45, 33].\nThe aforementioned metrics are the most frequently used for WSI registration evaluation. However, they do not include all the available methods, and the choice of evaluation metrics may vary depending on how the registration problem is designed. For example, in the case of deep learning models treating registration as a segmentation and classification task, metrics like area under the receiver operating characteristic curve (AUC) or accuracy can also be used for assessment [59].\nAmong all the methods for registration evaluation in histopathology images, landmark-based models are the most effective. This is because they provide precise, localised error measurements. Given the repetitive patterns typical in tissue images, other methods, such as overlay comparison or similarity metrics, may not accurately reflect the quality of the registration. Although several studies have reported landmark-based error metrics, this method requires accurate identification of landmarks, which can be labour-intensive and is not feasible for large-scale evaluations.\nAlternatively, similarity-based evaluations such as MSE, RMSE, and NCC are straightforward to implement and applicable across all methods and datasets. However, they are susceptible to intensity variations and may not be completely ideal for histopathology images. MI, being less sensitive to intensity, proves effective for multimodal image registration. Yet, calculating MI can be computationally expensive, particularly for high-resolution whole images, due to histogram computations and joint entropy estimation involved.\nFeature-based evaluation, which compares extracted features like edges and contours from registered and reference images, offers robustness to intensity variations and focuses on significant structures within the images. However, this method heavily relies on the accuracy of feature extraction. Finally, overlap-based metrics, which measure the similarity of segmented regions, are effective and interpretable, especially for the segmentation-based approaches. Nevertheless, they also depend on the accuracy of the segmentation methods.\nIt is important to note that apart from accuracy, a crucial consideration for a registration method is the running time. A technique that achieves very high accuracy but has a long running time may not be practical for many applications. In contrast, a method with slightly lower accuracy but significantly shorter processing time can be more desirable [60]. Due to this trade-off, many studies reported both accuracy and computation time in their evaluations [61, 27, 4]. Borovec et al. [62] published a benchmark paper comparing 11 well-known methods across various aspects. In terms of running time, they reported the running time on the same machine for linear and elastic (free-form) transformations. The minimum average running time for linear transformations is 6.13 seconds, while for free-form deformations, it is 5.92 seconds. The maximum average running time is 787.9 seconds for linear transformations and 17,179 seconds for free-form deformations. Muhlich et al. [50] also compared their method to the well-known Microscopy Image Stitching Tool (MIST) [63] and found that both methods exhibited similar running times on a single CPU, approximately 300 seconds. In contrast, Song et al. [43] demonstrated a significant difference in execution time between MI-based and classification-based registration methods. For a specific data group, the maximum execution time was around 2,500 seconds for MI-based methods, whereas it was less than 500 seconds for classification-based methods.\nIn conclusion, the choice of evaluation method primarily depends on the registration approach employed and the dataset. Each evaluation metric comes with its own set of advantages and disadvantages. Consequently, it is common for studies to report multiple metrics for registration accuracy in addition to computational efficiency to provide a comprehensive assessment. Additionally, given the significance of memory usage and other hardware requirements in registration, including these factors alongside registration results enhances the holistic assessment of a method's performance."}, {"title": "5. Conventional approaches for WSI registration", "content": "Based on the level of manual intervention required, there are three main approaches for registration: manual, semi-automatic, and fully automated. Manual registration involves an expert user selecting corresponding points (landmarks) in the reference and moving images for computing transformation parameters. This method usually achieves high accuracy but it is labour-intensive and time-consuming requiring the user to zoom in and out on both reference and moving images and carefully selecting corresponding points [64, 65]. Thus, making it impractical for large-scale experiments.\nSemi-automatic registration combines manual and automatic processes, with the user providing initial guidance by selecting a few control points, and an algorithm refining the alignment [66, 67]. This reduces user effort, but still requires their input and depends on the quality of the selected points. Fully automated registration is entirely handled by algorithms, eliminating the need for manual point selection but potentially lacking the accuracy of manual methods. In this paper, we focus on fully automated approaches, reviewing and analysing them with a view of their underlying methods.\nIn general, most of the methods for WSI registration follow a multiresolution i.e., performing registration at multiple resolutions. The main reason is the huge size of images and the inherent pyramid structure which facilitates such an approach. Also, to increase robustness and address hardware limitations, many of these approaches adopt patch-based strategies. First, they apply pre-processing steps such as intensity normalisation, masking, and segmentation to prepare the images. Next, a coarse but robust alignment, often based on rigid transformations, is performed. Finally, the registration precision is refined further through non-rigid registration.  illustrates a conventional WSI registration pipeline.\nThe automatic image registration techniques published in the literature can be classified based on several factors, including transformation elasticity (rigid, affine, non-rigid), dimensionality of the imaging data (1D, 2D, 3D, ...), imaging modality (unimodal, multimodal), transformation domain (local or global), nature of registration basis (intrinsic or extrinsic), interaction type (interactive, semi-automatic or automatic), parameter estimation (direct or search oriented) and subject (intrasubject, intersubject and atlas) [68, 69, 70]. Broadly, we can classify these into conventional and deep learning-based registration algorithms. The conventional (non-deep learning) methods can be categorised further based on their approaches into four broad groups: intensity-based, feature-based, frequency domain-based and point set-based approaches."}, {"title": "5.1. Intensity-based registration", "content": "Intensity-based registration techniques align images by comparing pixel intensity values [71", "4": "proposed a novel method for aligning WSI images with six different stains based on NGF. Their method first performs pre-alignment with the affine transformation of the masks computed using the sum of squared distance (SSD) measure. Next, it registers the WSIs at a low resolution with a nonlinear deformation model. It later refines this result on patches by using a second nonlinear registration on each patch. Finally, the deformations computed on all patches are combined by interpolation to form one globally smooth nonlinear deformation. The NGF distance measure is utilised for both nonlinear registrations as the similarity metric. The authors evaluated their method on 10 WSI pairs of human lung cancer data. The performance of the alignment is measured by comparing manual segmentations from neighbouring slides. This method achieved a significant improvement in alignment accuracy, with at least a 15% reduction in offset compared to the low-resolution nonlinear registration. The results show that NGF performs effectively for both images with different stains and same-stain registration.\nAchieving successful outcomes with NGF, Budelmann et al. [72", "73": "also utilised this method to detect similarity for WSI registration. As part of the ACROBAT 2022 challenge, Budelmann et al. [72"}, {"73": "also explored aligning nonglobally stained IHC sections through a graph-based registration method by minimising NGF for 3D tissue reconstruction. The dataset comprises five IHC WSIs divided into 315 patches from different tissue types (e.g., prostate, breast, skin, etc.) and 21 IHC stains.\nAs MI can effectively handle images with varying intensity distributions arising from differences in staining, imaging modalities, or tissue preparation techniques, it has been employed widely in the literature for WSI registration. Doyle et al. [74", "75": "showed that regardless of whether the moving image was MRI, tissue block image, or stained sample data, maximising MI across all pairs of the image data can register them to the reference HE slides. They evaluated their framework on the coronal section of a rat brain containing a 9L Gliosarcoma with an in vivo 7T MRI volume of the same brain.\nSimilar to NGF, MI has applications in both single-modal and multimodal registration tasks. For instance, in [76", "77": "and [78", "79": "developed a WSI registration method based on cross-correlation similarity for 3D tissue reconstruction. Using seven HE serially-sections images prepared by the authors from pancreatic tissue, a registration algorithm is devised to optimise for NCC. The method employs a batch-based strategy for processing each WSI. Registration results show up to 95% similarity score between the reference and moving images. In [80", "84": "where both moving and reference images are the same modality.\nRather than relying on a single similarity metric, many studies used multiple metrics in their approaches. Mueller et al. [60"}]}