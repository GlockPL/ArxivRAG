{"title": "A Hybrid Evolutionary Approach for Multi Robot\nCoordinated Planning at Intersections", "authors": ["Victor Parque"], "abstract": "Coordinated multi-robot motion planning at inter-\nsections is key for safe mobility in roads, factories and ware-\nhouses. The rapidly exploring random tree (RRT) algorithms\nare popular in multi-robot motion planning. However, generating\nthe graph configuration space and searching in the composite\ntensor configuration space is computationally expensive for large\nnumber of sample points. In this paper, we propose a new\nevolutionary-based algorithm using a parametric lattice-based\nconfiguration and the discrete-based RRT for collision-free multi-\nrobot planning at intersections. Our computational experiments\nusing complex planning intersection scenarios have shown the\nfeasibility and the superiority of the proposed algorithm com-\npared to seven other related approaches. Our results offer new\nsampling and representation mechanisms to render optimization-\nbased approaches for multi-robot navigation.", "sections": [{"title": "I. INTRODUCTION", "content": "The motion planning of multi-robots in constrained navi-\ngation environments is crucial to enable the safe and smooth\nnavigation in lanes and warehouses. Along with recent devel-\nopments in autonomous navigation and self-driving systems,\nthe motion planning algorithms and scheduling platforms for\nconstrained and intersection environments are part in the\nagenda for safer and sustainable transportation\nThe planning and scheduling algorithms for unregulated\nintersections is an NP-hard problem [1], yet approximations\nusing mixed-integer linear programs and Model Predictive\nControl (MPC) exist [2]. Also, trajectory negotiation in multi-\ngraphs [3], the rule-based control [4], as well discrete-based\nmechanisms exist [5]. Approaches for motion planning at\nintersections are rule-based, optimization-based, and machine\nlearning-based. A review on the topic can be found at [6].\nWithin the class of optimization-based approaches, branch\nand bound [7], genetic algorithm [8], mixed integer lin-\near programs [9], ant colony [10], dynamic programming\n[11], [12], mixed-integer quadratic programming [13], mixed-\ninteger non-linear programming [14], model predictive control\n[15], conflict-based search [16] and the multi-objective evolu-\ntionary strategies [17] are often the most studied in multi-robot\nmotion planning.\nMulti-robot motion planning is computationally challeng-\ning, in which centralized/coordinated algorithms have emerged\nrecently. For instance, the coordinated planner [18] uses an\nexplicit multi-robot search space, [19] uses D* to split the\nmulti-robot planning and to allow coordination among robots,\nand the M* plans in the joint configuration space when robots\ninteract [20]; and the discrete version of the rapidly exploring\nrandom trees (RRT) builds roadmaps for each robot and then\nsearches in composite configuration space (tensor product of\nthe graph) [21]. The approach in [22] decouples the multi-\nrobot planning into sequential plans.\nThe class of RRT-based algorithms are advantageous due\nto the sampling-based mechanisms that build composite mo-\ntions. And dRRT*, the asymptotically optimal version of\ndRRT, allows to rewire the tree to refine paths by prun-\ning the solutions by branch and bound, and by expanding\nthe composite tree heuristically [23]. The fast-dRRT is the\ncomputationally efficient version of dRRT*, it resolves the\nmulti-robot collisions in confined environments by allowing\nsome robots to navigate and others to wait [24]. Instead of\nbuilding a single probabilistic roadmap [25], [26] constructed\na parametric roadmap and gradient-free heuristic searched over\noptimal multi-robot trajectory configurations.\nAmong the above-mentioned, the class of optimization-\nbased approaches are attractive for their ability to solve\npractical scenarios. In this paper, we propose a new gradient-\nfree optimization scheme to tackle the multi-robot coordinated\nplanning at intersections, and evaluate its performance. The\nproposed algorithm implements the difference of vectors and\nthe rank-archive mechanisms to better guide the sampling of\nroad-maps useful to render collision-free multi-robot trajec-\ntories. The proposed algorithm is coined as the Rank-based\nDifferential Evolution with a Successful Archive (RADES).\nOur contribution is as follows:\nWe overview the class of multi-robot trajectory planning\nusing the lattice-based road-map configurations.\nWe propose the Rank-based Differential Evolution with a\nSuccessful Archives (RADES) that implements the rank-\nbased selection mechanisms, the archives of successful\nmutations, and the stagnation control to guide the sam-\npling mechanisms.\nOur computational experiments involving the multi-robot\ncoordinated planning on ten types of intersection sce-\nnarios have shown the feasibility and the superiority of\nthe proposed algorithm compared to seven other related\noptimization approaches."}, {"title": "II. PROPOSED APPROACH", "content": "This paper tackles the multi-robot coordinated planning\nproblem at intersections, as shown by Fig. 1. The input is\nthe initial configuration of the robots and their corresponding\ndestinations as shown by Fig. 1-(a, b). Thus, the goal is to\ncompute collision-free trajectories for a team of N robots\n(vehicles) in intersection domains. Here,\nthe robot configuration is represented by the tuple $q \\in (x,y,\\theta,\\kappa)$, with position in the Euclidean plane\nat (x,y), orientation $\\theta$, and following the dynamics\n$(x', y', \\theta', \\kappa') = (cos \\theta, sin \\theta, \\kappa, \\sigma)$ [24].\n$q_i$ is the configuration of the i-th robot (i\u2208 [N]),\nconsidering a team of N robots; in which $q_i^o$ and $q_i^f$ are\nthe initial and end configurations of the i-th robot.\n$Q = {q_1, q_2, q_3, ..., q_n}$ is the set of N robot configura-\ntions of the set of N robots.\nThe ideal/reference local trajectories can be computed by\nfeasible shortest-paths over the intersection domains as shown\nby Fig. 1-(b).\nWe tackle the multi-robot coordinated planing problem by\nsolving the following:\nMinimize $\\sum_{i=1}^{N} L(P_i)$\nsubject to $P_i \\subset E_i$, i = 1,..., N.  (1)\nwhere\n$P_i = (e_1^i, e_2^i, ..., e_k^i, ..., e_{n-1}^i)$ represents the sequence of\nmulti-robot collision-free edges rendered from a roadmap\ngraph $G_i = (V_i, E_i)$ and computed by dRRT* [23], [24].\n$L(P_i)$ denotes the length of the trajectory $P_i$ (Euclidean\nnorm), as the result of the sum of lengths of edges.\nThe basic idea of the above is to search over the space\nof the composite roadmap configurations to guide dRRT* to\nnavigate and sample points in the constrained search space.\nIn this paper, each roadmap is constructed using triangular\nlattice paths defined by base $b_i$ and height $h_i$; thus, it becomes\nstraightforward to search over the space of lattice path con-\nfigurations by sampling over the space of $b_i$ and $h_i$. The cost\nfunction in (1) is nondifferentiable, thus the class of gradient-\nfree optimization algorithms are suitable to tackle the problem.\nWe construct the reference trajectories over a lattice-based\nroadmaps as follows:\nAn ideal trajectory $\\pi_i$ is sampled in the free space to allow\nnavigation from initial configuration $q_i^o$ towards the end\nconfiguration $q_i^f$, as shown by Fig. 2-(a). The sampling of\nthe trajectory is performed via feasible shortest navigation\npaths.\nLet the set of trajectories $\\pi_i^M = {q_1^i, q_2^i, q_3^i, ..., q_R^i}$,\n$\\pi_i^\\triangle = {p_1^i, p_2^i, p_3^i, ...}$ and $\\pi_i^\\nabla = {r_1^i, r_2^i, r_3^i, ...}$ be the\ntrajectory configurations on, above and below the ideal\ntrajectory $\\pi_i$ computed by discretization with triangular\nelements with base $b_i$ and height $h_i$ as shown by Fig.\n2-(b). Here, $q_1^i = q_i^o$ and $q_R^i = q_i^f$, and\n$R=1+\\frac{L(\\pi_i)}{b_i}$ (2)"}, {"title": "Algorithm 1: RADES", "content": "FEs = 0, t = 0, $q_i$ = 0;\nGenerate a set of N individuals randomly as initial\npopulation set P;\nInitialize the archive A from the population set P;\nInitialize the F and CR;\nFEs = FEs + N;\nwhile FEs < MaxFEs do\nt = t + 1;\nFind out the best individual $x_{best}$ and $A_{best}$ from\nthe population and the archive A respectively;\nfor i = 1 to NP do\nGenerate $r_1$ and $r_2$ using (9);\nGenerate the mutant vector $v_{i,t}$ using (8);\nGenerate the trial vector $u_{i,t}$ using (6);\nif f($u_{i,t}$) < f($x_{i,t}$) then\n$x_{i,t+1} = u_{i,t}$;\n$u_{i,t} \\rightarrow A$;\nDelete an element from A if |A| > |P|;\n$q_i = 0$;\nelse\n$x_{i,t+1} = x_{i,t}$;\n$q_i = q_i + 1$;\nend\nFEs = FEs + 1;\nend\nend\n$b_{t,k} = \\begin{cases}  1, & \\text{for } r_{t,k} < CR \\text{ or } k = jrand \\\\  0, & \\text{otherwise}  \\end{cases}$ (11)\n$x_{i,t}$ is a real vector ($x_{i,t} \\in R^D$) denoting the configuration\nof the roadmap $x = (b_i, h_i)_{i\\in{1,...,N}}$,\n$u_{i,t}$ is the trial solution,\n$\\cdot$ is the Hadamard product (element-wise),\n$x_{i,t}$ is the i-th reference individual (solution) sampled\nfrom either the population P or the archive A,\n$v_{i,t}$ is the mutant vector,\n$x_{r_1}$ is the $r_1$-th individual from the sorted population by\nfitness,\n$A_{r_1}$ is the $r_1$-th individual of the archive A,\n$v_{i,t} = \\begin{cases}  x_{best} + F(x_{r_1} - x_{r_2}), & \\text{if } q_i \\le Q \\\\  A_{best} + F(A_{r_1} - A_{r_2}), & \\text{otherwise}  \\end{cases}$ (8)\n$b_t$ is a binary vector,\n$r, r_{t,k}$ are random numbers in U[0, 1],\njrand is a random integer U[1, D], k \u2208 [1, D],,\nCR is a probability of crossover.\n$\\beta$ is a bias term,\n$q_i$ is the stagnation counter,\nQ is the threshold for stagnation counter."}, {"title": "III. COMPUTATIONAL EXPERIMENTS", "content": "To evaluate the performance and feasibility of the proposed\napproach, we conducted computational experiments in the\ncontext of multi-robot path planning in intersection situations.\nTo allow the modeling of multi-robot planning in distinct\nscenarios, we use the configurations shown by Fig. 6. Here,\nthe origin and destination, as well as the ideal/reference\ntrajectories are given for navigation considering intersections.\nWe used up to 10 robots for the sake of evaluating the\nfeasibility of tackling multi-robot coordinated planning. The\nmap dimensions were set to a squared region and the robot\ndimensions were set to 3.2 \u00d7 0.8 units. To tackle Eq. (1), we\nused RADES and compared its performance to other gradient-\nfree population-based Differential Evolution heuristics:\nBETACODE: Differential Evolution with Stochastic\nOpposition-Based Learning and Beta Distribution [30],\nDESIM: Differential Evolution with Similarity Based Mu-\ntation [31],\nDERAND: Differential Evolution with DE/rand/1/bin\nStrategy [27],\nRBDE: Rank-based Differential Evolution [28],\nDCMAEA: A Differential Covariance Matrix Adaptation\nEvolutionary Algorithm [32],\nOBDE: Opposition-Based Differential Evolution [33],\nUMS SHADE: Underestimation-Based Differential Evolu-\ntion with Success History [34]\nThe motivation behind using the above set is due to our\nintention to evaluate related forms of sampling, exploration,\nexploitation, and selection pressure during optimization. Pa-\nrameters for optimization included probability of crossover\nCR = 0.5, scaling factor F = 0.7, threshold on stagnation\nQ\n= 128, population size NP\n= 10 for all DE-based\nalgorithms, being configurations used in related optimization\nliterature [29]. The bias term $\\beta$ in RADES (Eq. 9) and RBDE\n$\\beta = 2$, and the termination criterion MaxFEs = 300 function\nevaluations. The motivation behind using the above parameter\nset is to allow equal importance for trial solution generation\nover all search dimensions. Also, due to the stochastic nature\nof the optimization algorithms, we performed 20 indepen-\ndent runs per intersection navigation instance to evaluate the\nconvergence performance. The bounds for parameter search\nwere set as follows $b_i \\in [1,6] h_i \\in [0.5,5]$, which imply the\nreasonable scope for lattice-based grid map configurations."}, {"title": "B. Results and Discussion", "content": "In order to evaluate the convergence performance among\nthe evaluated algorithms, we conducted a pair-wise statistical\ncomparison based on Wilcoxon test at 5% significance level.\nFig. 3 shows the pair-wise statistical comparison, in which\nan algorithm in the row shows whether it is significantly\nbetter (+), worse (-) or similar (=) compared to an algorithm\nin the column. The pairwise comparisons are reported per\neach navigation instance. And Fig. 4 summarizes the overall\nperformance across independent runs and navigation instances.\nFig 4 shows the number of times in which the algorithm\nperforms better (bars in blue), similarly to (bars in cyan),\nor worse than (bars in yellow) other algorithms across all\nevaluated instances. As such, the x-axis of Fig. 4 shows the\nalgorithm instance, ordered by rank from the best (left) to the\nworst (right), and the y-axis shows the count of the number\nof instances. By observing the results in Fig. 4, we can note\nthat RADES shows the competitive performance in terms of\nthe number of times it outperforms other algorithms followed\nby RBDE and BETACODE. On the other hand, algorithms\nbased on exploration and diversity enhancing schemes such\nas DERAND, DESIM and UMS SHADE underperform overall\nnavigation scenarios. This observation pinpoints towards the\nmerits of using archives and ranks in gradient-free optimiza-\ntion for multi-robot planning problems. To show an example\nof the convergence performance, Fig. 5 shows an example of\nthe convergence behaviour of the cost function as a function of\nthe number of function evaluations of the evaluated algorithms.\nBy observing Fig. 5, we can note that RADES shows the better\nconvergence in comparison with the related algorithms.\nIn order to show the characteristics of the rendered joint\ntrajectories, Fig. 6 shows the configurations of the ideal\ntrajectories for each scenario, and Fig. 7 shows the obtained\ncollision-free multi-robot trajectories rendered by RADES\noverall 20 independent runs. For ease of reference Fig. 7,\nshows the trajectories of robots with different colors. One\ncan observe from Fig. 7 that it is possible to obtain multiple\nfeasible solutions with small number of function evaluations.\nAlthough the solutions with smaller number of robots leads to\nsingle joint trajectory solutions, the inclusion of larger number\nof robots induce in obtaining multiple solutions as shown\nby the non-overlapped trajectories in Fig. 7. Although we\nused 300 function evaluations as an upper bound to allow the\ngeneration of feasible joint trajectory solutions, it is possible to\nuse larger number of function evaluations to render trajectories\nwith minimal length.\nFurthermore, since collision-free joint trajectories consist\nof time-parameterized waypoints, it is possible to render\nsnapshots of the navigation of multiple robots in intersection\ndomains. Fig. 8 shows examples snapshots of the collision-free\nnavigation of 9 robots. For simplicity and ease of reference,\nwe show the transition over eight configurations out of a large\nnumber of simulation frames. As can be seen from Fig. 8, the\nrobots are able to avoid collision during navigation.\nThe observations derived from this study are useful to\nevaluate the convergence performance of the studied gradient-"}, {"title": "IV. CONCLUSION", "content": "In this paper, we have studied the multi-robot coordinated\nplanning at intersection scenarios and explored the feasibility\nof rendering collision-free trajectories using a new gradient-\nfree optimization scheme implementing the difference of vec-\ntors and the rank-archive based mechanisms under low number\nof function evaluations. The proposed algorithm is labeled\nas the Rank-based Differential Evolution with a Successful\nArchive (RADES), and embeds not only the rank-based selec-\ntion mechanism of potential solutions, but also the archive to\nstore successful mutations for subsequent sampling operations,\nas well as the stagnation counters to guide the sampling\nmechanisms.\nOur computational experiments involving the multi-robot\ncoordinated planning on ten types of intersection scenarios\nhave shown the superiority of the proposed algorithm com-\npared to seven other related optimization approaches. We also\nnoted the attractive performance of archive and rank-based\nstrategies to attain better convergence. On the other hand,\nalgorithms using exploration strategies underperformed over\na large number of cases. Overall instances, the results show\nthe feasibility of generating multi-robot time-parameterized\ntrajectories that avoid collision among entities.\nFuture venues for potential inquiry lie in our agenda. Inves-\ntigating the role of parameter adaptation in optimization and\nevaluating other forms of graph structures for lattice roadmap\nconfigurations are left for future work. Also, investigating\nthe scalability to larger map and number of robot instances,\nand developing the enhanced optimization heuristics are part\nof our agenda. Our results have the potential to elucidate\nnew optimization-based approaches for multi-robot trajectory\nplanning and navigation."}]}