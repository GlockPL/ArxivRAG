{"title": "Contextual Evaluation of Large Language Models for Classifying Tropical and Infectious Diseases", "authors": ["Mercy Asiedu", "Nenad Tomasev", "Chintan Ghate", "Tiya Tiyasirichokchai", "Awa Dieng", "Oluwatosin Akande", "Geoffrey Siwo", "Steve Adudans", "Sylvanus Aitkins", "Odianosen Ehiakhamen", "Katherine Heller"], "abstract": "While large language models (LLMs) have shown promise for medical question answering, there is limited work focused on tropical and infectious disease-specific exploration. We build on an opensource tropical and infectious diseases (TRINDs) dataset, expanding it to include demographic and semantic clinical and consumer augmentations yielding 11000+ prompts. We evaluate LLM performance on these, comparing generalist and medical LLMs, as well as LLM outcomes to human experts. We demonstrate through systematic experimentation, the benefit of contextual information such as demographics, location, gender, risk factors for optimal LLM response. Finally we develop a prototype of TRINDs-LM, a research tool that provides a playground to navigate how context impacts LLM outputs for health.", "sections": [{"title": "Introduction", "content": "Neglected tropical diseases, while extremely preventable and treatable, continue to be highly prevalent in the poorest regions of the world, affecting 1.7 billion people globally with disproportionate impacts on women and children [1]. Similarly, half of the world's population are at risk from infectious diseases, which continue to lead in global mortality and morbidity, resulting in more than 52 million deaths globally, with 99% of diseases occurring in developing countries [2]. Challenges in preventing and treating these diseases include ongoing tracking, early detection, accurate initial diagnosis, management and vaccine limitations [1, 3]. During the pandemic various scalable measures were implemented to address these challenges specific to COVID-19 [4, 5, 6, 7, 8]. Other tropical and infectious diseases have had limited attention for tracking and surfacing accurate diagnosis. The use of large language models for health related question-answering has increased in recent years demonstrating applications for a variety of health use cases [9, 10, 11, 12]. However, there is limited work that has focused on tropical and infectious diseases. These are particularly of interest as they may present out-of-distribution cases, given that they mostly occur in the global south which may be underrepresented in training and evaluation datasets and may lead to potential biases [13, 14]. Additionally there is limited understanding of how different contextual factors such as demographics, prompt styles, and subsets of information (eg. symptoms only, versus symptoms+location) may influence model performance.\nFew papers assess the use of machine learning and LLMs for tropical and infectious diseases. Shenoy et al. 2022 [15] found in a study of 40 tropical and infectious disease clinicians, 35 indicated the need for a decision making tool. They compare logistic regression and decision trees for binary classification and find an average prediction accuracy of 79-84%. Pfohl et al. 2024 [16] developed a health equity dataset which introduced LLM evaluation of a tropical and infectious diseases (TRINDs) dataset and had clinicians and health equity experts evaluate LLM responses to tropical and infectious disease related questions, finding evidence of biased responses. Mondal et al. 2024 [17] developed 50 simulated infectious disease cases with histories, lab reports, imaging findings and evaluated it on 4 different general LLMs and compared the quantity of differential diagnosis to that of medical experts. They found that LLMs generally had difficulties matching the experts' differential diagnosis. Schwartz et al. 2024 [18] delineate failure points for LLMs for infectious diseases consultation to clinical workflow questions and find that LLMs provide dangerous hallucinations and harmful advice for disease management-type questions.\nIn this paper we build on the Tropical and INfectious Diseases (TRINDs) dataset [16]. We make the following primary contributions:\n\u2022 We expand on the dataset to include demographic and semantic clinical and consumer augmentations.\n\u2022 We perform various evaluations with the dataset, to understand how different contexts and counterfactual locations contribute to LLM performance.\n\u2022 We evaluate LLM performance improvements on the larger augmented dataset with in-context prompt tuning.\n\u2022 We assemble a panel of human experts to set a human expert baseline score on the dataset and to provide ratings of data quality, usefulness, etc.\n\u2022 We develop TRINDs-LM, a research tool to demonstrate how context influences LLM performance on TRINDs."}, {"title": "Methods", "content": null}, {"title": "2.1 Dataset generation and expansion:", "content": null}, {"title": "Original TRINDs dataset:", "content": "We base this work on the original TRINDs dataset [16]. To summarize, the authors examined authoritative sources containing factual information about different diseases to create a dataset of 106 questions pertaining to tropical and infectious diseases across different regions around the world. We use a subset of 52 questions from the TRINDs data as a seed set. Each question in the seed set follows a templated structure where a patient persona is presented with"}, {"title": "Contextual TRINDs dataset:", "content": "We created 16 subsets of the seed set to understand which of the different sections of the dataset most influenced model performance. This set used different inclusions and combinations of general symptoms, specific symptoms, personal attributes (age and gender), location, and risk factors.This generated 468 queries."}, {"title": "Counterfactual sets:", "content": "Location: We examined how location influences LLMs responses. The original dataset was created with locations where the disease had a known likelihood of occurring. For each of the original dataset and contextual subsets that included a location, we switched out the original location for a single counterfactual location where there was less probability of disease occurring. Here we used \"San Francisco\" as that location to generate 52 counterfactual location queries. Race: We created versions of the original dataset where we included a race input (Asian, Black and White) for each disease, yielding 159 additional queries. Gender: We created versions of the dataset that had only male, only female and non-binary demographics, yielding an additional 159 queries."}, {"title": "French language set:", "content": "Given prevalence of tropical and infectious diseases in non-English speaking countries we sought to understand how language influenced the performance of the model. A researcher whose official language was French manually translated the original dataset of 52 queries and diagnosis into French and compared performance to the English dataset. We selected French as our primary interest lies in the African continent and official languages that are used are primarily in English and French. This led to 52 prompts."}, {"title": "Multiple choice set:", "content": "To compare the LLMs to expert baselines, we generate 153 multiple choice questions from the original, expanded demographics and expanded semantics sets. We input the questions and ground truth diagnosis from the original dataset and prompted an LLM to provide 5 multiple choice options that included the ground truth and 4 other broad tropical and infectious disease options."}, {"title": "LLM-Expanded demographics set:", "content": "To provide a larger demographically diverse data pool to assess LLM responses we created a synthetically expanded dataset of 2635 queries using the original set as a seed set. For each persona an LLM was prompted to generate 50 demographic expansions, with varying gender, sex, age, socioeconomic status, disability status, ethnicity, location, and origin. For the location variation the LLM was instructed to only generate locations with high incidence of the disease. The LLM was also instructed to prioritize including locations that were consistent with the generated demographics, and to adjust the socioeconomic status to match the location that was generated. Finally, each proposed generation was checked by an LLM-based filter where the LLM was asked to discard generations where the symptoms do not match the condition, or where the demographic does not appear to be plausible."}, {"title": "LLM-Expanded semantic set:", "content": "As prompts from users may present in a variety of ways, and as symptoms may vary as well, we synthetically expanded the dataset to 2651 additional queries. These were created by instructing the LLM to first generate a demographically altered version of the question, in the same way as described above for the expanded demographics set, and to then follow that up by another alteration, generating an alternative formulation of the question for the given patient and disease, but describing a different set of common symptoms related to the disease, and potentially a different personal patient background of relevance for disease risk or onset. LLM-based filtering was applied to these generations as well, where proposals would get discarded in case the generated symptoms did not match the disease, or the proposed demographic does not appear to be plausible."}, {"title": "LLM-Consumer augmented queries:", "content": "The original personas were created with a clinical tone. We created a consumer augmentation of the expanded dataset. We prompted an LLM to convert the original, expanded demographics and semantic sets into first person perspective to generate the consumer versions. This generated 52 consumer queries on the original set, 2635 on the demographic and 2651 queries on the semantic set.\nIn total we generated a dataset of 11,719 queries from the original seed set of 52 queries across 50 tropical and infectious diseases."}, {"title": "2.2 Model evaluation", "content": "We use two baseline models- Gemini Ultra [19], a generalist large language model (standard hyperpa- rameters: batchsize 16, temperature 0.7, top_k=32), and MedLM Medium [20], a LLM specialized for the health domain (standard hyperparameters: batchsize 32, temperature 0.2, top_k=None). As a baseline, we prompt-tuned both models providing instructions and 2-shot examples to guide the model's output (Appendix A.3). The models were prompted to provide an output of the ground truth disease label. This was repeated 4 additional times to yield a total of 5 outcomes per experiment for statistical analysis."}, {"title": "2.3 Auto-rater LLM Evaluations", "content": "We developed an automated rater to score each query for accuracy out of 5 repeated runs. This was developed by prompting an LLM to determine whether the words were either structural or meaningfully similar to each other and score them as correct if they were. For instance if the ground truth was Taeniasis/cysticercosis and model output was Tapeworm it would be marked as correct, since these are meaningfully similar, even if they are structurally different. We performed a manual review of the automated rating on a subset of the data to optimize the rating process and ensure there were no errors.\nFrom the scores we first determined performance of generalist and medical specific models on variations of the original persona set. Next we analyzed which contextual factors/combinations were important for model performance (combinations of general symptoms, specific symptoms, risk factors, location and personal attributes). We then compare performance on the counterfactual and original versions of the prompt. Finally, we assess performance on expanded data with demographic and semantic augmentations with and without many-shot prompting with the original set."}, {"title": "2.4 Human Expert Baseline", "content": "We created a human expert baseline study to understand expert performance on the dataset. The study was deemed IRB exempt by an internal ethics review personnel. We recruited experts- public health researchers, and medical doctors- who had generalizable knowledge of TRINDs, using a snowballing approach via our networks.\nFollowing informed consent, the experts filled a demographic pre-survey. Experts reported a variety of specializations with tropical and infectious diseases including Immunoparasitology, Neglected Tropical Diseases, Infectious Disease Epidemiology, and diseases with pandemic/epidemic potential (eg. Ebola, Mpox).\nExperts were then given 52 short answer questions (SAQs) with full context- general and specific symptoms, demographics (age and gender), location, and risk factors across the identified diseases- and asked to write in a single most likely diagnosis. Once they completed the SAQs, they were given another questionnaire with multiple choice questions of varied formats (153) where they selected the single most likely disease given a list of diseases. Experts were asked not to reference any sources in answering the questions or to look up answers to the questions until both surveys had been completed. After completing the SAQ and MCQ surveys, experts provided feedback on various axes on data quality. They were also asked to indicate how helpful each contextual information was in answering the questions. The process took 5 hours all together and experts were compensated 500 USD for their time."}, {"title": "2.5 TRINDS-LM Tool design and development", "content": "We developed the TRINDs-LM playground for researchers to understand how context impacts health responses for LLMs, using Gemini Ultra as a base model. The user interface (Appendix A.1) allows the user to input demographic information, lifestyle information, and symptoms. A summary is then generated and input into the LLM. The model provides an output that includes the most likely diagnosis, reason, and disease definition. The user interface also shows an interactive map of the global disease incidence rate. The TRINDs research tool is available on request. The tool not meant for clinical use."}, {"title": "2.6 Statistical analysis", "content": "We performed t-test statistical analysis to compare performance between medical specific and general purpose models for each experiment, original and counterfactual datasets, base and many-shot prompt tuned models, and LLM and human expert performance."}, {"title": "3 Results", "content": null}, {"title": "3.1 LLM experimental results", "content": null}, {"title": "3.1.1 Generalist (Gemini Ultra) and specialist (MedLM Medium) model performance on persona variations", "content": "We found that overall performance with minimum instruction tuning and two-shot examples yielded an accuracy of 61.5% for Gemini Ultra and 47.9% for MedLM for the original clinical personas. Gemini Ultra performance increased to 68.7% for the consumer versions, while MedLM remained roughly the same at 46.0%. Performance of both models was reduced with the French versions of the questions, with Gemini dropping significantly to 46.0% compared to MedLM which dropped slightly to 46.0%. Overall the generalist gemini model outperformed MedLM, which might be due to factors such as differences in model sizes, or overfitting of the MedLM tuned model to specific datasets."}, {"title": "3.1.2 Assessing Gemini model performance on varied combinations of attributes and factors", "content": "We found that symptoms, location and risk factors enable the best model performance, followed by the full persona of symptoms, location, risk factors and personal attributes. This implies that excluding personal attributes such as age and gender, may preserve privacy while still maintaining beneficence. The worst performing contextual combinations were symptoms alone (46.8%), symptoms and attribute (44.91%) and general symptoms, location, attributes and risk (44.5%), demonstrating the need for both specific and general symptoms, as well as other contextual factors such as location and risk factors to enhance model accuracy. We also show performance per disease and find that the model performs best on relatively widespread or distinctive diseases eg. Trachoma, HIV and Rabies, but performs worst on less common or diseases with common symptoms eg. tuberculosis."}, {"title": "3.1.3 Assessing Gemini model performance on counterfactual inputs", "content": "Location: We found that generally, the counterfactual location decreased performance across all contextual combinations that included location, but performance was least affected in cases when full context persona, or combination of symptom, location and risk demonstrating the usefulness of including added contextual information. The location counterfactual caused the model to perform the worst when only symptoms were provided or when only general symptoms, or specific symptoms were provided with other information, demonstrating the need to have both specific and general symptoms, plus other contextual information. We find similar trends as well across individual diseases. Race: There were no statistically significant differences in performance across different racial counterfactual inputs, even though we note that performance for \"White race\" counterfactuals increased slightly. Gender: There were no statistically significant differences in performance across different gender counterfactual inputs, even though we note that performance for each of the gender counterfactuals was slightly higher than the original persona."}, {"title": "3.1.4 Assessing model performance on the demographic and semantic expansions", "content": "We found no significant difference for base Gemini performance for clinical and consumer variations on the expanded dataset. We found no significant differences between performance of the base models on demographic and semantic variations. This demonstrates that models perform approximately the same on clinical style and consumer style questions which contain the same information."}, {"title": "3.1.5 Impact of many-shot in-context learning with original persona set on model robustness and generalizability", "content": "We found that in-context learning by providing the model with many-shot examples of the full original set for each disease, significantly increased Gemini performance for demographic and semantic augmentations, though less so for semantic augmentations. It also increased performance on different styles of question inputs (semantics). This demonstrates that in-context learning with a small set of high quality data improves model performance and robustness across different demographics, locations and question styles."}, {"title": "3.2 Human expert baseline and data rating", "content": null}, {"title": "3.2.1 Expert vs LLM performance:", "content": "Seven experts filled out the baseline SAQs and MCQs. We calculated the score for each expert and selected responses for the top 5 scoring experts for each survey for further analysis. For each question from the top 5 responses, we cal- culated the (i) the Expert total score: sum of the score from the 5 experts, (ii) Expert major- ity score: full score (5/5) if the majority of ex- perts had the correct answer else 0/5, (iii) Expert any/at least one score: a full score (5/5) if any one of the experts had the correct answer, and (iv) Expert all score: a full score (5/5) only if all the experts had the answer correct. TRINDS experts tend to specialize and different special- ists may do better on some diseases than others. These combinations of expert scores simulate real-world policy settings where a panel of ex- perts may be used to come to a diagnosis in a variety of ways.\nFor the SAQs dataset, Gemini performed signif- icantly better than all the expert response com- binations, except for the Expert Any/at least one which was significantly better than Gem- ini. For the MCQs, Gemini significantly per- formed better than the Expert total and Expert all scores, and significantly worse than the Ex- pert Any score. There was no difference be- tween Gemini and Expert majority performance for MCQs."}, {"title": "3.2.2 Expert data rating and qualitative feedback:", "content": "Experts rated level of helpfulness of each of the contextual information in providing a diagnosis. Symptoms were rated highest by most experts, followed by risk factor, location and then demographics. This is in line with LLM results demonstrating Symptoms, location and risk factors as being most important for classification. On the dataset quality, experts generally indicated high scores (4-5) for accuracy, completeness, range of tropical and infectious diseases covered, geographic and demographic diversity, and timelines of the dataset. Experts rated the level of difficulty of the questions as 3-4/5. The diversity in the style of questions- asking was rated low with several experts commenting on the repetitiveness of the questions. Experts recommended including the use of over-the-counter medications, less repetition in the question style, improving the specificity of some of the symptoms, and the need for differential diagnosis. There were also comments on improving the quality of the LLM-generated queries. One expert commented on the inclusion of smallpox which has been eradicated for 40 years, but indicated the potential tie to the ongoing Monkeypox (Mpox) epidemic. Experts also indicated the need for patient images to provide more informative responses, which we plan to leverage in a multimodal version of the dataset."}, {"title": "4 Limitations and Future work", "content": "Limitations of this work include the focus on only disease classification, primary focus on English and primary focus on text-based queries. Future work could explore evaluating other tasks such as management steps and treatments, additional languages and multimodal datasets such as relevant disease-related images, or sounds from coughs and breathing."}, {"title": "5 Conclusion", "content": "Overall this work finds that while LLM performance on providing a diagnosis of tropical and infectious diseases is low, performance improves with simple in-context learning with our dataset. We find that larger generalist models outperform smaller specialist models. We underline the importance of context in performance, noting that providing symptoms, risk factors and location outperform the provision of symptoms alone to the LLM. This work provides a scalable methodology for evaluating LLMs for health in global settings for out-of-distribution cases."}, {"title": "A Appendix / supplemental material", "content": null}, {"title": "A.1 Images of the TRINDs-LM interface", "content": null}, {"title": "A.2 Examples of data/query types", "content": "This section shows the different data/query augmentations developed used for evaluations.\n\nContextual combinations\n\u2022\tPatient is a 28 year old male reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient lives in the Uige province and owns domestic animals.\n\u2022\tPatient is reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day.\n\u2022\tPatient is reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient lives in the Uige province\n\u2022\tPatient is reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient owns domestic animals.\n\u2022\tPatient is reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient is a 28 year old male\n\u2022\tPatient is reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient lives in the Uige province. Patient owns domestic animals.\n\u2022\tPatient is reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient lives in the Uige province. Patient is a 28 year old male\n\u2022\tPatient is reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient owns domestic animals. Patient is a 28 year old male\n\u2022\tPatient is reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. Patient lives in the Uige province. Patient owns domestic animals. Patient is a 28 year old male\n\u2022\tPatient has developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient lives in the Uige province. Patient owns domestic animals. Patient is a 28 year old male\n\nLocation counterfactual\n\u2022\tPatient is a 28 year old male reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient lives in the San Francisco and owns domestic animals.\n\u2022\tPatient is reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient lives in the San Francisco\n\u2022\tPatient is reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient lives in the San Francisco. Patient owns domestic animals.\n\u2022\tPatient is reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient lives in the San Francisco. Patient is a 28 year old male\n\u2022\tPatient is reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. Patient lives in San Francisco. Patient owns domestic animals. Patient is a 28 year old male\n\u2022\tPatient has developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient lives in the San Francisco. Patient owns domestic animals."}, {"title": "Gender counterfactual", "content": "\u2022\tPatient is a 28 year old male reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient lives in the Uige province and owns domestic animals.\n\u2022\tPatient is a 28 year old female reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient lives in the Uige province and owns domestic animals.\n\u2022\tPatient is a 28 year old non-binary person reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient lives in the Uige province and owns domestic animals."}, {"title": "Race counterfactual", "content": "\u2022\tPatient is a 28 year old male reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient lives in the Uige province and owns domestic animals. Patient is racially Asian\n\u2022\tPatient is a 28 year old male reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient lives in the Uige province and owns domestic animals. Patient is racially Black\n\u2022\tPatient is a 28 year old male reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient lives in the Uige province and owns domestic animals. Patient is racially White"}, {"title": "French", "content": "\u2022\tLe patient est un homme de 28 ans pr\u00e9sentant de la fi\u00e8vre, des maux de t\u00eate s\u00e9v\u00e8res, de l'irritabilit\u00e9, de la fatigue et des douleurs musculaires et articulaires. Il a d\u00e9velopp\u00e9 une \u00e9ruption cutan\u00e9e, montre des signes de confusion et signale un sommeil inhabituel durant la journ\u00e9e. Le patient vit dans la province d'Uige et poss\u00e8de des animaux domestiques."}, {"title": "Multiple choice", "content": "\u2022\tPatient is a 28 year old male reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient lives in the Uige province and owns domestic animals.\n(A)Yellow Fever\n(B)Cholera\n(C)Sleeping sickness\n(D)Malaria\n(E)None of the above"}, {"title": "LLM Augmentation/Expansions", "content": "Clinical Demographic\n\u2022\tPatient is a 18 year old female reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints. They have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day. Patient lives in the Idjwi and owns domestic animals.\n\nClinical Semantic\n\u2022\tA 38 year old South African man has presented to the ED with complaints of fever, fatigue, and severe headaches for the past three months. He reports that recently he has been feeling more irritable and confused. He has been experiencing episodes of daytime sleepiness which has interfered with his ability to work on the family farm. He reports that his vision has become blurry. Upon physical exam he is noted to have a skin rash. He is currently afebrile, but has swollen lymph nodes, and slight nuchal rigidity. His past medical history is non-contributory, he denies tobacco, alcohol, and drug use. He lives with his family in the KwaZulu-Natal province.\n\nConsumer demographic\n\u2022\tI'm a young girl in Owando, Sangha province who has a fever, awful headaches, and feel really irritable and tired. Plus, my muscles and joints ache. I recently developed a skin rash and I've been sleeping a lot more than usual during the day. I own a few domestic animals. I'm worried about what's causing these symptoms.\n\nConsumer semantic\n\u2022\tI'm a 38-year-old male, and I went to the DR Congo on vacation 3 weeks ago. I came home 3 days ago with a fever, rash, headache, and neck pain. Today, I'm experiencing extreme sleepiness. What could be the cause?"}, {"title": "A.3 Sample Prompts", "content": "This section shows prompts used to generate LLM classification for open ended and multiple choice questions. The section also shows sample prompts used to create the LLM demographic Augmentations/Expansions\n\nprompt_diag = \"\"\"You are an expert in tropical and infectious diseases.\nYou obtain information from authoritative public health sources.\nYou will be provided with symptoms", "answers.\n\nprompt": "Patient is a 28 year old male reporting with fever", "animals.\ndiagnosis": "Sleeping sickness\n\nprompt: Patient is a 49 year old female reporting with fever", "similar\nsymptoms.\ndiagnosis": "Ebola\n\nprompt: {input_prompt"}, "ndiagnosis:\n\"\"\"\n\nprompt_multichoice_diag = \"\"\"You are an expert in tropical and infectious diseases. You obtain information from authoritative\npublic health sources. You will be provided a question with symptoms, and contextual information such as age, gender, location,\npre-existing\nconditions and lifestyle factors. You will also be provided with multiple choice options. Please respond to the questions with a\nsingle answer on the most likely diagnosis.\n-Only provide the best answer with the letter followed by the diagnosis. DO NOT include any other context, DO NOT generate new\nquestions.\n\nHere are some example questions with appropriate answers.\nprompt: Patient is a 28 year old male reporting with fever, severe headaches, irritability, fatigue and aching muscles and joints.\nThey have developed a skin rash, show signs of confusion and report uncharacteristic sleeping during the day.\nPatient lives in the Uige province and owns domestic animals.\n(A) Yellow Fever\n(B) Cholera\n(C) Sleeping sickness\n(D) Malaria\n(E) None of the above\nanswer: (C) Sleeping sickness\n\nprompt: Patient is a 49 year old female reporting with fever, headache, muscle pain, sore throat, loss of appetite, diarrhea and\nvomiting.\nThey are also hemorrhaging. Patient is a health worker from Vuhovi.\nPatient has a family member who was recently admitted with similar symptoms.\n(A) Cholera\n(B) Bullous Impetigo\n(C) COVID\n(D) Sleeping sickness\n(E) Ebola\n\nanswer: (E) Ebola\n\nprompt: {input_prompt}\n{optionl}\n{option2}\n{option3}\n{option4}\n{option5}\n\nanswer:\n\"\"\"\n\nSYMPTOM_MUTATOR = \"\"\"When presented with a QUESTION, reply with a NEWQUESTION.\nNEWQUESTION should be asking a question for the same patient, and the same DISEASE, but a different set of common symptoms, and a\npotentially different background of relevance for the onset of those symptoms. NEWQUESTION should not explicitly mention the DISEASE. The\nDISEASE that is the root cause of the symptoms in both QUESTION and NEWQUESTION is <DISEASE>. \\nQUESTION:\n\nDEMOGRAPHIC_SAMPLER_PROMPT = \"\"\"Generate a realistic patient DEMOGRAPHIC description based on one or more of the following:\nORIGIN, LOCATION, ETHNICITY, SEX or GENDER, AGE GROUP, SEXUAL ORIENTATION, SOCIOECONOMIC STATUS, and\nDISABILITY STATUS.\n\nIn the patient DEMOGRAPHIC, for ORIGIN, consider specific regions where the <DISEASE> is highly prevalent.\nIn the patient DEMOGRAPHIC, for LOCATION, consider specific towns or provinces within the selected ORIGIN where the <DISEASE> is\nhighly prevalent.\nIn the patient DEMOGRAPHIC, consider ETHNICITY amongst those living locally at the selected ORIGIN where the <DISEASE> is highly\nprevalent, as well as those likely to be traveling at the ORIGIN. Make ETHNICITY as specific as possible.\nIn the patient DEMOGRAPHIC, consider SEX among male or female or intersex.\nIn the patient DEMOGRAPHIC, consider GENDER among cis men, cis women, trans men, trans women, non-binary people.\nIn the patient DEMOGRAPHIC, consider AGE GROUP among young, elderly, child, adolescent, middle-aged, adult. For WOMEN also\nconsider pre-menopausal, post-menopausal. Also consider defining AGE GROUP above or below a certain AGE.\nIn the patient DEMOGRAPHIC, consider SEXUAL ORIENTATION among straight, gay, bisexual, pansexual, asexual, queer.\nIn the patient DEMOGRAPHIC, consider SOCIOECONOMIC STATUS among low-income, middle-class, high-income.\nIn the patient DEMOGRAPHIC, consider DISABILITY STATUS as able-bodied, autistic, deaf, blind, deaf-blind, hearing impairment,\nintellectual disability, orthopedic impairment, learning disability, speech or language impairment, traumatic brain injury, visual impairment.\nDo NOT make any claims about the DEMOGRAPHIC, do NOT output a sentence.\nPrioritize including a specification of ORIGIN in the DEMOGRAPHIC.\nPrioritize specifying the LOCATION in the DEMOGRAPHIC.\nDo NOT make any mentions of medical conditions.\nAdjust the SOCIOECONOMIC STATUS to meaningfully match the ORIGIN.\n\nDEMOGRAPHIC:\n\nDEMOGRAPHIC_PLAUSIBLE_FILTER = \"\"\"Does the demographic in the QUESTION plausibly exist?\n(A): YES\n(B): NO\nSelect (A) or (B)\n\nDEMOGRAPHIC_MUTATOR_FROM_DEMOGRAPHIC_PART1 = \"\"\"When presented with a QUESTION, reply with a NEWQUESTION."]}