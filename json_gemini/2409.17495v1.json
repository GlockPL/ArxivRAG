{"title": "Human Mobility Modeling with Limited Information via Large Language Models", "authors": ["Yifan Liu", "Xishun Liao", "Haoxuan Ma", "Brian Yueshuai He", "Chris Stanford", "Jiaqi Ma"], "abstract": "Understanding human mobility patterns has traditionally been a complex challenge in transportation modeling. Due to the difficulties in obtaining high-quality training datasets across diverse locations, conventional activity-based models and learning-based human mobility modeling algorithms are particularly limited by the availability and quality of datasets. Furthermore, current research mainly focuses on the spatial-temporal travel pattern but lacks an understanding of the semantic information between activities, which is crucial for modeling the interdependence between activities. In this paper, we propose an innovative Large Language Model (LLM) em-powered human mobility modeling framework. Our proposed approach significantly reduces the reliance on detailed human mobility statistical data, utilizing basic socio-demographic information of individuals to generate their daily mobility patterns. We have validated our results using the NHTS and SCAG-ABM datasets, demonstrating the effective modeling of mobility patterns and the strong adaptability of our framework across various geographic locations.", "sections": [{"title": "I. INTRODUCTION", "content": "Understanding and accurately generating human mobility patterns has long been an essential challenge in the field of transportation research. Its implications extend far beyond traffic management, influencing city development, urban planning, public health policies, and even retail strategies [1], [2], [3]. An accurate human mobility pattern generation can lead to more efficient transportation systems, better-designed urban spaces, and improved quality of life for civilians.\nOver the past decades, traditional activity-based models (ABMs) have significantly shaped our understanding of human mobility by simulating daily activities based on individual and household socio-economic characteristics. These models, emerging prominently since 1999, have been utilized extensively by governmental bodies like the Southern California Association of Governments (SCAG) to analyze and predict local mobility patterns [4], [5], [6]. While ABMs are adept at incorporating complex behavioral and economic dynamics, they require extensive local data inputs and rely on numerous assumptions about human activity patterns and economic behaviors. Parallel to ABM advancements, the development of data-driven approaches, particularly those leveraging neural networks, has gained momentum in capturing dynamic mobility patterns. These methods utilize large datasets from sources such as mobile phones or GPS, analyzing spatio-temporal trends to model mobility trends [7], [8], [9], [10]. Despite their effectiveness, these approaches present challenges, including the substantial requirements for civilians' mobility data which raises privacy concerns and the difficulty in adapting to sudden changes in urban settings. Additionally, the interpretability of these models often remains limited, posing challenges in validating and understanding their predictions in real-world applications [11], [12].\nWith the advancement of computational power and the rise of large-scale knowledge-based AI, especially through Large Language Models (LLMs) or Vision Language Models (VLMs), new opportunities have emerged in the field of human mobility modeling. These models, such as GPT-3.5 and its successors [13], have demonstrated remarkable capabilities in understanding and generating human-like text across diverse domains [14]. A key strength of LLMs lies in their ability to understand and generate complex sequences with strong interdependencies and interpretability[15]. Trained on diverse textual data, LLMs can incorporate a wide range of human experiences and behaviors, potentially leading to more nuanced and varied human mobility modeling compared with conventional methods, as daily routines often involve intricate chains of activities with subtle interrelations.\nBuilding upon the concept of \"activity chain,\" which represents the daily activity sequence of individual agents [10], our proposed framework leverages the strong inference and reasoning abilities of LLMs to generate agents' daily activity chains based on provided socio-demographic information, high-level statistics from public resources, and structured guidelines. Our method guides LLMs in modeling agents' mobility patterns that align with their socio-demographic information and represent real-world logical patterns. While overcoming the limitations of existing approaches, our approach shows promising results with the lowest Jensen-Shannon Divergence (JSD) of 0.011 when compared with the National Household Travel Survey dataset (NHTS) and the synthetic results from SCAG's ABM model (SCAG-ABM).\nEmpowered with LLMs, our approach significantly reduces the reliance on extensive historical data and assumptions about human behavior. This innovation opens new possibilities for understanding and generating complex human mobility patterns across different geographic locations. By understanding human dynamics through micro-simulation of daily activities, our method could potentially enhance traffic demand modeling and support multi-scale, multi-model transportation simulations, providing the foundation for advanced urban planning [16]."}, {"title": "A. Contributions", "content": "Our study makes several key contributions to the field of human pattern modeling compared with existing literature:\n\u2022 We demonstrate the capability of LLMs to generate the location-based mobility pattern of a human being using only his or her social-demographic information and accessible statistical data of the region. This approach significantly reduces dependency on extensive and often unavailable mobility or trajectory datasets.\n\u2022 We introduce a semantic method to address the mobility pattern generation problem, compared to traditional location-based trajectory generation. This approach allows for a more interpretable human mobility modeling and enables context-aware generation that better reveals the underlying dependency of real-world human travel behaviors.\n\u2022 We are the first to employ LLMs for the task of activity chain generation. This innovative use of LLMs opens new avenues for modeling complex behavioral patterns with fewer data requirements and higher scalability than traditional methods."}, {"title": "II. RELATED WORKS", "content": ""}, {"title": "A. Human Mobility Modeling", "content": "Efforts to understand human mobility patterns have evolved over decades. In the 1940s, the \"Law of Intervening Opportunities\" was proposed, which suggested that travel between two places is motivated by socio-economic opportunities [17], [18]. In recent years, the advent of GPS systems and personal electronic devices with tracking functions has led to an abundance of activity patterns and trajectory data. This has enabled sophisticated data collection and the rapid evolution of generative models aimed at reconstructing human mobility patterns. The generation of activity chains has emerged as one of the most representative tasks in this field.\nActivity-Based Models (ABM) represent a significant advancement in transportation planning, focusing on modeling human mobility patterns like travel behavior including simulating the daily activities of individuals [4]. These models utilize detailed data such as demographics, land use, transportation networks, and travel surveys to construct intricate activity chains that represent the sequence and type of activities performed by individuals [19]. For example, SimAGENT [20] was applied by the Southern California Association of Governments (SCAG) to analyze regional travel behaviors and assess the impacts of transportation policies. Despite their detailed output, ABMs come with substantial limitations. They require extensive data collection and sophisticated modeling of transportation networks and travel behaviors, making them resource-intensive. Additionally, the heavy reliance on assumptions about travel patterns often restricts their applicability to regions outside the original model setup, posing challenges for their adaptation to different geographic or demographic contexts."}, {"title": "B. Large Language Models", "content": "Recent advancements in artificial intelligence have seen LLMs, trained on trillions of tokens from diverse data sources, emerge as potent tools capable of overcoming many of these limitations. These models leverage the transformer architecture, enabling them to excel in tasks ranging from personal assistant and legal advising to vehicle diver [25], [26], [27]. The inherent flexibility and generalization capabilities of LLMs, derived from their vast and varied training datasets, allow them to adapt quickly to new and unseen scenarios with minimal additional input [13].\nIn our research, we exploit these capabilities by employing an LLM-based approach to model human mobility patterns. This method significantly reduces the reliance on complete, location-specific training data, enabling effective activity chain generation even in regions where detailed mobility data is scarce. By utilizing LLMs, we bypass the need for extensive pre-training or supplementary feature engineering, making our framework uniquely suited for rapid deployment across different geographic contexts without the necessity for extensive dataset reconfiguration."}, {"title": "III. PROBLEM STATEMENT", "content": "Building upon the concept of activity chain [10], the problem addressed in this study is defined as generating the daily activity chain for individual agents based on their social-demographic information. For each agent $i$ with his or her social-demographic information collection $D_i = \\{d_i^1, d_i^2,..., d_i^n\\}$, we aim to generate a daily activity chain $C$ for that agent where each activity in the chain is defined"}, {"title": "IV. METHODOLOGY", "content": "The architecture of our proposed framework is shown in Figure 1. The model inputs consist of social-demographic data for each agent, including attributes like gender, employment status, and education status. This data equips our framework with the necessary context to generate realistic and representative daily activity chains, leveraging LLMs' robust inferential capabilities to generate logical activity chains based on the agent's profile."}, {"title": "A. Agent Demographic", "content": "The demographic information of each agent forms the input of the model, helping to tailor the activity chain generation to the specific characteristics of the agent. In order to best utilize the LLMs' comprehension and interpretation of these attributes, as shown in Figure 1, we represent the agent demographic data into natural language expressions, which ensures a deeper contextual understanding by the LLMs, enabling more accurate and relevant activity chain generation that reflects the nuanced profiles of individual agents."}, {"title": "B. Large Language Model", "content": "We provide the LLMs with a structured system prompt that guides the generation of activity chains. The components of the system prompt are designed to provide comprehensive context and clear instructions, ensuring the generated outputs are both logically reasonable and aligned with the demographic data. The structured input consists of the following elements:\n1) Task Description: This component provides the overview of the task, directing the LLM to generate a sequence of daily activities based on the provided social-demographic information of agents.\n2) High-Level Statistical Data: To augment the LLM's contextual understanding and improve its generation accuracy, we incorporate high-level statistical data that is readily accessible from public sources. This includes demographic profiles from national censuses or governmental databases, transport usage statistics from public transit authorities, and economic indicators such as median household income from financial institutions. These statistics provide a brief overview of general mobility patterns and activity preferences, facilitating informed generations by the LLMs about activity types and timings. Such easily accessible data offers a macroscopic view of societal behaviors and trends and helps LLMs generate realistic and contextually appropriate activity chains.\n3) Guidelines for Generation: To ensure the generated activity chains are realistic and diverse, guidelines outline the expected structure and realism of the outputs. These include maintaining logical sequences of activities and appropriate time allocations, which aid the model in generating feasible daily schedules.\n4) Few-Shot Examples: A set of example activity chains is also provided to illustrate the desired format and to familiarize the LLMs with characteristics such as the length of activities, frequency of different activity types, and the logical sequence of activities within a day. These examples serve as practical templates that guide LLMs in accurately constructing activity chains by showcasing typical patterns and transitions.\nFigure 2 provides an example of the system prompt. These components collectively ensure that the LLM has a clear understanding of the task requirements and the contextual background needed to generate accurate and representative activity chains."}, {"title": "C. Activity Chain", "content": "The output of our framework consists of activity chains for each agent, detailing the activity type, start time, and end time. Leveraging the capabilities of LLMs, this approach transcends traditional data-intensive modeling techniques, offering a flexible and scalable method to generate daily human activities with minimal input requirements."}, {"title": "V. DATASET", "content": ""}, {"title": "A. National Household Travel Survey Dataset", "content": "The 2017 National Household Travel Survey (NHTS) dataset [28], serves as the reference dataset for our study. This dataset provides an extensive snapshot of travel behaviors throughout different states in the United States, encompassing a wide array of social-demographic information such as sex, gender, and employment status of individual agents, etc. Additionally, it details their daily activities, categorizing each by type, start time, and end time, which are critical for our analysis. As illustrated in Table I, we aggregate the activities into 15 types considering the location of the activities, each depicting a unique facet of daily life."}, {"title": "VI. EXPERIMENT AND RESULTS", "content": "We evaluated our approach using the NHTS dataset in the California area by randomly sampling 500 agents and generating their daily activity chains based on their social-demographic data. These chains were then validated against the comprehensive daily activity records from the NHTS dataset and the SCAG dataset. In our experiments, we utilized two large language models: OpenAI's GPT-4 and Meta's Llama2-70b with the temperature setting of 1.2 and 1.0 respectively, comparing their performance in accurately simulating daily human activities."}, {"title": "A. Activity Type", "content": "The distribution of activity type shown in Figure 3d demonstrates GPT-4's close alignment with both NHTS and SCAG datasets, particularly in frequent categories like home and work-related activities. The JSD scores concrete this observation, where GPT-4 achieves exceptionally low scores (0.016 with NHTS and 0.051 with SCAG), indicating a high"}, {"title": "B. Start and End Times", "content": "The start and end time distributions from our approach, illustrated in Figure 3a, align closely with those from the reference datasets, displaying a common trend where activities intensify during daytime hours. Both models capture peaks at the start and close of typical workday hours, reflecting common active times. Specifically, both GPT-4 and Llama2-70b demonstrate a capability to replicate these peaks, although Llama2-70b shows a marginally better precision in this aspect, as indicated by its lower JSD scores (0.011 for"}, {"title": "C. Activity Duration", "content": "The distribution of activity durations, shown in Figure 3b, illustrates differences between the datasets and the model outputs. The NHTS dataset exhibits a high frequency of short-duration activities, which may indicate a bias toward capturing brief, incidental activities. Conversely, the SCAG dataset displays a greater prevalence of medium-length activities, such as work or school sessions and home activities that typically occur at the beginning and end of the day, suggesting a focus on more structured daily routines.\nThe model outputs, particularly those from GPT-4, align more closely with the SCAG dataset, reflecting a strong capability in capturing the broader, more sustained activities that dominate daily life. GPT-4's performance, with JSD scores of 0.016 with NHTS and a JSD score of 0.014 with SCAG, demonstrates its adeptness at modeling activity durations with high accuracy. This alignment, especially without being explicitly informed of the distribution characteristics of SCAG's activity durations, underscores the robust inferential and reasoning capabilities of our framework.\nLlama-2-70b, while effective, shows a broader spread in the duration plots with a JSD of 0.028 with NHTS and 0.020 with SCAG, indicating a slightly less precise capture of the typical duration profiles, particularly the peak durations."}, {"title": "D. Activity Chain Length", "content": "Figure 3c shows the distribution of activity chain lengths across the models and datasets. The similarity between the NHTS and SCAG datasets in terms of chain length distribution is notable, with both exhibiting a prevalence of shorter activity chains, primarily ranging from 3 to 6 activities per chain. GPT-4 closely matches this pattern, demonstrating its capability to generate realistic activity sequences within this range, as evidenced by its JSD scores of 0.057 with NHTS and a particularly low 0.040 with SCAG.\nHowever, both GPT-4 and Llama-2-70b, show limitations in generating longer activity sequences, with Llama-2-70b displaying higher JSD scores (0.116 with NHTS and 0.095 with SCAG). This suggests challenges in accurately modeling more complex daily routines that include longer chains of activities. The limited ability of LLMs to extend beyond medium-length chains can be partly attributed to the lack of detailed distributional information in the training data for specific geographic areas, highlighting a potential area for further research and model training enhancement."}, {"title": "E. Activity pattern in different social group", "content": "As shown in Figure 4, our analysis of activity start and end times for specific social groups, namely students and workers, revealed distinct patterns effectively captured by the LLMs, albeit with some variations across models and datasets. For students, the activity patterns showed that GPT-4 closely matched the NHTS dataset, whereas Llama-2-70b aligned more with the SCAG dataset. This suggests that the models can successfully identify and replicate the characteristic activity patterns of students. Additionally, the differences observed between GPT-4 and Llama-2-70b in capturing these patterns may also stem from variations in their training datasets or methodologies, further emphasizing the need to consider the training background of each model when assessing their outputs.\nFor the worker group, both the NHTS and SCAG datasets displayed similar activity patterns, characterizing the typical workday with peaks around the start and end times, reflective of morning and evening commutes. Both GPT-4 and Llama-2-70b adeptly mirrored these trends, though they tended to underrepresent activities during the mid-day period. This could suggest a model sensitivity to the less pronounced activity patterns typically occurring during working hours."}, {"title": "F. Activity pattern in different location", "content": "As shown in Figure 5, we also compare the activity start and end times across different activities in different location scopes (California and nationwide). We observed distinct patterns for routine and non-routine activities based on data from our approaches focusing on the California area, the SCAG dataset from California, and the NHTS dataset from the National wide scope. For routine activities such as 'Home' and 'Work', our models displayed a strong alignment with both the California-specific SCAG and the national NHTS datasets, indicating little variation between regional and national patterns for these activities. This consistency suggests that our LLM-based approach can effectively capture and replicate routine activity trends across different datasets.\nIn contrast, for non-routine activities like 'Eat out', our approach's outputs more closely followed the SCAG dataset, reflecting California-specific dining habits and times, which differ from national averages as captured in the NHTS dataset. The capability of our approach to align closely with region-specific data for non-routine activities suggests it can be a valuable tool for modeling human mobility patterns that are sensitive to local context, further affirming its applicability across diverse geographical areas."}, {"title": "VII. LIMITATIONS", "content": "While demonstrating robust modeling capabilities, the results acknowledge several limitations that could influence the outcomes and interpretations of the results. The reference datasets, namely NHTS and SCAG, utilized for validating our model's performance may contain inherent biases due to their acquired methodologies. These biases can affect the reliability of these datasets as benchmarks, as they might not accurately represent the full spectrum of mobility patterns across different populations or regions.\nOur models' ability to generate realistic activity chain lengths could be enhanced by incorporating more detailed and granular data. Currently, the lack of depth in the available data restricts our models' capacity to simulate more complex activity patterns, particularly for longer activity chains that require a nuanced understanding of daily human behaviors."}, {"title": "VIII. CONCLUSION AND FUTURE WORK", "content": "This study introduced a novel approach that efficiently employs LLMs to generate human mobility patterns using minimal social-demographic data. Our approach, utilizing GPT-4 and Llama2-70b alongside the NHTS and SCAG datasets, has proven capable of accurately simulating daily activities. GPT-4 has shown exceptional proficiency in matching activity types and durations, while Llama2-70b has excelled in the precision of timing generations. The low JSD value across both models underscores their robust ability to capture complex activity patterns with significantly less data dependency than traditional models.\nThese achievements have substantial implications for urban planning and smart city applications, illustrating the potential of LLMs to refine transportation modeling. The adaptability of our framework to different geographic and demographic settings, without extensive retraining, presents a promising avenue for broader implementation in policymaking and urban development.\nDespite notable achievements, our models exhibited limitations in accurately generating the distribution of activity chain lengths and potential biases within the training datasets. Future efforts will focus on enhancing the models' ability to simulate extended and multiday activity chains by integrating more granular data that capture a comprehensive range of daily human activities. This enhancement will involve employing richer datasets and developing more sophisticated fine-tuning techniques, such as training mixture-of-experts (MOE) models specifically for transportation or human mobility. Additionally, we will refine our evaluation methods to better recognize and adjust for biases in ground truth datasets. This may include employing advanced statistical methods or utilizing alternative, more nuanced data sources for human mobility to ensure a more accurate and robust analysis.\nOur goal is to extend the current day-to-day generations to multi-day activity chain forecasts, thereby capturing the cyclical nature of human behaviors throughout the week. By doing so, we aim to set a new benchmark in mobility modeling accuracy, providing more detailed insights for urban planning and transportation policy-making across diverse environments."}]}