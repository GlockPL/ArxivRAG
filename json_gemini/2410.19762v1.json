{"title": "RELIABLE, ROUTABLE, AND REPRODUCIBLE: COLLECTION OF PEDESTRIAN PATHWAYS AT STATEWIDE SCALE", "authors": ["Yuxiang Zhang", "Bill Howe", "Anat Caspi"], "abstract": "While advances in mobility technology including autonomous vehicles and multi-modal navigation systems can improve mobility equity for people with disabilities, these technologies depend crucially on accurate, standardized, and complete pedestrian path networks. Ad hoc collection efforts lead to a data record that is sparse, unreliable, and non-interoperable.\nThis paper presents a sociotechnical methodology to collect, manage, serve, and maintain pedestrian path data at a statewide scale. Combining the automation afforded by computer-vision approaches applied to aerial imagery and existing road network data with the quality control afforded by interactive tools, we aim to produce routable pedestrian pathways for the entire State of Washington within approximately two years. We extract paths, crossings, and curb ramps at scale from aerial imagery, integrating multi-input segmentation methods with road topology data to ensure connected, routable networks. We then organize the predictions into project regions selected for their value to the public interest, where each project region is divided into intersection-scale tasks. These tasks are assigned and tracked through an interactive tool that manages concurrency, progress, feedback, and data management.\nWe demonstrate that our automated systems outperform state-of-the-art methods in producing routable pathway networks, which then significantly reduces the time required for human vetting. Our results demonstrate the feasibility of yielding accurate, robust pedestrian pathway networks at the scale of an entire state.\nThis paper intends to inform procedures for national-scale ADA compliance by providing pedestrian equity, safety, and accessibility, and improving urban environments for all users.", "sections": [{"title": "INTRODUCTION", "content": "The importance of comprehensive and accurate pedestrian and bicycle data is increasingly evident within the transportation planning and technology sectors. As cities and communities strive to enhance mobility, accessibility, safety, and sustainability, the need for standardized, reliable, national-scale data pedestrian and bike data has emerged as a critical priority.\nPedestrian networks serve as vital links that connect pedestrians to various modes of transportation, ensuring seamless mobility. However, the current state of pedestrian path information is often sparse and unreliable due to ad hoc, site-specific data collection efforts, typically conducted without adherence to standardized protocols, and with minimal consideration for routability and quality to ensure downstream utility.\nTo address these issues, we present a sociotechnical protocol for scalable and accurate data collection that integrates automated predictions from aerial imagery with interactive expert vetting"}, {"title": "PROBLEM, BACKGROUND, AND RELATED WORK", "content": "Even after 35 years, ADA compliance in the public right of way remains remarkably limited. The ADA requires identifying and removing mobility barriers on the ground, which in turn requires comprehensive, accurate, low-cost data collection to overcome the institutional, cultural, and funding obstacles impeding compliance (1).\nThese data are exceptionally challenging to collect relative to, for example, road networks. A pedestrian map is not simply a set of lines: it must also represent connectivity, transitions, and additional attributes to afford navigation, particularly for those with disabilities. These elements vary significantly by jurisdiction, zoning, and even year built; the heterogeneity makes the process exceptionally error-prone even for experts (2, 3).\nProposed solutions involve some combination of direct inspection of the built environment, computational inference of remotely sensed data, or interactive review of existing sources. Direct inspection can provide highly detailed and accurate data with sufficient training but does not scale due to prohibitive costs. Computational inference scales broadly but struggles with unusual situations and occlusions, leading to biased outputs (4). Interactive repair combines automated and manual approaches, allowing for modest-scale data collection and quality control, but remains sensitive to the training and experience of the operators. We argue that all three approaches, organized interdependently, offer the only viable solution.\nPrior work has recognized the need for combining multiple sources of information. Wu et al. (5) used OpenStreetMap (OSM) centerlines as labeled data and extracted roads from very high-resolution (VHR) satellite images. Sun et al. (6) added crowd-sourced global positioning system (GPS) data to satellite images to extract roads with CNN-based semantic segmentation. Zhou et al. (7) fused remote sensing images and GPS for road detection and extraction. Additional recent learning-based studies include Lu et al. (8) proposing a multi-scale residual neural architecture for road detection, Pan et al. (9) proposing a fully convolutional neural network using VHR remote sensing, Mattyus et al. (10) estimated road topology from aerial images, Mi et al. (11) generated road lane graphs from LiDAR data with a hierarchical graph generation model. However, all of these methods focus on automobile road extraction and ignore pedestrian paths entirely.\nCrowdsourcing offers another approach to the scale problem. WheelMap (12) collects subjective wheelchair accessibility information about businesses and public venues and submits it to OpenStreetMap. Project Sidewalk (13) crowdsources data on accessibility issues within the pedestrian infrastructure by labeling point locations based on Google StreetView imagery. These efforts tend to lack standards for data completeness, quality, interpretation, and open availability, limiting their downstream reliability.\nRecent advancements in remote sensing have led to methods to automate pedestrian path data collection. Ahmetovic et al. (14) detect zebra crossings using satellite imagery validated with street-level images. Ghilardi et al. (15) classified and located crosswalks using an SVM classifier over data extracted from road maps, and Ning et al. (16) extracted sidewalks from aerial images with a neural network, restoring occluded segments from street view images. While these studies have improved pedestrian environment mapping, they do not generate a comprehensive, connected, and routable pedestrian pathway network graph necessary for city planning and navigation. Tile2Net (17) infers sidewalk, crosswalk, and footpath centerlines at scale from satellite imagery, but ignores connectivity entirely. Li et al. (18) developed a semi-automated method to generate sidewalk networks using parcel-level data and roadway centerlines, but accuracy was very limited without human editing; we incorporate a similar approach into the Prophet system to extract hypothesized sidewalks that are improved using computer vision approaches, followed by a principled manual vetting process.\nOther studies rely on collecting and review of on-the-ground data. PathVu (19) collects sidewalk path information but does not maintain path connectivity, limiting utility for routing applications. Zhang et al. (20) automated the collection of street-view images with auxiliary data to map sidewalk connectivity and infrastructure, and Hou et al. (21) extracted sidewalk paths using LiDAR data and point cloud segmentation. These methods all involve the deployment of (sometimes proprietary) physical sensing platforms, limiting their scalability.\nTo truly advance accessibility and ensure compliance at scale, we must also tackle institutional, organizational, and cultural barriers that hinder progress (1, 22). Together, Prophet and Skeptic not only produce high-quality predictions of pedestrian pathways and organize expert attention to vet these predictions, but also afford community engagement for ground validation by those most affected by the data. This work explores the multifaceted sociotechnical approaches needed to keep stakeholders engaged, meeting them where they are, as the overall systems become"}, {"title": "PROPHET: NETWORK-CENTERED INFERENCE OF PEDESTRIAN PATHWAY NETWORKS", "content": "In this section, we introduce our fully automated method for pedestrian path network graph inference called Prophet. As shown in Figure 1, the process consists of three main steps. First, we developed a module called Pedestrianfer to create a hypothesized graph with existing street network data. Second, we use a multi-input segmentation network to generate pixel-wise prediction masks for the important classes in the pedestrian environment. Lastly, we use the information from the segmentation network to optimize the hypothesized graph into an accurate connected pedestrian path network graph.", "subsections": [{"title": "Pedestrianfer", "content": "To infer a hypothesized pedestrian path network from incomplete information, we developed Pedestrianfer (Figure 2) which (1) infers an (optimistic) sidewalk network from existing street networks, (2) infers street crossing locations from a street network and a sidewalk network, and (3) infers curb transitions between crossings and sidewalks. Pedestrainfer is similar to previous work (18) but with the following key differences: (1) the only required input is a street network (2) full intersection-to-intersection sidewalk paths are estimated rather than assuming 50-meter segments, and (3) street crossing pathways are generated via a cost function that does not require manual intervention. Additionally, Pedestrianfer generates pathways according to the OpenSide-"}, {"title": "Segmentation Network", "content": "In order to verify, correct, and refine the Pedestrianfer hypothesized path network graph, we use inference from a segmentation network. The segmentation network is trained on the Pathway-"}, {"title": "Optimization for Full Pedestrian Path Networks", "content": "Pedestrianfer generates a hypothesized pathway graph that outlines the potential location and connectivity of sidewalks and crossings. To obtain a more accurate pedestrian pathway graph, we use information from the segmentation network to refine the hypothesized pathway graph. Our strategy is to first find the optimized geolocation of the nodes in the graph, then connect the nodes with edges to complete the graph.\nAt each intersection, there are nodes representing sidewalks endpoints and curbs in the hypothesized graph generated by Pedestrianfer. Ideally, in a correct pedestrian path network, these nodes would all appear in a connected region segmented as the corner bulb class (an example is given in Figure 3 (c) and Figure 3 (d)). To infer the correct geolocation of these nodes, we aim to find a parameterized affine transformation to warp each set of hypothesized nodes in a corner, represented by their pixel coordinates, to a new set of coordinates, so they better align with the corner bulb class in the predicted segmentation mask. We start by connecting the nodes at each corner (shown in Figure 3a) to form a closed polygon (shown in Figure 3b), then we find a parameterized affine transformation so that the sum of the probability of each pixel under each closed polygon being labeled as the corner bulb class is the greatest. Mathematically, this optimization process can be defined as follows. For a total of n points in a given image I and each street corner area represented as a polygon [(x1,y1), (x2,y2), ... (xn, yn)], the affine transformation that warps them to a set of new points [(x'1, y'1), (x'2, y'2), ...(x'n, y'n)] can be described as:\n$\\begin{bmatrix} x'_1 \\\\ y'_1 \\\\ ...\\\\ x'_n \\\\ y'_n\\end{bmatrix} = \\begin{bmatrix} a & b\\\\ c & d\\end{bmatrix} \\begin{bmatrix} x_1\\\\ y_1\\\\ ...\\\\ x_n\\\\ y_n \\end{bmatrix} + \\begin{bmatrix} t_1\\\\ t_2\\end{bmatrix} = AX + t$        (1)\nThat is, X is a set of points representing the coordinates of the nodes in a hypothesized graph at a given street corner. The new set of coordinates [(x'1, y'1), (x'2, y'2),...(x'n, y'n)], and the transformation parameters A and t are to be found using the information obtained from the segmentation network.\nLet m be the number of pixels that fall into the polygon enclosed by the n corner points X, and let pi be the probability (as predicted by the segmentation network) that the ith pixel is predicted as the corner bulb class. Then we define the function f that finds these pixels and their probability as:\nf : X \u2192 [p1, p2,\u2026pm]                                  (2)\n,and define a function g that sums [p1,p2,\u2026\u2026pm] as:\ng(f(AX+t)) = g([p1, p2,\u2026pm]) = \\sum_{i=1}^m p_i                                  (3)\nThe goal is to maximize g so that the pixels under the new polygons have the greatest sum of probability (shown in Figure 3c). Thus, the optimization problem can be expressed as:\n$\\min_{A,t} - g (f (AX +t))$                                (4)\nsubject to \u2200i\u2208 [1,n]  0 < x'i < Iwidth, 0 < y'i < Iheight\nThere is no closed-form solution to Equation 4, and the gradient of f cannot be explicitly found. Hence we use the simultaneous perturbation stochastic approximation (SPSA) (25) method to find the optimal parameters A and t of the objective function g.\nAfter optimizing sidewalk and curb node geolocation, we connect them with the information from the hypothesized graph to generate new sidewalks and crossing edges. The optimization process is shown in Figure 3.\nThe optimized graph is used with probability masks of each class from the segmentation network to further improve the predicted path network map accuracy. For a set of hypothesized nodes at a given corner, if the closed polygon they form does not overlap with enough high-probability pixels representing the corner bulb class, we consider these nodes to be falsely hypothesized. Mathematically, we define \u03bcp as:\n\u03bcp = g(p)/m                                  (5)\nIf \u03bcp is less than a set threshold, these nodes are considered to be falsely hypothesized and therefore directly removed from the graph without optimizing with equation 4. The threshold is chosen to balance the edges' precision and recall in this post-processing step. Higher thresholds lead to higher precision.\nFor downstream applications (e.g. wayfinding) that use the predicted graph, confidence values are added to edges to inform the optimization for high-confidence routes, i.e., the application may choose to avoid low-confidence edges and instead optimize for higher-confidence paths. For each edge created by connecting two nodes in the graph, we assign a confidence value as an attribute of the edge as follows: each LineString representing the crossing class is converted into a polygon by adding a buffer to each side of the LineString, then we compute the mean probability of the pixels in the polygon in the crossing class, similar to Equation 5. The mean probability is used as the confidence value and stored as an attribute of the edge in the graph. Similarly, the confidence values of the sidewalk edges are computed and stored as an attribute of the sidewalk edges. The confidence value improves the graph for various transportation network analyses, sidewalk network scoring, personalized routing (26), and other downstream applications."}]}, {"title": "SKEPTIC: COLLABORATIVE EDITS, VALIDATION, AND VERIFICATION", "content": "The Skeptic protocol provides a set of instructions and collaborative tooling to engage stakeholders in expert review and validation of the predicted pedestrian pathway graph. While there is a potential role of capacity-building tools \u2014 both technical and socio-cultural tools \u2014 in helping practitioners operationalize and be responsive to accessibility mandates, there is a cautionary tale learned from other domains such as structural engineering and medicine, where tools created without involving practitioners in their design or implementation have been ignored or misused (27). Our protocol is informed by several years of practical experience with crowd mappers, transportation planners, and pathway review teams, reified by an interview study conducted in 2022.\nWe performed sixteen semi-structured interviews with nineteen professionals working at thirteen municipal-, county-, and state-level governments in Maryland, Oregon, and Washington States. Only jurisdictions with existing ADA transition plans were invited to participate. By interviewing agencies who have already engaged to some degree with the needs for accessibility within their pedestrian environments, we hoped to identify participants who understand the challenges of this space and may have developed strategies to address these challenges (28). Interview subjects were identified by requesting access to expertise in the following areas:\n\u2022\n\u2022 Agency goals for improving accessibility, including parts of the planning process\n\u2022 Technical tools and data sources used to make accessibility decisions\n\u2022 Insight into improving the decision-making process regarding accessibility\n\u2022 Roles of those involved in decisions about the implementation of accessibility improvements\n\u2022 Community's role in decision making\nWe learned that: (1) Experts contribute map data in their agencies only sporadically, and"}, {"title": "Provisioning Editing Tasks", "content": "We identify priority areas for manual validation according to two criteria: diversity (across socioeconomic conditions, zoning, land use, and building standards) and the availability of interested local community participants who volunteer as project stewards. In our initial pilot, we partnered with the King County Health Through Housing (HTH) initiative, which converts hotels and apartments into low-income housing to combat chronic housing insecurity. HTH was interested in an analysis of access to health services, grocery stores, and schools from HTH sites. In ongoing work, we identify 14 HTH sites and define project regions as a 0.75-mile radius around each site. In our evaluation, we select 3 of these sites for socioeconomic diversity in the region and the availability of previously expert-mapped data with which to compare.\nEach project region is then partitioned into intersection-scale task regions. A single intersection as the quantum of editing effort allows mappers to complete the work in a few seconds to a few minutes which helps maintain motivation. Moreover, this unit helps us manage concurrency within the editing tool \u2014 each user locks a task region during their work to prevent concurrent updates. Finally, these regions ensure principled redundancy \u2014 we can assign the same task to multiple editors to validate inter-mapper agreement. Redundancy also contributes to greater team collaboration and reduced isolation (and therefore fatigue) on the part of contributors."}, {"title": "Interactive, Collaborative Expert Vetting", "content": "We then load the partitioned data into a system to manage interactive concurrent updates. The tasking management software is an open source tool for the Humanitarian OpenStreetMap Team (HOT) (29) for the coordination of volunteers and organizations to map on OSM. We have created a fork of this open-source project and modified it to align with the findings of our interview study. The HOT tool is publicly available and is backed by a private deployment of the OSM database schema to ensure interoperability with OSM editing tools. This platform-oriented approach facilitates the distribution of tasks across stakeholders. It also provides our team visibility over progress and quality of the mappers' work.\nIn the pilot study, we recruited two teams and trained them. The UW team consisted of five undergraduate interns who completed a two-hour training on the motivation of the project and the use of the editing tools. The ORISSA team, an industry-based team focused on data annotation, was asked to pilot the tool as a comparison with the UW team. As part of the training, we assigned each team member a project area and 150 intersection-scale tasks within the assigned project, then gave them one week to complete the tasks. We then reviewed their results, provided feedback, and applied corrections. Each participant was then asked to complete the remainder of the assigned project area within a two-week period.\nWhile editing, mappers were presented with instructions designed to maximize quality informed by our interview study. The project-agnostic instructions were to 1) edit crossings prior to sidewalks to facilitate connectivity, 2) insert a midpoint in each crossing to represent connectivity with the road, 3) attend to transitions between crossings and sidewalks (e.g., curb ramps), 4) determine whether curb nodes are raised or lowered, and 5) report whether the imagery used to validate the networks is of usable quality. The system also supports project-specific instructions to improve quality; we intend this protocol to be adapted broadly.\nAfter reviewing instructions, each mapper locks a particular task. If another mapper has already locked that task, the system rejects the lock request and provides an appropriate error message. If a contributor already has another lock on a different task, they must relinquish that lock before acquiring another. In this way, we prevent the need to resolve edit conflicts. Since the task regions are small, lock contention is rare, and the process is largely invisible to mappers.\nAfter editing a task, the mapper comments on the task to provide metadata summarizing (1) the completion status of the task, (2) whether the imagery was of sufficient quality for them to assess the map confidently, and (3) whether they wish to move on to the next task. The lock is relinquished and the edited results are saved to the private OSM database."}, {"title": "Community Validation \"Deep Dives\"", "content": "As the mappers complete their work, community volunteers are deployed to perform an extra level of validation, and to enrich the data with locally important information that can only be recorded through direct inspection of the built environment. For example, the presence or absence of accessible pedestrian signaling (e.g., audible walk signals) is especially important for HTH residents with vision impairments. Although coverage of these features is limited by the scalability issues of direct inspection, the locally enriched data affords locally accessible routing, commensurate analysis of neighborhood-level access to resources and services, and, crucially, a source of training data for future models to automate tagging.\nIn our pilot, we have recruited teams of HTH residents to conduct mapping efforts around 3 of 14 project areas. Using a custom application called GoInfoGame (GiG), they complete \"quests\" to answer questions (i.e., provide tags) in specific task regions. In contrast to the HOT tool and associated editors, GiG is designed to be dramatically simpler to use \u2014 it does not support geometry editing, it centers a single tag at a time, and can be used from a mobile device."}, {"title": "EXPERIMENTS", "content": "In this section, we first present additional implementation details of Prophet. We then present both qualitative and quantitative evaluation results. Since Prophet relies on semantic segmentation as an intermediate step (as is common among state of the art tools (17)), we first provide evaluation on the segmentation models, then provide evaluation of the inferred pedestrian pathway graphs."}, {"title": "Training the Segmentation Network", "content": "Three segmentation networks were trained with different setups: aerial satellite image branch only, street map image tile branch only, and both aerial and street map image tile branches. All three models use the same dataset split and data augmentation techniques. We train and validate with an 80%/20% split of the imagery and annotation samples in the PathwayBench dataset (24). To improve the robustness of the segmentation network, data augmentations were applied to the training data during the training stage. First, random rotating, cropping, and resizing were applied. In addition, we applied Gaussian kernels with random sizes in training to increase the model's robustness when generating inferences with low-resolution images. The model using both inputs significantly outpeform either source alone; all performance results are shown in Figure 4 and Table 1."}, {"title": "Qualitative Analysis", "content": "Figure 4 visualizes the segmentation results on the validation set. The segmentation for sidewalk, crossing, and corner bulb align well with the ground-truth segmentation. These qualitative examples also show the difficulty in predicting pedestrian path network classes with single-source input and the improvement gained from adding other input sources. The prediction made with the street-map-only model produced many false-positive sidewalk predictions (first row). Including"}, {"title": "Quantitative Segmentation Analysis", "content": "Table 1 shows the quantitative experiment results for the models trained with three different neural architectures corresponding to the use of different sources: (1) the aerial satellite image branch only, ignoring the street map imagery, (2) the street map image tile branch only, ignoring the aerial imagery, and (3) both the aerial satellite images and street map images with a siamese-like network structure. The metrics we included are (1) overall mIoU (mean intersection over union of the predicted and ground truth regions), (2) the mIoU for each of the four classes (background, sidewalk, corner bulb, and, crossing) in the dataset, and (3) pixel accuracy.\nThe segmentation backbones we tested include (1) VGG-16 (30) (2) DeepLabv3 (ResNet-50) (31), and (3) ViT-Base (32); our contribution is compatible with any neural vision model. We observe that the model trained with both aerial and street map imagery outperforms single-source models on every class."}, {"title": "Quantitative Evaluation of the Inferred Pathway Graphs", "content": "Pixel-wise measures do not reflect the routability of the predicted graph. mIoU (or other pixel-wise measures) cannot measure how close a predicted graph is to the ground truth graph. To measure routability, we use graph-level metrics proposed in previous work (24). Three categories of metrics are considered (1) local, polygon-level routability metrics including average number of connected components (avg CC), the average betweenness centrality (avg BC), and TraversabilitySimilarity, (2) count-based metrics (node count, edge count, and avg degree for the entire test area), and (3) the F1 scored based on the network segment edge-retrieval method described in previous work (17).\nTraversabilitySimilarity is specialize metric designed to provide a local estimate of global routability and enable comparisons across predicted networks from different sources (24). We first identify center points of intersections using OSM data. We then construct a Voronoi diagram to partition the space into polygons. For each polygon, we record the pairs of polygon boundaries for which a given path network affords traversal: a pair of boundaries is traversable if the underlying graph provides a connected path between them. If the ground truth network (in our case, the graph"}, {"title": "CONCLUSIONS AND FUTURE WORK", "content": "In this work, we introduce a sociotechnical protocol combining automated inference with manual review and community engagement to achieve routable, reliable, and reproducible pedestrian pathway graphs. We piloted this protocol in WA State, demonstrating that Prophet outperforms imagery-only state-of-the-art methods, but that manual review with Skeptic offers further improvements. We described a community engagement protocol to further enrich and validate the data for the needs of those most affected by quality issues.\nIn ongoing work, we are implementing feedback loops into the process to allow vetted data to be used to continuously train and improve the model and design redundant review to verify inter-mapper consistency."}]}