{"title": "MACHINE LEARNING ASSISTED POSTURAL MOVEMENT\nRECOGNITION USING PHOTOPLETHYSMOGRAPHY(PPG)", "authors": ["Robbie Maccay", "Roshan Weerasekera"], "abstract": "With the growing percentage of elderly people and care home admissions, there is an urgent need\nfor the development of fall detection and fall prevention technologies. This work presents, for the\nfirst time, the use of machine learning techniques to recognize postural movements exclusively from\nPhotoplethysmography (PPG) data. To achieve this goal, a device was developed for reading the\nPPG signal, segmenting the PPG signals into individual pulses, extracting pulse morphology and\nhomeostatic characteristic features, and evaluating different ML algorithms. Investigations into\ndifferent postural movements (stationary, sitting to standing, and lying to standing) were performed\nby 11 participants. The results of these investigations provided insight into the differences in\nhomeostasis after the movements in the PPG signal. Various machine learning approaches were used\nfor classification, and the Artificial Neural Network (ANN) was found to be the best classifier, with a\ntesting accuracy of 85.2% and an F1 score of 78% from experimental results.", "sections": [{"title": "1 Introduction", "content": "People are living longer, and the aging population of the UK is ever increasing. The UK currently has a population\nof 5.5 million people aged over 75, which is set to increase to 7.1 million by 2035 [1]. Of the 3.2 million of the 5.5\nmillion people over the age of 80, half will have at least one fall a year [2]. These falls are caused due to many factors,\nincluding muscle weakness, poor balance or visual impairment [3]. With an elderly person falling every ten seconds in\nthe UK, the prevalence of life altering injuries, such as head injuries and hip fractures, is high and can prove to be fatal\n[4]. These injuries can lead to individuals requiring hospitalisation and surgery. They result in a loss of confidence and\nanxiety of falls in the future, leading to them restricting their activities in their daily lives [4] and can result in requiring\ncare home admission. This combination of physical and psychological impacts to the geriatric populations has led to\nfalls being the ninth leading cause of disability-adjusted life years (DALYs) in England in 2013, putting a large strain\non the National Health Service (NHS), costing \u00a3435 million annually in England alone for falls in the house [3].\nFall detection and fall prevention are two crucial strategies to reduce the prevalence of falls and allow the growing\nolder population to maintain their independence. Fall detection is defined as the detection of a fall using sensors and\ncameras to summon help [4]. Fall prevention refers to systems to stop falls by observing the person's movement [4] and\nactions to reduce the likelihood of falls. Fall preventative activities are carried out across many health disciplines and\nhave been shown to have a large impact on the frequencies of falls experienced by the individuals utilising them [5].\nThese methods including exercise, fall risk assessments, assistive equipment and technological based interventions\n[5]. Exercise improves muscular strength and balance, and the fall risk assessments allow for clinical staff to assess\nmobility issues and physiological factors that may incur falls. Assistive equipment, such as grab rails and hoists, provide\nfunctional support to older adults, and aim to help with mobility around the house. Technological fall interventions are\nmethods of identifying falls and addressing fall risks. These can be divided into pre and post fall interventions and"}, {"title": "2 Background and Related Work", "content": "This section provides a comprehensive overview of PPG signals, highlighting their characteristics and applications in\nmonitoring human activities and other related uses.\n2.1 Photoplethysmography\nPhotoplethysmography is an optical method for measuring pulsatile\nblood volume in the microvascular bed of tissue [9]. The method\ninvolves the use of a light emitting source, such as an LED, to radiate\nlight onto tissue, such as the skin. A photodetector measures the\nlight that has been reflected from or transmitted through the tissue.\nThe blood volume changes are induced by the pressure pulse of\neach cardiac cycle [14], effecting the received light intensity at the\nphotodetector [15]. The waveform can be split into two sections. These\nare the AC component, which represents the pulsatile component of\nthe blood, and the DC component, which relates to the average blood\nvolume of the tissue [9]. The DC component changes slowly due to\nfactors such as respiration and blood vessel vasoconstrictor waves.\nEach PPG pulse begins with a sharp increase in blood being pumped\ninto the tissue. Chen et al [16] proposed a time domain analysis\nmethod for determining the pulse onset, utilising a moving average\nfilter to create a baseline. The onset was determined by filtering out PPG values above the baseline, removing the\ndetection of false peaks. The Points-Of-Interest (POI) that can be found from the AC component include the systolic\npeak, dicrotic notch and the diastolic peak. The systolic peak marks the largest amount of blood found in the tissue.\nThe amplitude of the pulse then decreases into a local minimum, called the dicrotic notch, indicating the closure of the\naortic valves [17]. The signal found between the onset of the pulse and the dicrotic notch is referred to as the systolic\nphase and the signal after the notch till the end of the wave and onset of the consecutive pulse is called the diastolic\nphase. An additional peak can be found after the dicrotic notch, called the diastolic peak. The shape of the waveform\ncan differ greatly between individuals, due to factors such as age and exercise [18].\nThe wavelengths of the light of the LEDs are selected depend-\ning on the purpose for the sensor and the placement of the\nsensor on the body. The wavelengths of the light of the LEDs\nare selected depending on the types of measurements that are\ncompleted by the device. The largest components of the up-\nper layers of tissue that affect the rates of absorption of light\nare water, haemoglobin and tissue depth [9], [15]. Water is\na major component of the skin and is highly absorbent to ul-\ntraviolet and higher frequency light signals, whereas lower\nfrequency and Infra-Red (IR) signals are in a window of the\nabsorption spectra, allowing for higher penetration of light into\nthe microvascular bed of tissue. Oxygenated and deoxygenated\nHaemoglobin have significant different absorption rates, expect\nat wavelengths close to infra-red, meaning that green LEDs are\ncommonly used for oxygen measurements [19]. To maximise light penetration and PPG received intensities, green\nand blue LEDs should be used for wrist applications, whereas lower frequency light, such as red, should be used for\nforehead applications [20]. Skin temperature also has a quantitative effect on the signal quality, as lower temperatures\nreduces perfusion rates in the vascular bed, as the body attempts to conserve body heat, constricting blood vessels\nand increasing the distance the light has to travel [15]. The PPG sensor contact pressure (CP), which is the external\npressure applied by the sensor on the surface of the skin, further impacts the PPG readings [21]. The amplitude and\nshape of the PPG waveform are impacted, with higher contact pressures increasing the accuracy of physiological\nmeasurements, such as the heart rate[18].Transmission mode detectors are commonly used for PPG sensors placed"}, {"title": "ML Assisted Postural Movement Detection using PPG", "content": "at the ear or finger. Reflection mode sensor allow for a higher level of flexibility, such that they are more suitable for\nwearable devices, and are used in ankle, chest, forearm, forehead and wrist applications [19]. Research has also been\ndone for multi-wavelength PPG sensors [15], where using combinations of IR, red and green LEDs are used in close\nproximity to each other and around 2mm from the photodiode.\nThe site of the sensor on the body is an important consideration for the mode, wavelength and sensor used and can\nlead to different morphology of the waveform. The sites that are primarily used are the ankle, chest, earlobe, forearm,\nforehead, finger and upper wrist. A large number of the consumer devices use wrist applications [18], [19], as it is\nconvenient to wear, highly portable and can be combined in smart watches. The upper wrist has been found to have\nrelatively low signal amplitude in comparison to other sites [19] and a higher susceptibility to Motion Artifacts (MA).\nAnother key placement of the PPG sensor is the ear lobe, as the lack of cartilage and thus contain a large volume of\nblood, creating a suitable site for transmission type sensors. However, their usage can become uncomfortable after\nlong monitoring periods [22]. The finger is a common location for pulse oximetry [23] as either a clip or ring. The\nforehead is suited for reflective mode sensor, as the thin skin, high density of blood vessels and skull give a powerful\noptical signal. The forearm can be used for arterial PPG measurements, but has been found to have a lower pulse\namplitude than wrist or finger sensors [22]. From the PPG waveform, pulse time domain analysis can be completed to\nextract features of the signal [9], [24]. From the POI from each of the pulses of the wave, as discussed earlier, extracted\nfeatures, such as the pulse width, systolic and diastolic amplitudes, pulse offset, and peak difference can be found.\nThe pulse width is described as the time difference between the onset of two consecutive pulses. The systolic amplitude\nis defined as the difference between the height of the systolic peak and the pulse onset, while the diastolic amplitude\nis the difference in height between the diastolic peak and the start point. The difference in magnitude between the\npulse onset and end point is defined as the pulse offset. The peak difference is the difference in systolic and diastolic\nmagnitudes.\nFurther features of the PPG waveform can be extracted from the first and second derivatives of the waveform [18], [19],\n[25]. The first derivative can be used for reliable detection of the diastolic peak, while the second derivative can be\nused for detection of the dicrotic notch [17]. The features of the second derivative can be used for diagnosis of cardiac\nabnormalities [19], such as arterial stiffness and arterial aging. Further features can be found when combining the\nPPG sensor with an ECG device, such as the Pulse-Transit-Time (PTT) and the Pulse-Wave-Velocity (PWV). PTT is\ndefined as the time between the R-peak of the ECG to the onset of the PPG wave. The PPT can also be derived from\nPPG signals from two sensor placed at different sites on the body [17]. The PWV is defined as the inverse of the time\nbetween the R-peak in the ECG to the peak in the first derivative of the PPG signal. Furthermore, frequency domain\nanalysis can be utilised for stationary processes, but should not be used for monitoring the morphology of the pulse due\nto movement [10].\nTo give confidence in the accuracy of the physiological measurements made by a PPG device, reproducibility is an\nimportant metric in the development of the sensor. For continuous monitoring, PPG waveform noise can reduce the\naccuracy and reproducibility of the measurement system. The characteristics of the noise that can affect the PPG\nanalysis are Motion Artifacts (MA), baseline wandering and hypoperfusion [9], [17].\nAs changes in the body movements occur, such as hand movements\nor walking, the volume of blood adjusts. These sudden changes in\nthe blood can create distortions in the PPG waveform, called Motion\nartifacts [17]. If the body part in which PPG is placed on moves\nduring measurements, the relative movement between the PPG LED\nand photoreceptor, as well as the movement of the skin in contact with\nthe sensor, can also cause distortions in the waveform [11]. Baseline\nwandering is noise due to changes in the baseline of the pulsatile\ncomponent and the AC amplitude of the PPG signal [17]. Respiration,\nsympathetic nervous system activities and thermoregulation are all\nfactors that can move the baseline [17], interfering with the analysis\nof the AC component of the PPG. Hypoperfusion is a reduction in\nthe changes of blood volume in the blood vessels due to factors such\nas hypothermia and vasoconstriction [17].\nFrom the features extracted from the waveform, PPG allows for the\ndetection of cardiovascular and respiratory physiological parameters.\nBlood Oxygen Saturation; Heart Rate; Pulse Rate Variability; Blood\npressure; Respiration Rate; Arterial stiffness."}, {"title": "ML Assisted Postural Movement Detection using PPG", "content": "Using these physiological parameters, doctors can diagnose a wide range of clinical conditions. Benefits of the use of\nPPG lies in the non-invasive measurements and the convenience of wearable devices for the assessment of vascular\nand autonomic function [9], [18]. One of the early uses for PPG was to determine the SPO2 for individuals under\nanaesthesia [23]. The derivatives of the PPG signal can be used to determine the cardiovascular mortality [23], allowing\nfor the identification of the individuals at risk of cardiovascular diseases. PPG devices are used as part of an overnight\ntest to help diagnose sleep disorders, including Obstructive Sleep Apnoea (OSA) [23]. By observing changes in the\nSPO2 and changes of the PPG signal with respiration are often utilised for diagnosis [18]. Other conditions include\ndetection of atrial fibrillation, monitoring the spread of infectious diseases, blood sugar monitoring for diabetics and\nneurological diagnosis and treatment [9], [18], [23].\nWhen a person stands up, changes in the blood flow in the microvascular blood vessels occurs. When a person rises,\northostatic stress occurs, where blood is forced to the lower extremities and pools in the peripheral veins [10].This\nchange in blood volume causes a drop in blood pressure and reduced cardiac output. When this occurs, baroreceptors in\nthe arteries will detect the change in blood pressure and will initiate a baroreflex response. This response will increase\nheart rate and constrict the venous system to the peripheral arterioles. This reflex restores the blood pressure back to a\nnominal value. Conditions, such as Orthostatic Hypotension (OH), defined as a BP drop of at least 20 mm Hg systolic\nand/or >10 mm Hg diastolic 3 minutes after postural change [26], can effect the magnitude of the blood pressure drop\nand the time it takes for the blood pressure to return to nominal values [27]. OH is prevalent in older adults and has a\nhigh associating with falls [26].\n2.2 Machine Learning\nMachine learning (ML) is a tool that is used widely for fall identification and prevention, where activities such as falling\nforwards, falling backwards and spinning can be differentiated from non-fall activities [4]. ML is a learning ability\nfor a system to observe trends in data. The steps required for the development of ML involves data collection, data\nprocessing, feature extraction, training the ML algorithms and performance evaluation. For PPG, the raw data gathered\nfrom the sensor is noisy and processing techniques can be used to clean the signal. Feature selection is an important\nstep that can influence the classification accuracy of the models and can reduce the processing costs in model training\n[4]. A large number of features can lead to overfitting of the model [4], reducing the effectiveness of the model in\npredicting unseen data and reducing the testing accuracy performance. Therefore, assessment of the importance of\npredictors and the removal of redundant features is an essential step. Machine learning can be categorised as non-deep\nlearning or deep learning methods [11]. Non-deep learning approaches include Random Forest (RF), decision tree,\nSupport Vector Machines (SVM) and k-Nearest Neighbour (KNN). Deep learning approaches include Deep Neural\nNetworks (DNN), Convolutional Neural Networks (CNN) and Recurrent Neural Networks (RNN).\nThis can be done Following feature extraction from PPG signals, the data is partitioned into training and testing sets,\nwith the ratio determined by system design considerations. The training data is utilised by the ML algorithm to discern\ndata patterns, such as fall activities for fall prevention recognition techniques. The testing data is used to evaluate the\nperformance of the algorithm, using accuracy, sensitivity and specificity metrics.\nML has found a wide array of applications in the analysis and interpretation of PPG signals. It facilitates the automatic\ndetection of physiological parameters including HR [28], BP [29], [30] and blood glucose [30].Goh et al described a\ndeep learning approach for the automatic detection of MA in PPG signals [31], allowing for the automatic cleaning of\nPPG signals for physiological measurements. Alkhodari et al utilised ML for the recognition of cardiovascular risk\nfactors [32]. The ML algorithms for PPG analysis in this project are as follows:\nDiscriminant Analysis (DA): Discriminant analysis is a technique used mainly in the transformation of high-\ndimensional data into a lower dimensional format[4], thereby maximising the class separability [33]. Discriminant\nanalysis is a good model for prediction of wide datasets. The most popular approach is for Linear Discriminant Analysis\n(LDA) [4], where linear boundaries between classes are found, while quadratic discriminant analysis finds non-linear\nseparations.\nNaive Bayes (NB): The Na\u00efve Bayes utilises the Bayes Theorem to construct classes based on probability [4]. The\nalgorithm determines the probability of each class in the training data and the likelihood of observing features from a\ntest dataset for a given class. The Bayes theorem combines these values to determines the probability of the different\npossible classes for the test dataset. The class of the highest probability is chosen as the predicted class. This is a\npopular method used to provide fast predictive results.\nSupport Vector Machines (SVM): Support Vector Machines (SVM) is a supervised machine learning model that\nattempts to find a hyperplane that can divide classes of data, such that there is an equal distance between classes to the"}, {"title": "ML Assisted Postural Movement Detection using PPG", "content": "hyperplane [4]. The algorithm attempts to find the optimal hyperplane to maximise the margin between data, so that\nthe hyperplane acts as a decision boundary between classes [4]. The shapes of the hyperplanes can either be linear or\nnon-linear. The linear classifier finds boundaries between linearly isolated data points[4] and the non-linear classifier\nfinds hyperplanes between more complex class boundaries. The performance of SVM depends on the magnitude of the\nseparation between classes [34]. Therefore, in cases where class boundaries overlap, the accuracy of the model reduces.\nDecision tree (DT): Decision tree (DT) models are structured as a series of decision trees [30]. Each decision tree\nconsists of nodes, representing a test, with branches sprouting from each node, representing the outcomes of the test.\nThe classifier is built based on the path that the algorithm takes through the tree. DTs are very sensitive to training data,\nwhere small changes in the training data can affect the overall tree structure [30].\nK-Nearest Neighbours (KNN): K-Nearest Neighbours (KNN) is a supervised learning algorithm that can be used for\nboth classification and regression models [4]. This algorithm assumes that points of the same class are found in close\nproximity to each other. The first step of the algorithm is to determine the distance between the training data to the new\ndata point that the algorithm is attempting to classify. The test points are then ranked based on their proximity to the\nnew data point. The first k number of neighbours closest to the new data point are found and the algorithm determines\nthe average class of these neighbours. The algorithm then assigns the most common class identifier to the new data\npoint.\nArtificial Neural Network (ANN): Artificial Neural Networks (ANN) is a ML algorithm inspired by neurology in\nthe human brain [4]. ANNs are made up of processing elements, referred to as neurons, which are connected together\nand are organised into layers [35]. Each of these connections has a weight, determining the strength of the connection.\nANN utilises an activation function to translate a set of inputs, known as the input layer, to a set of outputs, known as\nthe output layer. The activation function takes the sum of each input after multiplying them with their respective weight.\nCommon activation functions include sigmoid, Rectified Linear Unit (ReLU), and the hyperbolic tangent (tanh). ANN\ncan also have hidden layers between the input and output layers to cope with nonlinearly separable problem [35]. For\nhidden layers, the output of a ANN signal can be used as an input for a consecutive ANN.\nThe training of the ANN comes in the adjustments of the weights. For each input, a trainer is used to predict the input\nand create a cost function for each layer, finding the difference between the predicted and actual values. ANN repeats\nthe training process and adjusts the weights to reduce the difference between the predicted and actual values. The result\nis a system that can take input data and create a prediction, based on the patterns learned during training.\n2.3 Human Activity Recognition\nSmart watches, phone movement and other wearable sensors are used for recognition of various human activities,\nsuch as jogging and running [11]. Human Activity Recognition (HAR) is used in health care, skills assessments and\nsurveillance [12]. There are a number of types of sensors used for HAR, chosen depending on factors such as the\ntargeted activities, costs and form factor [11]. The most popular sensor is the tri-axial accelerometers, which can be\nfound in many smartphones and smart watches [4], [11]. Chou et al [36] proposed a bed exiting alarm system that\nutilised a singular accelerometer placed on the chest that monitored the tilt angle of the upper body. For posture related\ntasks, waist and thigh accelerometer combinations allow for the greatest accuracy [37]. Accelerometers, as well as other\ntypes of inertial sensors, can also be used in conjunction with PPG sensor for effective tracking of movement actions\n[13] and as a reference signal, utilised in the cancellation of MA in the PPG signal [24]. The advantage of using PPG\nover accelerometers is the lower power consumption [11] and the ability to computing HAR while measuring other\nphysiological parameters, such as the heart rate [11], [12]. This allows for the reduction in resources while sensing.\nML have proven to be a successful approach for HAR. For fall prevention, studies involving SVM have been the\nmost popular [4]. This is due to SVMs ability to detect distinct datasets, with the differences between the data of a\nstanding and fallen person creating a wide margin around the hyperplane. For PPG signal HAR using ML, Mehrang et\nal [34] used Randon Forest (RF) and SVM algorithms for a PPG and accelerometer combination study to detect sitting,\nhousehold activity and low and high intensity cycling. This approach resulted in 89.2% and 85.6% average recognition\naccuracies for the RF and SVM classifiers, respectively. Various deep learning approaches have been utilised for HAR\nusing PPG data. Alessandrini et al [12] utilised a RNN for the detection of resting, squatting and stepper activities\nutilising a PPG and accelerometer combination data set. Hnoohom et al [38] produced a deep learning approach with\nan F1 score of 90% for various exercise and movement activities. For standalone PPG recordings, CNN [31] and DNN\n[11] approaches for various ambulatory activities have also achieved high levels of accuracy."}, {"title": "3 Method ana Analysis", "content": "The methodology adopted in this work is illustrated in Figure 1. It encompasses three primary stages: hardware/software\ndevelopment, signal processing, and machine learning. A detailed discussion of each stage is provided in this section.\n3.1 Hardware Design\nTo monitor the PPG signal from an individual during movement, the de-\nvice depicted in Figure 5 was developed. The design emphasized simplicity,\nreliable data readings, wearability, and wireless capabilities. To ensure flex-\nibility in modifying the design and to streamline the development process, the\nelectronics are modular, and development kits were used where possible to\ndemonstrate the concept. The MAX30101 [39], an integrated pulse oximetry\nand heart-rate monitor module, was chosen as the sensor. The microcontroller\nfor this design was selected to support peripheral interfaces for sensor inter-\naction, have low power consumption for use with a small battery, and provide\nwireless connectivity. The ESP32-DevKitC V4 (ESP32) [41] was selected\nfor this purpose. It uses the ESP32-WROOM-32 MCU module to control\nthe sensor's operation and includes the I2C peripheral for interfacing with\nthe MAX30101. Both the sensor and the microcontroller is powered by a\nbattery and the entire system is stored in a 3D printed housing. Integrating\nthe sensors and the processor into a single chip could reduce the size of wearable by approximately 50%. However, the\nprimary focus of this study is to explore feasibility, so the size of the wearable was not a major consideration.\nTo gather PPG sensory data and to transmit the data to a computer, firmware for the ESP32 and a software program\non the computer were developed. The firmware involved establishing a connection to the MAX30101 and a wireless\nconnection to the computer. The software on the computer received the data from the device and securely stored it onto\nthe device. A TCP connection was chosen, as it allowed for remote connectivity to the device and reliable delivery of\nthe sensory and time data. The TCP client and TCP server were found on a computer and the device respectively.\n3.2 Software Design\nThe software for the ESP32, programmed in C, was designed for two tasks: sensory data acquisition and TCP\ncommunication. The former involved establishing the I2C connection between the MAX30101 sensor and the ESP32\nand reading PPG data from the red LED. The latter established the TCP server on the device and transmitted the PPG\ndata and the time for each recording over the connection. The Arduino Wi-Fi [42] and Wire [43] and the SparkFun\nMAX30101 [44] sensor libraries were used for this code Figure 6 illustrates the firmware on the ESP32. To activate the\nsetup of the device, the device needed to be powered and the enable button on the ESP32 had to be pressed. The Wi-Fi\nconnection to device was then established, thus allowing for the creation of the TCP server on the device. The program\nthen checked if there was an I2C connection between the pins of the MAX30101 and the ESP32. Upon confirmation of\na connection, the parameters for the MAX30101 were set. Upon completion of the setup, the loop code was initialised."}, {"title": "ML Assisted Postural Movement Detection using PPG", "content": "The establishment of the TCP client object in the loop allowed for the device to check for client connections to the\nserver. The program would then go into a nested while loop, where it continually checks that the connection has\nbeen maintained and that less than a minute of recording has taken place, otherwise closing the connection. If these\nconditions have been met, then the ESP32 will ask the MAX30101 to produce new data and will transmit the PPG\nsensory data and the time data, once they have become available. For the client to be able to differentiate the data type\nbeing transmitted, the Most Significant Bit (MSB) of the data point is set as either high for time data, or low for sensory\ndata. The sensor and time data are transmitted as a continuous stream of 32-bit integers to the client and are separated\nthrough the use of a comma.\nThe client side of the TCP connection is a Python program that runs on a computer and utilises Socket python library\n[45]. The initial step created a \"socket\u201d TCP client object and attempted to\nconnect this to the ESP32 TCP server. This will then begin a while loop that will receive data from the device until the\ntimer on the ESP32 reaches 1 minute and closes the connection. Once connected, the client will read the data received\nfrom the device and decodes the packets into individual data points. The processing involves removing the MSB of the\nreceived data, indicating the data type, and storing the remaining data. The error flagging allows for the realignment of\nerroneous received data that were fragmented during the read process. If no information is being transmitted from the\ndevice, primarily due to the recording being completed, then the computer will disconnect the client to the server and\nwill store the gathered data as a .m file."}, {"title": "3.3 Data Collection", "content": "Participants were recruited to take part in a controlled postural movement recognition experiment. Participants were\nasked to perform two activities. These movements included:\n1. Sitting stationary on a chair to move into a standing position.\n2. Lying flat on the ground to move into a standing position.\nThe initial step was for the participant to place the device onto their temple (other locations). Adjustments were made\nto the position of the device to ensure a good contact pressure between the device and the skin. An initial test recording\nwas done to make sure that an expected PPG value was being read, confirming the correct placement of the device. The\nparticipant was then asked to remain in the initial stationary position for a period of 30 seconds, maintaining a regular\nbreathing pattern and without moving or talking. At 29 seconds, an indication that the 30 second point was approaching\nwas giving and at 30 seconds, the participant was asked to stand. They remained for a period of 30 seconds in the\nstanding position.\n11 participants were recruited for the study. The device was used to record the PPG signal whilst participants moved\nfrom sitting-to-standing and lying-to-standing. This generated a total of 2460 seconds of labelled data. Of the 41\nrecordings, 24 were for sitting-to-standing transitions and the remaining were for lying-to-standing transitions. Improper\nplacement of the sensor, movement of the sensor as the participant moved into the standing position and movement\nduring the stationary phases of the recordings created errors which meant that 3 of the recordings were not used in the\ndata.\nFigure 8 illustrates the differences that can be found between the three classes. Between the postural movements changes\nto the signal due to the movement can be observed. For the sitting-to-standing and lying-to-standing movements, an\nincrease in blood volume after the movement at 30 seconds and subsequently dropped at 40 seconds. Between the\nthree movements shown in Figure 8, the standard deviations of the systolic peaks of the stationary, sitting-to-standing\nand lying-to-standing are \u00b1160.6, \u00b1429.7 and \u00b11100.7 respectively. The greater variability of the raw signal with\nmovements indicates that there is an increasing variability in the blood volume changes, with the largest changes\noccurring with lying-to-standing movements."}, {"title": "3.4 Signal Processing", "content": "For each recording of a participant's postural movements,\nthe PPG information was obtained by an algorithm devel-\noped in MATLAB. The program processed the raw data into\ndifferent formats, filtered unwanted noise and segmented\nthe signal into individual PPG pulses. Each pulse then had\nthe POI and features determined.\nTo ensure that accurate results could be collected from\nthe PPG wave, the raw signal was pre-processed before\nfeature extraction. To remove erroneous data that may be\npresent in the time and sensor data, results out with the\nexpected ranges from the data were removed. Figure 9\nshows an example of a transition from a lying position to\na standing position. To isolate the MA aspects of the wave,\nthe MATLAB 'detrend' function and a bandpass filter is\napplied to the PPG wave. The detrend function removes\nthe linear trends and DC component of the signal. For\nthe filter, a normalised start frequency 0.0075 Hz/sample\nand a stop frequency of 0.2 Hz/sample. The removal of\nthe higher frequency aspects of the PPG waveform reduce\nnoise and the likelihood of false peaks. The removal of the\nlow frequency components removes the effects of baseline\nwandering. The affect of the filter can be seen in Figure 9(c),\nwhere the PPG signal magnitudes are normalised around\nzero.\nFor the analysis of the waveform, the PPG signal was seg-\nmented into individual pulses. This was completed by identifying the pulse onsets and storing the waveforms found\nbetween these values. To identify the pulse onset, the minima of the PPG wave were identified. To improve the\nreliability and precision of the identification of the true pulse onsets, the process illustrated in Figure 10 was used. A\ncentre moving average filter was used to calculate a baseline of the PPG waveform. To remove falls onsets, the minima\nof the wave were selected if the distance between minima was larger than half the period of the signal pulses and if the\nminima could be found below the baseline. This eliminated dicrotic notches being misidentified as the onset of the\npulses.\nFor each of the pulses of the PPG signal, the POI were identified. For the filtered PPG signal, the POI found seen in\nFigure 3 were found. This included the magnitudes and times for the onset of the pulse, the end point, the systolic\npoint, the diastolic point and the dicrotic notch. These points were also identified for each of the pulses in the raw and\ndetrended PPG signals. The onset and ending points were determined using the minima located during the segmentation\nprocess. The systolic point was identified by finding the maximum peak of the pulse. Figure 11 shows the detection\nprocess for the diastolic peak.\nThe initial step was to determine the minima of the second derivative and the zero crossing points of the first derivative.\nTo determine the diastolic peak, where a minima of the second derivative had the same time value as the right most\nzero crossing point, excluding the ending of the pulse. If a match cannot be found, the location of the right most zero\ncrossing point is used. This increased the reliability of detecting the diastolic point, as the shallow gradient of the pulse\ncan peak identification errors when utilising regular peak detection."}, {"title": "3.5 Feature Selection and Extraction", "content": "To visualize the importance of the features for the removal of redundant predictors, the Chi-square test algorithm was\nutilized [38"}]}