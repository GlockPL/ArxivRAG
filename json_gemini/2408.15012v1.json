{"title": "Flexible categorization using formal concept analysis and Dempster-Shafer theory", "authors": ["Marcel Boersma", "Krishna Manoorkar", "Alessandra Palmigiano", "Mattia Panettiere", "Apostolos Tzimoulis", "Nachoem Wijnberg"], "abstract": "Categorization of business processes is an important part of auditing. Large amounts of transactional data\nin auditing can be represented as transactions between financial accounts using weighted bipartite graphs. We\nview such bipartite graphs as many-valued formal contexts, which we use to obtain explainable categorization\nof these business processes in terms of financial accounts involved in a business process by using methods\nin formal concept analysis. We use Dempster-Shafer mass functions to represent agendas showing different\ninterest in different set of financial accounts. We also model some possible deliberation scenarios between\nagents with different interrogative agendas to reach an aggregated agenda and categorization. The framework\ndeveloped in this paper provides a formal ground to obtain and study explainable categorizations from the\ndata represented as bipartite graphs according to the agendas of different agents in an organization (e.g. an\naudit firm), and interaction between these through deliberation. We use this framework to describe a machine-\nleaning meta algorithm for outlier detection and classification which can provide local and global explanations\nof its result and demonstrate it through an outlier detection algorithm.", "sections": [{"title": "1 Introduction", "content": "Financial auditing is the process of examining and providing a third-party expert opinion on the truth and\nfairness of financial information being presented by a company, and the compliance of this information with\napplicable accounting standards and relevant legislation. Auditors collect, weigh, and combine information\nin formulating their judgment about the truth/fairness of their clients' financial statements. A financial audit\nis broken up into components, corresponding to e.g. legal entities, branches, departments, as well as separate\nbusiness cycles (e.g. order-to-cash, procure-to-pay,), their related balance sheet and income statement accounts,\nand the company's assertions about these accounts (e.g. their completeness, existence, accuracy, valuation). To\ncollect evidence pertaining to each assertion, auditors choose a mixture of procedures, e.g. risk assessment, the\ntesting of effectiveness of internal controls, statistical and non-statistical sampling. Procedures may be geared\nto all aggregation levels, ranging from the entity as a whole to a specific assertion of a specific part of a financial\nstatement account. The objective of the auditor then is to aggregate all evidence obtained to issue an opinion as\nto whether the financial statements present fairly the financial position of the company. As precise guidelines for\ninformation collection, and evaluation in auditing do not exist, individual and collective professional judgment\nplays a key and pervasive role in auditing [27]."}, {"title": "Data analytic techniques in auditing", "content": "Text-analysis techniques, AI and data-analytic methods have already\nbeen very useful to speed up the controlling function of auditors by flagging low-level, individual anomalies\n[29, 44, 38, 58, 57]. However, even in the absence of low-level anomalies, it is an auditor's task to detect\nhigher-level anomalies concerning the coherence of all information at different aggregation levels: indeed, one\nand the same event or action in the life of a company is witnessed as evidence at multiple levels (e.g. at the\noverall financial statement level, at the account level, at the transactions stream level, and at the individual\nassertion level of accounts). Also, certain items of evidence pertain to multiple assertions of an account. For\nexample, confirmation of accounts receivables pertains to the \u201cExistence\" and \"Valuation\" assertions of the\naccount receivable balance."}, {"title": "Challenges", "content": "The extant research on the formal foundations of the reasoning at the core of auditing [48, 54,\n52, 53, 35] has highlighted several inadequacies of probability theory for representing uncertainty in audit\njudgments, the most prominent of which are the logical implications stemming from the complementarity of\nprobabilities, and the ensuing difficulty in drawing the key distinction between the absence of evidence in\nsupport of a statement and the presence of evidence to its contrary. This literature has advocated the use of\nDempster-Shafer theory [14, 47] to overcome this problem. However, the extant literature has not yet developed\nspecific formal models for audit on which machine learning algorithms can be designed and tested. This paper\ntries to provide a Dempster-Shafer based formal framework which can be used by machine learning algorithms\nto detect both low-level and high-level anomalies."}, {"title": "Aims and contributions", "content": "The present paper develops formal models specifically designed to analyse and rep-\nresent the higher-level processing of information of experienced auditors, and at using this formal understanding\nto develop machine learning tools to flag higher-level anomalies. Specifically, we posit that the experienced au-\nditors' evaluation of evidence is rooted in a process of category-formation, by which pieces of evidence are\nclustered together in categories which are possibly very different from the \"official\" categories with which\nthe evidence is presented in the self-reported financial statement of the given firm. These categories provide\nthe context of evaluation in which different and possibly very heterogeneous pieces of evidence are compared\nwith/against each other, and their overall coherence is evaluated. Here we use tools from Formal Concept\nAnalysis, modal logic, and Dempster-Shafer theory to create a framework for creating and analyzing such cate-\ngorizations and then show how the framework can be used to obtain interpretable machine learning algorithms\nfor outlier detection and classification allowing for easier interaction of algorithms with human experts."}, {"title": "Background theory", "content": "The formal framework presented in this paper is set within many-valued Formal Concept\nAnalysis (FCA) [59, 3], in which (vague) categories are represented as the formal concepts associated with\nbipartite weighted graphs seen as fuzzy formal contexts [59, 3], each consisting of domains A (of objects) and X\n(of features), and a weighted relation I between them. One particularly relevant example for the present paper\nconcerns clustering of nodes of a bipartite graph which represents the network of financial transactions (i.e. a\nfinancial statements network) [7].\nMathematically, bipartite graphs and formal contexts are isomorphic structures; moreover, both types of\nstructures are used to represent data [59, 50, 30, 39, 23, 45, 62, 9]. Regarding bipartite graphs as formal\ncontexts allows for access to the well-known representation of the hierarchy of formal concepts associated with\neach formal context [4], and hence provides a formally explicit categorization process. FCA provides:\n1. a hierarchical, rather than flat, categorization of objects.\n2. categories that have a double (i.e. both extensional and intensional) representation, which allows to make\nthem explainable, in the sense that each category can be effectively reconstructed in terms of its features.\n3. a more structured control of categorization based on the generation of categories from arbitrary subsets\nof objects or of features. That is, we can add or remove objects or features from the categorization in a\nstandard manner.\n4. the basis for a formal framework for addressing and supporting vagueness, epistemic uncertainty, eviden-\ntial reasoning, and incomplete information [60, 11, 10, 18]."}, {"title": "Interrogative agendas", "content": "As mentioned above, the final outcome of the auditing process is the formation of a\nqualitative opinion, by expert auditors, on the fairness and completeness of a given firm's financial accounts.\nTowards the formation of their opinion, not all features have the same weight in the eyes of the auditors: indeed,\ndifferent auditors may have different views about which parts of the financial accounts they consider more\nrelevant to the formation of their opinion. If a certain set of features has significantly more relevance to an agent\n(auditor), we can model this situation by letting this set of features to be the agenda of that agent. In many\ncases, the agenda of an agent may not be realistically approximated in such a simple way, but might consist of\ndifferent relevance or importance values assigned to the different set of features. We will use Dempster-Shafer\nmass functions to represent such agendas.\nAnother reason why features do not have the same weight or importance to an auditor is because different\ndepartments or groups of transactions may have different perceived degree of risk leading an auditor to assign\ndifferent importance to different financial accounts involved.\nSimilarly to the different epistemic attitudes entertained by experts auditors, also different procedures used\nin auditing may focus unequally on different features (financial accounts). Categorizations of business processes\nbased on different features may be useful in analyzing effectiveness of different methods for different business\nprocesses. This may also be helpful in categorization of errors obtained from such methods, a topic of significant\ninterest in auditing [22, 49]. In the proposed framework, the different epistemic attitudes of expert auditors are\nformalized by the notion of interrogative agenda [17]. This framework can also be used to provide a better\nunderstanding of source and extent of concerns, and in making decision about which additional data may be\nneeded in decision-making."}, {"title": "A formal framework", "content": "We introduce a formal framework specifically designed to systematically represent and\nreason about the different ways business processes can be categorized on the basis of different agendas of the\ndifferent agents (expert auditors), as well as the possible aggregations of these categorizations, by means of a\ndeliberation process. This logical framework is crucial for developing machine learning algorithms which are\nexplainable and support working in presence of uncertain or incomplete data in a formal way."}, {"title": "Preference-aggregation via generalized Dempster-Shafer theory", "content": "We extend the logical framework de-\nscribed above to the cases where the different interrogative agendas of the agents might induce different pri-\norities over the set of features used for categorization. Such priorities can be represented as Dempster-Shafer\nmass functions on the set of features. These mass functions also induce mass functions on different categorical\nhierarchies, and represent priorities for each categorization based on these agendas. Dempster-Shafer theory has\nbeen applied to model reasoning under uncertainty about categorization of objects and features, or for describ-\ning preferences for certain categories in a given categorization [18]. In the same work, a Dempster-Shafer mass\nfunction is defined over a given concept lattice representing evidence for a set of objects or features belonging\nto a category or preference in that category. Here, we take a different approach, and use Dempster-Shafer theory\nto describe the priority or importance of different set of features in categorization using Dempster-Shafer mass\nfunctions. That is, mass functions are used to choose which categorization is most suitable for a given task.\nWe then try to formalize deliberation between the agents with different agendas represented by mass functions\nusing aggregation rules in Dempster-Shafer theory."}, {"title": "2 Example", "content": "In this section, we informally illustrate the ideas discussed in the introduction by way of an example. Consider\nthe financial statements network represented in the Appendix, with business processes {a1,a2,...,a12} and\nfinancial accounts {x1, x2,..., x6} specified as follows:\nAs discussed above, each cell of the Table in the Appendix reports the value of the (many-valued) relation\nI : {a1, ..., a12} \u00d7 {x1, ..., X6} \u2192 [-1,1], which, for any business process a and account x, represents the share\nof a in x.\nLet j1, j2, and j3 be agents with different agendas. Specifically, agent j\u2081 is interested in the financial\naccounts X1, X2, and x5 (inventory), agent j2 in x1, x2, and x3, while agent j3 is interested in x1, and x3. The\nvarious ways of categorizing {a1, a2, ..., a6} (i.e. forming concept lattices) under these different agendas by\nusing interval scaling \u00b9 with 5 intervals of equal length between [-1,1] are shown in Figure 1. It is clear that the\ncategorizations obtained differ from each other depending on criterion used. For example, business processes\na1, a3, a5 are indistinguishable under the agenda of j2, while a2 forms a singleton category under the agenda\nof j3, and hence is distinguishable from all other business processes. The business process forming smaller\ncategories may be considered uncommon and may be of further interest in auditing tasks. However, as shown\nby the above example, this is influenced by the set of features or agenda used for categorization."}, {"title": "3 Preliminaries", "content": "Formal contexts and their concept lattices A formal context [21] is a structure P = (A, X, I) such that A and\nX are sets, and I \u2286 A \u00d7 X is a binary relation. Formal contexts can be thought of as abstract representations\nof databases, where elements of A and X represent objects and features, respectively, and the relation I records\nwhether a given object has a given feature. Every formal context as above induces maps $I^{(1)}: P(A) \\rightarrow P(X)$\nand $I^{(0)}: P(X) \\rightarrow P(A)$, respectively defined by the assignments\n$I^{(1)}[B] := \\{x \\in X | \\forall a (a \\in B \\Rightarrow aIx)\\}$ and $I^{(0)}[Y] := \\{a \\in A | \\forall x (x \\in Y \\Rightarrow aIx)\\}$.\nA formal concept of P is a pair c = ($[c], (c))$ such that $[[c] \\subseteq A, (c] \\subseteq X$, and $I^{(1)}[I[c]] = [c]$\nand $I^{(0)}[I^{(1)}[c]] = [[c]$. A subset B C A (resp. Y \u2286 X) is said to be closed, or Galois-stable, if $Cl_1(B) = I^{(0)}[I^{(1)}[B]] = B$\n(resp. $Cl_2(Y) = I^{(1)}[I^{(0)}[Y]] = Y$). The set of objects $[c]$ is the extension of the concept c, while the set of\nfeatures $(c]$ is its intension\u00b2. The set L(P) of the formal concepts of P can be partially ordered as follows: for\nany c, d e L(P),\n$c \\leq d \\quad \\text{iff} \\quad [[c] \\subseteq [[d] \\quad \\text{iff} \\quad (d] \\subseteq (c]$.\nWith this order, L(P) is a complete lattice, the concept lattice $P^+$ of P. As is well known, any complete lattice L\nis isomorphic to the concept lattice $P^+$ of some formal context P [4].\nDempster-Shafer theory Belief and plausibility functions are one proposal among others to generalise prob-\nabilities to situations in which some predicates cannot be assigned subjective probabilities. In this section, we\ncollect preliminaries on belief and plausibility functions on sets.\nBelief, plausibility and mass functions A belief function (cf. [47, Chapter 1]) on a set S is a map bel :\nP(S) \u2192 [0, 1] such that bel(S) = 1, and for every n \u2208 N,\n$\\text{bel}(A_1\\cup A_2\\cup,\u2026\u2026\u2026,\\cup A_n) \\ge \\sum_{\u00d8 \\neq I \\subseteq \\{1,...,n\\}} (-1)^{|I|+1} \\text{bel}(\\bigcap_{i \\in I}A_i)$\nA plausibility function on S is a map pl : P(S) \u2192 [0, 1] such that pl(S) = 1, and for every n \u2208 N,\n$\\text{pl}(A_1\\cup A_2\\cup,\u2026\u2026\u2026,\\cup A_n) \\le \\sum_{\u00d8 \\neq I \\subseteq \\{1,2,...,n\\}} (-1)^{|I|+1} \\text{pl}(\\bigcap_{i \\in I}A_i)$"}, {"title": "4 Interrogative agendas, coalitions, and categorization", "content": "In this section", "relation": "n$R \\subseteq X \\times C \\quad mRj \\text{ iff issue m is relevant to agent j"}, ".", "nThe relation R induces the operations \u25c7, \u25b7 : C \u2192 D defined as follows: for every agent j, let \u25c7j = >\u25b7j :=\n$R^{-1}[j"], "R^{-1}[j]": {"c": "bigcap \\{j | j \\leq c\\"}, "c": "bigsqcup \\{\\triangleright j | j \\leq c\\}.$"}