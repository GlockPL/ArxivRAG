{"title": "Automatic identification of the area covered by acorn trees in the\ndehesa (pastureland) Extremadura of Spain", "authors": ["Benjam\u00edn Ojeda-Maga\u00f1a", "Rub\u00e9n Ruelas", "Joel Quintanilla-Dom\u00ednguez", "Leopoldo G\u00f3mez-Barba", "P. Juan L\u00f3pez-Herrera", "Jos\u00e9 G. Robledo-Hern\u00e1ndez", "Ana M. Tarquis"], "abstract": "The acorn is the fruit of the oak and is an important crop in the Spanish dehesa extreme\u00f1a,\nespecially for the value it provides in the Iberian pig food to obtain the \"acorn\" certification.\nFor this reason, we want to maximise the production of Iberian pigs with the appropriate\nweight. Hence the need to know the area covered by the crowns of the acorn trees, to determine\nthe covered wooded area (CWA, from the Spanish Superficie Arbolada Cubierta SAC) and\nthereby estimate the number of Iberian pigs that can be released per hectare, as indicated by\nthe royal decree 4/2014. In this work, we propose the automatic estimation of the CWA,\nthrough aerial digital images (orthophotos) of the pastureland of Extremadura, and with this,\nto offer the possibility of determining the number of Iberian pigs to be released in a specific\nplot of land. Among the main issues for automatic detection are, first, the correct identification\nof acorn trees, secondly, correctly discriminating the shades of the acorn trees and, finally,\ndetect the arbuscles (young acorn trees not yet productive, or shrubs that are not oaks). These\ndifficulties represent a real challenge, both for the automatic segmentation process and for\nmanual segmentation. In this work, the proposed method for automatic segmentation is based\non the clustering algorithm proposed by Gustafson-Kessel (GK) but the modified version of\nBabuska (GK-B) and on the use of real orthophotos. The obtained results are promising both\nin their comparison with the real images and when compared with the images segmented by\nhand. The whole set of orthophotos used in this work correspond to an approximate area of\n142 hectares, and the results are of great interest to producers of certified \"acorn\" pork.", "sections": [{"title": "Introduction", "content": "The Spanish dehesa is a geographical area with predominance of an agroforestry system of\nland use and management, based mainly on the extensive livestock exploitation of a\ncontinuous area of grassland and Mediterranean trees, mainly occupied by hardwood species\nof the genus quercus. The action of man intervenes in the dehesas for its conservation and\npersistence and has an average tree cover by exploitation of, at least, 10 trees in production\nper hectare of the genus quercus [1].\nThe average production of oaks oscillates between 8 and 14 kg of acorns per adult tree,\nthough this is tremendously variable between zones, between years and even between trees.\nOn the other hand, In [2] they cite the daily consumption of acorns by Iberian pigs between\n7.1 and 8.4 kg, and from 2 to 6 kg of grass. That is to say, this means that an Iberian pig\npractically consumes the production of 60 oaks during the at least two months that they are in\nthe montanera. That is to say, that for pastures with 50-60 trees/hectare, the stocking density\nshould be 1 pig/hectare.\nAs of Royal Decree 4/2014 of January 10 in Spain [3], it is necessary to estimate the SAC\n(from now on we will use SAC instead of CWA), which is the percentage of soil covered by\nthe projection of all treetops of the species of querc\u00edneas according to the Geographical\nInformation System of Identification of Agricultural Plots (SIGPAC [4]), in order to calculate\nthe Major Livestock Unit (MLU) according to the denomination of animals whose products\nare going to be commercialized with the \"acorn\" label established in said Royal Decree. Thus\nit was established that the number of pigs to be released in the plots and enclosures depended\non the percentage of SAC of quercus per hectare in the plots (see Table 1). This is very\nimportant since this standard approves the quality that must have the meat (the ham), the\nshoulder and the acorn-fed Iberian pork loin.\nThe automatic analysis of digital images of crops is a very active and attractive field of\nresearch in which artificial vision and agromotics converge [5]. Identifying the crown of\nacorn trees in an orthophoto is not an easy task. First, it must be identified that the detected\ntree is an acorn and that is, by their size, productive; then the most complicated is to delineate\nthe contour of the tree crown, where it starts (the borderline between soil and tree crown),"}, {"title": "Materials and Methods", "content": "The orthophotos used in this study are from a holm oak dehesa in the town of Alconchel,\nprovince of Badajoz in Spain, near a pond that forms the Bufanda stream, and are from an\narea between the Nateras farmhouse and the Barranc\u00f3n farmhouse, located at the geograph-\nical coordinates with Latitude 38\u00b0 35'N and Longitude 7\u00b0 14'W with an altitude of around 180\nm above sea level. The zone of the images is very close to the Guadiana River that borders\nPortugal.\nThe orthophotos used in this study have been taken from the Geographic Information System\nof Agricultural Plots (SIGPAC), which main purpose is to geographically identify the parcels\nof farmers and ranchers, lands related to cultivated areas and those used by livestock. The\ndigital orthophotos of this study were provided by the National Geographic Institute,\nbelonging to the Ministry of Development, and the flight is from 2011, with pixel size 0.25m,\nin BMP (bitmap) format with the corresponding TFW file for georeferencing.\nFor this work, 38 aerial orthophotos (Im_58 to Im_95) were used in three color bands (RGB),\nfrom the area between the Nateras farmhouse and the Barranc\u00f3n farmhouse (in Spain), sizes\ndid vary by a few pixels, though at the end they were cut so that they were all homogeneous\nand had a size of 256x256 pixels. The orthophotos of this case study are consecutive images\nin horizontal form.\nIn the 38 orthophotos studied, each pixel represents 0.25m (pixel size), so each image\nrepresents 4096m\u00b2 in area corresponding to 64m x 64m. Thus, in this work we analyze 38\nimages aligned. Hence we have 64m x 2432m which represents approximately 15.56 hectares\nof the dehesa extreme\u00f1a."}, {"title": "Detection of the crown of the acorn trees", "content": "In this study we work to identify three regions of interest or classes in each of the 38 digital\naerial orthophotos and corresponding to i) surface of the acorn tree crown, ii) crown of acorn\nshrub and iii) soil. The first region (i) consists of the crown of oak trees (quercus) that may be\nproducing acorns, which is the one of the most interest, to later calculate the percentage of\nSAC, the second region (ii) is the crown of the young shrubs that still do not produce acorns\n(shrubs) or shrubs that are not acorn, while the last class (iii) refers to the soil (pastureland\nand/or stones)."}, {"title": "Manual Segmentation", "content": "The manual segmentation of the 38 orthophotos has been carried out by experts, who have\nvisually identified the regions of interest through computer images. Thus, each of the 38\northophotos has been delineated, by contour, the region of interest differentiating between the\ncrowns of the acorn trees and the shrubs. The contour is drawn in green that identifies the crown of the acorn trees, while the contour in\nyellow represents the crown of the shrubs; the rest of each image corresponds to the soil,\npastureland or stones. Once the contours of the crown of the trees and the acorns were\nidentified, then proceeded to fill in the different areas and in this way have a clearer idea of\nthe SAC in each of the orthophotos.In the first orthophotos , the contrast between the soil and\nthe crown of the trees and shrubs is very high, so its detection does not represent a problem.\nAlso, the trees are separated from each other, and this also facilitates their identification.\nHowever, in other orthophotos (with crowded trees/shrubs), both the contrast and the\nseparation do not favour detection, in addition to the shadows that can be overlapping on\ntrees or shrubs. But conveniently we use the results of the manual segmentation as\ncomparison element against the automatic segmentation.\nThe following procedure was applied to each of the 38 orthophotos:\nManual Segmentation\n1. Identification of acorn trees, and delimitation of the contour of the trees crown.\nii. Identification of the acorn shrubs, and delimitation of the contour of the crown of the\nshrubs.\niii. Binarization of manually segmented images.\na. Obtaining binary images of acorn trees.\nb. Obtaining the binary images of the acorn shrubs.\niv. Estimation of SAC percentage for acorn trees.\nV. Calculation of the homogeneity (value of measure NU - Non Uniformity) of the\nregions of the three elements to be identified: trees, shrubs and soil."}, {"title": "Automatic segmentation by the GK-B algorithm", "content": "For this case study of automatic segmentation, a partitional clustering algorithm has been\nused, derived from the c-Means family, corresponding to the Gustafson Kessel algorithm\n(GK) [14]. One of its main advantages is that it identifies groups with a hyper-ellipsoidal\nshape in the space of the characteristics, due to it is based on the Mahalanobis distance\ninstead of the Euclidean distance used by other algorithms such as the Fuzzy c-Means [16].\nFor this case study, the space of the characteristics corresponds to the orthogonal RGB space\nbecause we only use the color, so that the coloured regions form hyper-ellipsoidal shape\ngroups [17].\nBabuska and others. [15] made an improvement to the GK algorithm so that the groups adapt\nbetter to their natural form and it is this algorithm, which we call here GK-B, which we have\nused for the process of automatic segmentation of the orthophotos. This algorithm requires\nthe adjustment of the parameters pi (cluster volumes), \u03b2(condition number threshold) and\ny(weighting parameter); regularly the first two parameters remain constant p\u2081 = 1, ..., c, and\n\u03b2 = 1015, the parameter that changes is y which takes values in (0,1). Besides, there are also\nthe standard parameters as m, related to the fuzziness of the partition, and c, the number of\nclusters or objects to find in an image.\nIn this proposed approach the initial number of classes to be identified is two, since the tree\ncrowns and the acorn shrubs are very similar, and therefore they are identified in a single\nclass, the other class corresponds to the ground soil. When a good identification is not\nachieved, the number of classes is increased to 3, this has happened when there are just few\nacorn trees in the image and most of the image is soil\nThus, if the de-tection is not good enough (by visual inspection), the number of classes is increased and the\nimage is processed for segmentation again."}, {"title": "Clustering algorithm GK-B [14] [15]", "content": "Given the dataset Z = {Zn1, Zn2, \u2026\u2026 ZnN}, where n represents the number of features (color\nlayers in RGB) and N the number of pixels of the image, choose an integer number of\nclusters c \u2208 {1,2, ..., N}, c < N, the weighting exponent m > 1 and the termination tolerance\n\u03b5 > 0.\n1. Initialize randomly the membership matrix Uinicial with \u03bcik \u2208 {0,1} and\n\u03a3\u03ba=1 \u03bcik = 1.\n2. Calculation of the prototypes of the clusters according to the number of data N and\nthe number of classes c.\nv\u2081 = $\\frac{\\Sigma_{k=1}^{N}(\\mu_{ik})^mz_k}{\\Sigma_{k=1}^{N}(\\mu_{ik})^m}$, 1<i < c.\n3. Calculation of the las covariance matrices for the clusterings,\nF\u2081 = $\\frac{\\Sigma_{k=1}^{N}(\\mu_{ik})^m(z_k-v_i)(z_k-v_i)^T}{\\Sigma_{k=1}^{N}(\\mu_{ik})^m}$, 1 \u2264 i \u2264 c.\na. Estimation of the covariance matrix for the GK-B algorithm\nF\u2081 = (1 \u2212y)Fi + y det(Fo) 1,\nb. Extract eigenvalues dij and eigenvectors \u00d8ij from Fi.\nc. Find lijmax = maxjlij and set:\ndij = dimax/\u03b2 \u2200; such that dimax/\u03bbij > \u03b2.\nd. Reconstruction of the covariance matrix Fi by\nFi = [\u00d8i1...\u00d8in]diag(di1...in....)[\u00d8i1...\u00d8in]-1\n4. Calculation of the distances:\nDik = (zk - vi) [pi det(Fi)=F\u00a1\u00af\u00b9] (zk \u2013 vi), 1 \u2264 i \u2264 c, 1 \u2264 k \u2264 N.\n5. Actualization of the membership matrix if Dik > 0\nU = $\\frac{1}{\\Sigma_{j=1}^{c}(\\frac{D_{ik}}{D_{jk}})^{\\frac{2}{m-1}}}$, 1 \u2264 i \u2264 c, 1 \u2264 k \u2264 N.\n6. Verification of whether the last variation of the membership matrix exceeds a value \u025b,\nsmall and previously established. If so, go back to step 3, else stop.\n||Unew - Uold|| < \u03b5"}, {"title": "Proposed methodology for automatic segmentation of orthophotos.", "content": "i. Initial segmentation of the 38 orthophotos using the GK-B algorithm and the\nfollowing parameters: p\u2081 = 1, ..., c, \u03b2= 1015, y = 0 y m = 2, y \u025b = 10\u22123 for all the\northophotos. The initial number of clusters is c = 2.\nii. Visual inspection and evaluation of the quality in the crown tree detection, if the re-\nsult is not satisfactory enough then increase, by one, the number of classes.\niii. Binarization of the segmented images in two regions: R\u2081 for the crown tree area and\nshrubs (white pixels) and R2 or the soil(black pixels).\niv. Separation of the region R\u2081 in tree crown (R1a) and acorn shrubs (R1b) according to\nthe following rule: if there is an isolated blob less than or equal to an area of 1,650\npixels, separate it and label it as a shrub, in such a way that:\nR1 = R1a U R1b\nV. Once that the blobs exclusive of the acorn trees have been identified (R1a), proceed to\nestimate the percentage of the covered wooded area (SAC).\nvi. Calculate the value of NU for regions R1a, R1b y R2."}, {"title": "Performance measures", "content": "Given the availability of manually segmented images, these are compared against the images\nsegmented with the GK-B algorithm. The ratios for false positives (FPR) and false negatives\n(FNR) are used for comparison, knowing that the FPR values correspond to the ratio of the\nnumber of pixels in the background (B0, floor of the manual segmentation) misclassified as\nForeground (Fr, acorn tree crown of the automatic segmentation) to the total number of\nbackground pixels in the image segmented by hand. Here, the symbol |A| represents the\ncardinality of set A. To calculate this parameter, we use Equation 10.\nFPR = $\\frac{B_O \\cap F_T}{B_O}$\nOn the other hand, the FNR ratio corresponds to the Foreground number (Fo, acorn tree\ncrown of the manual segmentation), pixels misclassified into Background (BT, solid space of\nthe automatic segmentation) to the total number of foreground pixels in the ground truth\nimage; and it is calculated with Equation 11.\nFNR = $\\frac{F_O \\cap B_T}{F_O}$\nThe values FPR and FNR are in the interval [0,1]. On the other hand, values close to zero are\nindicative of high similarity between the results of manual segmentation and automatic\nsegmentation, while values close to one are indicative of excessive over-segmentation and\nunder-segmentation, respectively.\nTo analyze the similarity between the results of manual segmentation vs automatic\nsegmentation, the Jaccard's similarity index (ISJ) [18] is used, which is a statistical method to\ncompare similarity and diversity between data sets, defined as the size of the intersection\ndivided by the size of the union of the data sets, as shown in Equation 12:\nISJ = $\\frac{I_{SA} \\cap I_{SM}}{I_{SA} \\cup I_{SM}}$\nWhere Isa represents the binary image obtained from the automatic segmentation and Ism\nrepresents the binary image obtained from the manual segmentation. If the ISJ values are near\nto 1 ensure that segmentation is closer to the reference standard.\nOn the other hand, the value of a measure of non-uniformity (NU) provides an homogeneity\ndegree of each of the segmented regions in the interval (0,1), and helps to better understand\nthe process of separation of objects in the images, when \u201cground truth\u201d information is not\navailable [19, 20]. This measure is calculated with Equation 13,\nNU = $\\frac{|F_T|}{\\mid F_T + B_T} \\frac{\\sigma_B}{\\sigma^2}$\nWhere |FT| represents the number of pixels in the region of the crown of the acorn trees,\n|FT + BT| the total number of pixels in the image, \u03c3f the variance of the pixels, single-band\nRGB color space, this can be R and, by last, \u03c3\u00b2 corresponds to the total variance of the\nintensity values of the pixeles of the color band in question. The previous process is repeated\nfor the other two bands (GB), and subsequently, a NU average is obtained for each of the\nimages. The calculated NU values for a well-segmented RGB image take values close to\nzero; whereas the worst segmentation cases take values close to one."}, {"title": "Comparison criteria", "content": "Humans detect the crown of trees and acorns from orthophoto through their colour and\nhomogeneity, that is, the pixels that have a green colour or close to it and are similar to each\nother, this process is carried out subjectively. The differentiation between acorn trees and\nshrubs is done only by its size. Experts determine the contour of the tree crown by\ndiscriminating pixels of trees on the environment, including the shadows.\nThe degree of homogeneity of the objects of interest found with manual segmentation and\nwith automatic segmentation is estimated with a NU value, as described in the materials and\nmethods section. A value close to zero indicates that the intensity of the RGB pixels of the\ntree crown identified is very homogeneous. Therefore, the value of NU is calculated for the\nregion of interest corresponding to the acorn tree crown, both for manual segmentation and\nfor automatic segmentation, and thus assess the segmentation process."}, {"title": "Results and Discussion", "content": "Of the 38 orthophotos used in this study, 34 were segmented into two classes and only four\ninto three classes with the GK-B clustering algorithm, because these four orthophotos\ncontained very few acorn trees, and there are a large number of pixels of soil.Therefore, in these cases, the soil is segmented into two classes, while the other class\nidentifies the acorn trees and shrubs. The values used for the parameters were: p\u2081 = 1, ..., c, \u03b2= 1015, y = 0, m = 2 and\n\u03b5 = 10-3for all orthophotos. The initial number of clusters was c = 2. In the orthophotos of\nFigure 6, each class is represented with the average value of the intensity of the pixels\nidentified in the RGB space. In this case, the green colour represents the crown of the trees\nand the acorns, while the brown colour represents the soil. The difference in tonalities\nbetween the images is due to the difference in soil homogeneity.\nAs with manual segmentation, here also a differentiation is made between the acorn tree\ncrown and shrubs. However, in this work, the difference depends on the size of the identified\nblob. Thus, if a blob is higher than a threshold of 1,650 pixels it is considered as a tree crown;\notherwise, is considered as a shrub.\nTo determine the percentage of SAC in the segmented orthophotos first is necessary to\nbinarize them."}, {"title": "Jaccard's Index of Similarity", "content": "shows the values of the ISJ for the comparison of the results of automatic\nsegmentation against manual segmentation. In the first 14 orthophotos, the highest ISJ values\nwere obtained between 0.83 and 0.7.\nshows the original orthophoto (to the left) and the segmentations that have given\nthe highest similarity. However, from Image 15b, which is when the experts begin to\ndiscriminate the shadows, the ISJ is reduced indicating more significant differences between\nthe segmentation. From orthophoto 21 (similar), where the trees are very\ncrowded, the ISJ falls to a relatively low value related to the rest of the comparisons."}, {"title": "Homogeneity in acorn trees and shrubs", "content": "shows the NU values of the 38 orthophotos for manual segmentation (red dots) and\nautomatic segmentation (green dots). Here it is observed that, except for six cases, the value\nof NU is smaller for the first 24 orthophotos with automatic segmentation, while for the last\n14 orthophotos, except for orthophoto 31, the value of NU is smaller for the manual\nsegmentation. However, we observed a correlation between the NU values of both\nsegmentations for most of the orthophotos, which is also an indication of the difficulty for\nvery accurate identification of the crown of the acorn trees and shrubs."}, {"title": "SAC percentage", "content": "From the segmentation results of the 38 orthophotos (Im_58 to Im_95), the calculation of the\narea covered in each of the orthophotos was made, see Figure 12, and then an average was\ncalculated, considering the trees separately. Acorn, shrubs and soil. The results obtained, both\nfor manual segmentation and automatic segmentation"}, {"title": "Comparison between manual segmentation and automatic segmentation", "content": "In Figure 13a the orthophotos Im_70 to Im_73 (corresponding to images 13 to 16) of the\nstudy area are observed, while Figure 13b shows the results of the manual segmentation and\nin Figure 13c the results of the Automatic segmentation concerning the original orthophotos\nin both cases and in Figure 13d illustrates the comparative results between automatic\nsegmentation and manual segmentation. Thus, taking the latter as a reference, there are the\nfalse positives in blue and the false negatives in orange, that is, in blue the pixels that the\nautomatic segmentation detects in more respect to the manual segmentation and orange the\npixels that it detects of less, also concerning the manual segmentation.\nThe value of NU is smaller for automatic segmentation than for manual segmentation (See\nTable 2), because the pixels of the shadow have high similarity in colour to the pixels of the\nacorn trees, and in the automatic segmentation they are recognised as of the same class. A\ndifferent case occurs with manual segmentation where, although some of the shadows are no\nlonger detected, the contours of the acorn trees are not well identified, because they also take\nup soil pixels, causing an increase in the NU value.\nas shown in Figure 13e, false positives have to do mainly with shadows because in the\nautomatic segmentation they are not discriminated, although in manual segmentation it is not\nvery clear where the threshold between treetops and shadows is established. From the\nanalysis of the manual segmentation of the total orthophotos it is observed that as the experts\nsegmented the orthophotos they eliminated a greater area corresponding to the shadows; this\ndata can be verified from the SAC of the images, as well as the corresponding NU values,\nthat is why in Figure 13e a large number of false positives is observed. On the other hand,\nfalse negatives represent the pixels that automatic segmentation detected less than manual\nsegmentation. However, if we analyse Figure 13b, we can see that manual segmentation\nincludes soil pixels and hence these differences.\nshows the differences between automatic and manual segmentations according to\nthe quantification of the FPR and FNR of each of the 38 orthophotos. Except for orthophotos\nthree and five, the values of FPR and FNR are very similar for the first 15 orthophotos. This\nsimilarity is because the group of experts initially considered the shadows as part of the\ncrown of the acorn trees (see Figure 15) and it is from orthophoto 16, where the shadows are\nalready more evident, that they begin to eliminate part of this area. Thus, it is from image 16,\nexcept for orthophotos 18 and 21, that the FPR is going to rise while the FNR is going down,\nwhich indicates that not only began to eliminate part of the shadow but also that they learned\nto better delimit the border between the tree canopy and the ground. This evolution can be\nseen in for the orthophotos Im_61, Im69, Im_74 and Im92, that is, one of the first\nimages, two intermediate and one of the last."}, {"title": "Discussion", "content": "As we have seen in the results, the detection and quantification of the acorn tree crown area is\nnot an easy task, even for an expert, because the difficulty in some images to differentiate the\ntrees and shrubs from the soil, shadows produced by the trees and the impossibility of clearly\nsetting a threshold that establishes the separation between tree crown and shadows, to the\nirregularities of the tree crown, to the cavities that could be detected by automatic\nsegmentation but were not reported in the results of manual segmentation. In some areas, the\npresence of several trees together is evident, although this has not caused as many problems\nfor identification as the presence of shadows. In addition, with automatic segmentation it has\nalso been possible to differentiate acorn trees from shrubs, although in some images only\nsmall sections of the tree crown appear because most of them appear in some of the adjacent\nimages and this leads, in some cases, to identify them as shrubs, although due to their shape,\nsize and distribution they could be associated with acorn trees.\nTo have an estimate of the homogeneity of the objects found in the 38 orthophotos we used\nan NU measure whose values, although they are close to zero, are not so small except for the\nlast images. These values occur for both manual segmentation and automatic segmentation,\nalthough the latter, except for six cases, has smaller NU values for the first 24 orthophotos,\nwhile for the last 14 orthophotos, except for image 31, presents larger NU values. Even if you\nhave this relationship of order in the quantification of homogeneity, the trends are very simi-\nlar, as can be seen in Figure 11, and this represents, to some extent, the variable difficulty for\nthe correct identification of the crown of trees of acorn and the SAC accordingly.\nOnce the crowns of the acorn trees were identified in the 38 orthophotos, we proceeded to\ncalculate the SAC for each image, as shown in Figure 12, where we could observe that the\nvalues obtained are very close between the segmented images manually and those segmented\nautomatically, particularly for images 1 to 15, 18, 19 and 21. In these images, can be\nobserved a more significant variation of the results based on manual segmentation, which\nindicates that the experts had a slight initial tendency towards overestimation and\nunderestimation of treetops. In the rest of the images, the SAC is greater for automatic\nsegmentation, but with a strong correlation with manual segmentation, which is a\nconsequence of the beginning of a greater elimination of the shadows by the experts. Also, and as can be seen in Figure 14 through the FNR and particularly the last six\nimages, the experts also learned to better delineate the contour of the trees with the ground\nand the end of the graph indicates a greater closeness between both segmentations with\nrespect to tree-soil separation.\nTo have indicative values on the results obtained, we proceeded to calculate the SACs and\nthe average NUs obtaining the following: a SAC of 30.85% for manual segmentation and a\n36.07% for automatic segmentation; see Table 2. Here it is important to note that both\npercentages have to be corrected depending on the area of the shadows, for manual\nsegmentation to a lesser extent because it makes a better discrimination of the shadows, but it\nis obvious in some images that the outline has been drawn more by intuition than by a clear\nseparation between tree canopy and shade. In the case of automatic segmentation, there is an\nobvious overestimation of the SAC because no part of the shadows has been removed.\nHowever, even correcting the SAC of the automatic segmentation this is greater than the\nSAC of the manual segmentation and the maximum admissible stocking density, calculated\nby interpolation of data from Table 1, which is greater with the automatic segmentation. In\naddition, if we compare the NU values of Table 2, we can verify that the automatic\nsegmentation has allowed to determine more homogeneous groups and identify the cavities\nwhich represent elements in favour of this procedure.\nAccording to the comparative analysis between the automatic segmentation to manual\nsegmentation and quantified through the RPF and FNR, the results are very similar as can be\nseen at the beginning of the graphs of However, the differences start accentuating\nfrom image 16, differences illustrated and that represents a better tree-ground\nsegmentation by experts, but also a more significant restriction in the elimination of shadows.\nThe first case is explained by the reduction of the graph of the FNR, while the second case is\ndue to the increase in the graph of the Thus, and according to these results, we can\nconsider that the real SAC is between the calculated values following the manual procedure\nand the automatic procedure."}, {"title": "Conclusions", "content": "The correct estimation of the SAC is important for the \"acorn\" certification of pork in Spain.\nIn this work, we have used an automatic procedure that has allowed us to estimate a SAC of\n36.07% and that is greater than the calculated one of 30.85% from the manual segmentation\nof the images. However, this result also includes the shadows projected on the same trees or\nthe ground so a correction factor must be applied and try to improve this aspect in future\nwork. Also, and according to the results, the above percentages can be taken as the upper and\nlower limit, respectively, of the real SAC, so it is more reliable to estimate this value to\ndetermine the maximum permissible livestock load in a given region. Also, these results are\nreinforced by the results of the different comparison criteria. The procedure proposed in this\npaper is then of great relevance to the producers of certified meat and, if it is possible to\neliminate the shadow areas in the automatic segmentation, it can play a crucial role to carry\nout more accurate estimations of the SACs and with of the maximum livestock loads to\noptimize the use of resources, as well as the production of high-quality meat."}, {"title": "Conflicts of Interest", "content": "The author(s) declare(s) that there is no conflict of interest regarding the publication of this\npaper."}]}