{"title": "Classical and Deep Reinforcement Learning Inventory Control Policies for Pharmaceutical Supply Chains with Perishability and Non-Stationarity", "authors": ["Francesco Stranieri", "Chaaben Kouki", "Willem van Jaarsveld", "Fabio Stella"], "abstract": "We study inventory control policies for pharmaceutical supply chains, addressing challenges such as perishability, yield uncertainty, and non-stationary demand, combined with batching constraints, lead times, and lost sales. Collaborating with Bristol-Myers Squibb (BMS), we develop a realistic case study incorporating these factors and benchmark three policies-order-up-to (OUT), projected inventory level (PIL), and deep reinforcement learning (DRL) using the proximal policy optimization (PPO) algorithm-against a BMS baseline based on human expertise. We derive and validate bounds-based procedures for optimizing OUT and PIL policy parameters and propose a methodology for estimating projected inventory levels, which are also integrated into the DRL policy with demand forecasts to improve decision-making under non-stationarity. Compared to a human-driven policy, which avoids lost sales through higher holding costs, all three implemented policies achieve lower average costs but exhibit greater cost variability. While PIL demonstrates robust and consistent performance, OUT struggles under high lost sales costs, and PPO excels in complex and variable scenarios but requires significant computational effort. The findings suggest that while DRL shows potential, it does not outperform classical policies in all numerical experiments, highlighting 1) the need to integrate diverse policies to manage pharmaceutical challenges effectively, based on the current state-of-the-art, and 2) that practical problems in this domain seem to lack a single policy class that yields universally acceptable performance.", "sections": [{"title": "1. Introduction", "content": "Pharmaceuticals are closely tied to patient health, highlighting the critical importance of accurate inventory control policies in supply chains. However, managing medical product inventories is challenging due to the interaction of multiple factors, including random yields, perishability, batching constraints, non-stationary demand caused by product life cycles, and lost sales (see also Song, 2023). Although the impact of these factors in isolation is reasonably well understood (see, e.g., Broekmeulen and van Donselaar, 2009; Sonntag and Kiesm\u00fcller, 2016, 2018; Gorria et al., 2022), what is their relative importance, and how do they interact in real-world pharmaceutical supply chains? Moreover, while several policies in the literature address one of these challenges individually, is it clear how to adapt them to realistic supply chains that feature multiple overlapping challenges? What performance can be expected from different types of policies?\nTo address these questions, we developed a realistic case study in close collaboration with a senior supply chain manager from Bristol-Myers Squibb (BMS), a global manufacturer and distributor of medical products that faces typical pharmaceutical inventory challenges. The case study focuses on a specific product for which production yield uncertainty, product lifetime, and batching considerations are quantified using company data and expert input. BMS faces unique demand patterns for each product, necessitating an inventory management process that involves demand forecasting and timely ordering from manufacturing facilities. The case study incorporates a baseline policy based on expert human planners at BMS, who rely on forecasting models to predict demand uncertainty and fine-tune inventory levels to prevent and mitigate the risks of excess stock, product expiration, and lost sales. To explore the impact of demand uncertainty and non-stationarity, we used synthetic data from BMS regarding product life cycles to develop a realistic demand process covering the product's lifetime for 20 years and a variant with a shorter lifetime of 5 years. For parameters that are challenging to estimate accurately, sensitivity analyses were conducted over a broad range of values centered around company-provided data. This approach enabled the creation of a set of experiments that effectively represent the complexities of managing medical product inventories, including considerations of batching, product lifetime, and yield uncertainty. The resulting case study provides a robust foundation for answering key questions about inventory policies in pharmaceutical supply chains.\nIn detail, we contribute to the literature by adapting three general-purpose policies: i) an order up-to-level (OUT) policy, with a bounds-based search procedure to determine appropriate safety stock levels for non-stationary demand; ii) a projected inventory level (PIL) policy, which has been shown to perform well in settings involving lost sales and perishability, supported by a bounds-based procedure to optimize policy"}, {"title": "3.1. Order of Events", "content": "As illustrated in Figure 2, the order of events in the supply chain environment and their associated costs for each timestep t are defined as follows:\n1. The order $q_{t-L}$ placed at timestep $t - L$ arrives at the warehouse.\n2. A new order $q_t$ is placed at the factory, incurring ordering costs.\n3. Demand $D_t$ is satisfied from the on-hand inventory in the warehouse. Any unsatisfied demand is tracked as lost sales.\n4. Costs for timestep t-including ordering, lost sales, expiration, and holding costs-are computed. Expired items are removed from the on-hand inventory at the end of the timestep, incurring expiration costs. The remaining items with usable lifetimes are moved forward to the next timestep, resulting in holding costs.\nLet $x_t := (x_{t,1}, x_{t,2}, ..., x_{t,m}, ..., x_{t,m+L-1})$ be the vector representing the inventory in transit and on hand, where $x_{t,i}$ denotes the quantity in transit or on hand with a remaining lifetime of i, for $i = 1, ..., m+L-1$. Let $Z_t$ be a random variable representing the fractional yield for the order arriving at timestep t with realization $z_t$. The maximum production loss, denoted by $\\Omega$, is set at 10%, resulting in $Z_t = 1 - U(0, 1) \\times \\Omega$, where $U(0, 1)$ is a random variable uniformly distributed on the interval [0, 1]. This yield effectively captures the variability in the drug production process, ensuring it fluctuates between 90% and 100%, as indicated by BMS. Consequently, the order arriving at timestep $t + 1$, denoted by $x_{t+1,m}$, is updated based on the yield rate $Z_t$ and the previous order $x_{t,m+1}$.\nThe full inventory vector $x_t$ is then updated as follows:\n\n$x_{t+1,i} = \\begin{cases} Z_t x_{t,i+1} & \\text{i = m + L - 1,} \\\\ x_{t,i+1} & \\text{i = m + 1, ..., m + L - 2,} \\\\ (x_{t,i+1} - (D_t - (\\sum_{j=1}^{i} x_{t,j})^+)^+ & \\text{i = m,} \\\\ (x_{t,i+1} - (D_t - (\\sum_{j=1}^{i} x_{t,j})^+)^+ & \\text{i = 1,..., m - 1.} \\end{cases}$      (1)"}, {"title": "3.2. Cost Transformation", "content": "This update implies that for the inventory at position $i = m + L - 1$, the vector is updated according to the current order quantity $q_t$ placed at timestep t. For intermediate positions, from $i = m + 1$ to $i = m + L - 2$, representing the pipeline of inventory in transit, the vector is shifted by one position. For positions from $i = 1$ to $i = m$, the vector is updated to satisfy the demand $D_t$ using the on-hand inventory, following a FIFO issuing policy from the oldest to the most recent items. Inventory with a lifetime of $i = m$ (i.e., items that have just arrived) directly incorporates the yield rate $Z_t$. Here, $(\\cdot)^+$ denotes max(0, $\\cdot$).\nLet $X_t$ and $Y_t$ denote the random variables representing the total inventory level at timestep t before order arrival and after order arrival but before demand satisfaction, respectively. Their realizations are defined as $X_t = \\sum_{i=1}^{m-1} x_{t,i}$ and $Y_t = X_t + Z_tq_{t-L}$, and the expired quantity at timestep t is given by $O_t = (x_{t,1} - D_t)^+$.\nThe total cost over a finite episode horizon T for a given policy $\\pi \\in \\Pi$, where a policy maps states to actions and $\\Pi$ represents the set of feasible policies, can be expressed as:\n\n$C^{\\pi} = E [\\sum_{t=1}^{T} C_t - \\Omega \\sum_{i=1}^{m-1} X_{T+1,i}]^+$,            (2)\n\nwhere $C_t = K(q_t) + \\hat{c}q_t + \\hat{h}(Y_t - D_t)^+ + \\hat{b}(D_t - Y_t)^+ + \\hat{w}O_t$ and K(qt) = {0,5,8,9, 10}, for $n_t$ = 0, 1, 2, 3, 4, 5, 6, respectively, with $n_t = [\\frac{q_t}{Q}]$ and [$\\cdot$] represents the ceiling function. The first term in $C_t$ represents the batch ordering cost, conditional on the batch size, while the second term is the unit ordering cost proportional to the number of items. The subsequent terms denote the holding, lost sales, and expiration costs at timestep t, respectively.\nGiven our objective to determine an appropriate order quantity $q_t$ at each timestep t, while minimizing the total cost $C^\\pi$ across the episode horizon T, we assume $q_t = 0$ for $t = T-L+1,..., T$, as these orders will not arrive before the episode ends. Additionally, at the start of each episode, the inventory level is assumed to be empty, i.e., $x_{1,i} = 0$ for $i = 1, ..., L - 1$."}, {"title": "3.3. Dynamic Programming Formulation", "content": "Following a methodology similar to that described in Chao et al. (2015), we transform the total cost $C^\\pi$ into an equivalent expression that excludes the unit ordering cost $\\hat{c}$.\nUnder the lost sales assumption, determining the optimal order quantity $q_t$ using dynamic programming depends on the inventory vector $x_t$. Let $V_t(x_t)$ denote the cost-to-go function from timestep t to T:\n\n$V_t(x_t) = min E [K(q_t) + \\hat{h}(Y_t - D_t)^+ + \\hat{b}(D_t - Y_t)^+ + \\hat{w}O_t + V_{t+1}(x_{t+1})]$. (4) \n\nSolving this dynamic programming model poses significant challenges due to the curse of dimensionality, primarily caused by the positive lead time L and the product lifetime m. For instance, Ding and Peng (2024) demonstrated that even with a lead time of zero, determining the optimal order quantity for products with a lifetime of at least five timesteps requires substantial computational effort. Introducing a lead time of 12 timesteps, combined with a product lifetime of 12 timesteps-as in our real-world case study-further exacerbates the complexity, making it computationally intractable to find an exact solution within a reasonable timeframe. This challenge persists even for non-perishable products, as solving Equation 4 is further complicated by the lost sales assumption, as highlighted in prior studies (Levi et al., 2008; Arts et al., 2015). As expressed in Lemma 1, the unit ordering cost $\\hat{c}$ is incorporated into the holding, penalty, and expiration costs, allowing us to focus on solving the transformed total cost $C^{T*}$. However, the batch ordering cost represented by $K(q_t)$ introduces additional complexities. Developing effective policies for perishable products becomes particularly difficult when such costs are present (Dehaybe et al., 2024). As a result, the proposed policies must be carefully evaluated to ensure their effectiveness in addressing these challenges."}, {"title": "4. Inventory Policies", "content": "This section analyzes two primary types of inventory policies implemented under the specific assumptions and challenges of our supply chain environment: classical (analytic) policies and DRL policies. For the classical policies, we define the widely known and adopted OUT policy (Section 4.1) and describe the baseline policy currently used at BMS, which refines the OUT policy by incorporating expected expiration in the spirit of the EWA policy (Section 4.2). Additionally, we discuss the PIL policy applied in our case study (Section 4.3). Lastly, for the DRL policy, we introduce the PPO algorithm (Section 4.4). Our analysis outlines the fundamental principles of each policy type, investigates specific theoretical properties, and discusses their practical implementation."}, {"title": "4.1. OUT Policy", "content": "To implement the OUT policy in our non-stationary case, we propose fixing the safety stock instead of the order-up-to level. This approach ensures that the order-up-to level adjusts dynamically based on the expected demand during lead times, allowing it to increase or decrease in response to fluctuations in demand forecasts. Specifically, the proposed OUT policy is characterized by a single parameter, s, representing the safety stock. Denoted by $\\pi_s$, this policy involves ordering to the order-up-to level $S_t = s + \\sum_{j=t}^{t+L} d_j$ at each timestep t. Accordingly, the order quantity $q_t^s$ at timestep t is calculated as:\n\n$q_t^s = (S_t - \\sum_{i=1}^{m+L-1} x_{t,i})^+$,(5)\n\nand the number of batches is determined as: $n_t^s = [\\frac{q_t^s}{Q}]$. The expected total cost over the episode horizon T is given by:\n\n$C_t^s = E [\\sum_{t=1}^{T} (\\hat{h}(Y_t - D_t)^+ + \\hat{b}(D_t - Y_t)^+ + \\hat{w}O_t)]$ (6) \n\nThis formulation implies that the order-up-to level equals $s + \\sum_{j=t}^{t+L} d_j$, which may vary dynamically at each timestep t to account for non-stationary demand. Here, $\\sum_{i=1}^{m+L-1} x_{t,i}$ represents the inventory level at timestep t prior to ordering. Given the positive lead time L, the expected total cost can also be expressed as:\n\n$C^s = \\sum_{t=1}^{T-L} (\\hat{h}E [(Y_{t+L} - D_{t+L})^+] + \\hat{b}E [(D_{t+L} - Y_{t+L})^+] + \\hat{w}E [(x_{t+L,1} - D_{t+L})^+])$. (7)\n\nOur goal is to determine the optimal safety stock s for the OUT policy under lost sales. To achieve this, we propose a bounds-based search procedure that leverages approximative assumptions and simplifications"}, {"title": "4.1.1. OUT Policy Lower Bound", "content": "to establish bounds and then employs a bounds-based procedure to optimize policy parameters. Specifically, we assume that the random variables representing forecast error, $\\xi_t$, are i.i.d. and follow a normal distribution with a mean of zero and a standard deviation $\\sigma$. Under this assumption, the cumulative forecast error over the lead time is defined as $D_{L+1} = \\sum_{j=t}^{t+L} \\xi_j$. Two simplifications are also made to facilitate the derivation of bounds. First, batch ordering costs, K(qt), are omitted. Prior studies, such as Nahmias (1978) and Zhang et al. (2016), analyzed fixed ordering costs in perishable systems with fixed lifetimes but limited their focus to scenarios with zero lead time. In pharmaceutical supply chains, transportation costs are typically shared across multiple products, making fixed ordering costs negligible. Second, yield uncertainty is excluded from deriving theoretical bounds to maintain tractability. Given the complexities of deriving closed-form expressions for costs, we adopt Monte Carlo simulation to determine the optimal safety stock for the OUT policy. In particular, we generate 2000 simulated episodes, each covering the entire episode horizon, and set the safety stock to minimize the average total cost across these simulated episodes. The effectiveness of this bounds-based procedure will be validated in Section 5.\nThe following lemma establishes a lower bound for the cost component of the OUT policy.\n\nLemma 2. Under the OUT policy with lost sales, for each demand sample path and every timestep $t > L+1$, the following conditions hold:\n\n$\\begin{aligned} E [O_t] &\\geq \\frac{E [(S-D_{m+L})^+]}{m+L}, \\\\\nE [((\\sum_{i=1}^{m} x_{t,i})-D_{t})^+] &\\geq E [(s - D_{L+1})^+] - \\hat{LB}[(S-D_{m+L})^+],  (8) \\\\\nE [(D_t - \\sum_{i=1}^{m} x_{t,i})^+] &\\geq \\frac{E [(D_{L+1} - s)^+]}{L+1}. \\end{aligned}$  \nThis lemma enables us to derive a lower bound, denoted by LB, on the total cost:\n\n$C^s \\geq LB(s) = T [\\frac{\\hat{h}}{L+1}E [(s - D_{L+1})^+] + \\frac{\\hat{b}}{L+1} E [(D_{L+1} - s)^+] + \\frac{\\hat{w}L}{m+L}  E [(s - D_{m+L})^+]].$ (9)"}, {"title": "4.1.2. OUT Policy Upper Bound", "content": "We next derive an upper bound, UB, under the assumption that items are non-perishable ($O_t = 0$ for m = +$\\infty$ and any t > L):\n\n$\\begin{aligned} (\\sum_{i=1}^{m} x_{t,i} - D_t )^+ &\\leq  |\\sum_{j=t-L}^{t-1} \\xi_j| - | s - \\sum_{j=t-L}^{t-1} \\xi_j|^+, \\\\\n(D_t - \\sum_{i=1}^{m} x_{t,i} )^+ &\\leq |\\sum_{j=t-L}^{t-1} \\xi_j| - | s - \\sum_{j=t-L}^{t-1} \\xi_j|^+. (10)\\end{aligned}$\n\nTaking the expectation of the above inequalities yields the upper bound:\n\n$UB(s) = T (\\hat{h}E [(s - D_{L+1})^+] + (\\hat{b} + \\hat{h}L)E [(D_{L+1} - s)^+]).$ (11) \n\nThis bound follows directly from the assumption that $\\xi_t$ is stationary and i.i.d., which implies that $\\sum_{j=t-L}^{t+L} \\xi_j$ and $\\sum \\xi_j$ share the same distribution.\nWe proceed by determining the solution for the upper bound, denoted as $s_{UB}$, which corresponds to the $\\frac{\\hat{b}+(\\hat{h}+1)}{\\hat{h}+L)}$ quantile of the forecast error distribution:\n\n$s_{UB} = inf \\{ S: P(D_{L+1} \\leq s) \\geq \\frac{\\hat{b}+\\hat{h}L}{\\hat{b} + L} \\}$ (12) \n\nThe upper bound is expected to act as a cap on the order-up-to level of the optimal perishable OUT policy under lost sales. This expectation is based on the formal demonstration provided by Nandakumar and Morton (1993) for scenarios with zero lead time and further supported by findings for positive lead times in non-perishable systems by Huh et al. (2009). However, providing formal proof of this conjecture in the context of perishable products remains a challenging open problem.\nFinally, given the complexities of deriving closed-form expressions for costs, we adopt Monte Carlo simulation to determine the optimal safety stock for the OUT policy. Specifically, we generate 2000 simulated episodes, each covering the entire episode horizon, and set the safety stock to minimize the average total cost across these simulated episodes."}, {"title": "4.2. BMS Baseline Policy", "content": "We next discuss the BMS baseline policy, which is derived from the expertise of human planners. Similar to the OUT policy, this human-driven policy relies on a time-dependent target level, defined as:\n\n$S_t = \\hat{s} + \\sum_{j=t}^{t+L} d_j$, (13)"}, {"title": "4.3. PIL Policy", "content": "The foundation of the PIL policy has been explored by van Jaarsveld and Arts (2024) and further developed by Bu et al. (2023b) to address perishable products with fixed lifetimes, demonstrating its effectiveness compared to constant-order and OUT policies. However, neither study has examined its application under non-stationary demand. This paper extends the analysis of Bu et al. (2023b) to investigate such scenarios.\nIn the original formulation of the PIL policy, van Jaarsveld and Arts (2024) propose placing an order to raise the projected inventory level to a desired target. In our extension, we adopt a slightly modified approach to account for the complexities introduced by non-stationary demand.\nFurthermore, both the BMS baseline and EWA policies account for expirations during lead times when determining the size of orders to be placed but ignore lost sales in the computation of Equation 14, treating excess demand as backorders. These policies also assume that forecast errors follow a normal distribution and rely solely on mean demand to estimate expirations, disregarding any associated uncertainty. To address these limitations, we propose incorporating the expected inventory level at timestep t + L into the PIL policy. Let $X_{t+L} = \\sum_{i=1}^{m-1} X_{t+L,i}$ denote the inventory level before ordering at timestep t + L, and let $\\pi_u$ represent the PIL policy, which involves ordering at each timestep t up to:\n\n$U_t = u + d_{t+L}$, (17)\n\nwhere u represents the safety stock employed by the PIL policy. By the material conservation law, the inventory level can be expressed as:\n\n$X_{t+L} = \\sum_{i=1}^{m-1} x_{t+Li} = \\sum_{i=1}^{m+L-1} x_{ti} - \\sum_{j=t}^{t+L-1} D_j + \\sum_{j=t}^{t+L-1} l_j -\\sum_{j=t}^{t+L-1} O_j$, (18)\n\nwhere $l_i = (D_i - \\sum_{j=1}^{m} x_{t,i})^+$.\nAccording to Lemma 1 of Bu et al. (2023b), it is always possible to order a quantity that brings the expected inventory level at timestep t + L to $U_t$, denoted as $E[\\sum_{i=1}^{m-1} X_{t+L,i}] = U_t$. By Equation 18, the order quantity can be expressed as:\n\n$\\begin{aligned} q_t^u = (U_t - E[\\sum_{i=1}^{m-1} X_{t+L,X}])^+ &= (u + d_{t+L} - E[\\sum_{i=1}^{m+L-1} x_{ti} + \\sum_{j=t}^{t+L}D_j - \\sum_{j=t}^{t+L} l_j + \\sum_{j=t}^{t+L} O_j])^+ \\\\ &= (u + E[\\sum_{i=1}^{m+L-1} x_{ti} + \\sum_{j=t}^{t+L}D_j - \\sum_{j=t}^{t+L} l_j + \\sum_{j=t}^{t+L} O_j])^+. (19) \\end{aligned}$\n\nTherefore, the optimal order quantity, accounting for cumulative lost sales over L timesteps, is given by:\n\n$q_t^u = [\\frac{q_t^u}{Q}]$, (20)"}, {"title": "4.3.1. PIL Policy Lower Bound", "content": "In the following subsections, we derive the lower and upper bounds for the total cost associated with the PIL policy.\nFor any feasible policy $\\pi$, the expired quantity at timestep t + m 1 can be expressed as:\n\n$O_{t+m-1} = (\\sum_{i=1}^{m+L} Xt-L,i - \\sum_{j=t-L}^{t+m-1} D_j + \\sum_{j=t-L}^{t+m-2} l_j - \\sum_{j=t-L}^{t+m-2} O_j)^+ \\geq (\\sum_{i=1}^{m+L} Xt-L,i - \\sum_{j=t-L}^{t+m-1} D_j ,(21)$"}, {"title": "4.3.2. PIL Policy Upper Bound", "content": "We conclude this subsection by providing an upper bound on the total cost for the PIL policy. Based on the findings of Bu et al. (2023b), we note that Lemmas 2 and 4 remain applicable when demand is non-stationary. Specifically, by their Lemma 2, we have $E [\\sum_{i=1}^{m} Xt+L,i] = U_{t+L} = u + d_{t+L}$, and by the material conservation law, we can express:\n\n$\\begin{aligned} E[\\sum_{i=1}^{m} X_{t,i}] &= u + d_t = E[\\sum_{i=1}^{m+L-1} X_{t-L,i} + q_{t-L} -  \\sum_{j=t-L}^{t-1} (D_j - l_j + O_j)] \\\\ &= E[\\sum_{i=1}^{m+L-1} X_{t-L,i}] + q_{t-L} -  \\sum_{j=t-L}^{t-1} d_j - E[\\sum_{j=t-L}^{t-1} (O_j - l_j)] (31)\\end{aligned}$\n\nThis implies:\n\n$E[\\sum_{i=1}^{m} X_{t,i} ] + q_{t-L} = u +  \\sum_{j=t-L}^{t-1} d_j + E[\\sum_{j=t-L}^{t-1} (O_j - l_j)]. $(32)\n\nBy Lemma 4 (part b) of Bu et al. (2023b), the variables  $\\sum_{j=t-L}^{t-1} dj$, and $\\sum_{j=t-L}^{t-1} (D_j - l_j + O_j)$ are component-wise increasing in Dj, j = t, . . ., t + L 1. We thus define the following associated random variables:\n\n$\\begin{aligned} A_t &= \\sum_{j=t-L}^{t-1} (-l_j + O_j - \\xi_j) - E [\\sum_{j=t-L}^{t-1} (O_j - l_j - u) + d_t + \\xi_t, \\\\ B_t &= \\sum_{j=t-L}^{t-1} \\xi_j - E [\\sum_{j=t-L}^{t-1} l_j , \\\\ R_t &=  \\sum_{j=t-L}^{t-1} O_j - E [\\sum_{j=t-L}^{t-1} O_j. \\end{aligned}$ (33)\n\nSince E [B\u2081] = 0 and E [R\u2081] = 0, by Lemma 7 of van Jaarsveld and Arts (2024), we can write:\n\n$\\begin{aligned} E [| D_t - \\sum_{i=1}^{m} X_{t,i} |^-] &= E [A_t] \\leq E [(A_t)^+] \\leq E [(A_t + B_t)^+] \\leq E [(A_t + B_t + R_t)^+] \\\\ &\\leq E [| \\sum_{j=t-L}^{t-1} \\xi_j - u |^+] = E [(D_{L+1} - u)^+], (34) \\end{aligned}$"}, {"title": "4.3.3. PIL Implementation", "content": "and\n\n$\\begin{aligned} E[|\\sum_{i=1}^{m} X_{t,i} - D_t |^-] &= E[\\sum_{i=1}^{m} X_{t,i} - D_t] = E[ \\sum_{i=1}^{m} X_{t,i}] + E[\\sum_{j=t-L}^{t-1} \\xi_j] -E [\\sum_{j=t-L}^{t-1} + E[\\sum_{j=t-L}^{t-1} - E[D_t - \\sum_{i=1}^{m} X_{t,i}] \\\\ & \\leq E[ \\sum_{i=1}^{m} X_{t,i}] = E[ [(\\xi-u+1)+ (35) \\\\  &= E[ + \\sum_{j=t-L}^{t-1} \\xi_j + u - -12+1 \\\\ & E [ u -   (D_1-1+ (Eu -  (3+ (35) . + , \\\\    \\end{aligned}$"}, {"title": "5. Numerical Experiments", "content": "This section, we present numerical experiments designed to evaluate the performance of the implemented policies under various demand scenarios based on synthetic data provided by BMS. All experiments were conducted on a machine equipped with an 11th Gen Intel(R) Core(TM) i7-11800H CPU at 2.30 GHz and 32 GB of RAM. The code was developed using Python 3.10, leveraging the OpenAI Gym library (Brockman et al., 2016) to define the supply chain environment and the Stable Baselines 3 library (Hill et al., 2018) to implement the PPO algorithm. The code is publicly available as an open-source library on GitHub 1.\nIn detail, we consider two demand scenarios for the numerical experiments, both modeled as non-stationary to reflect the complete lifecycle of a specific perishable pharmaceutical drug, as discussed with BMS. The lifecycle begins with initial growth as the product gains market acceptance, reaches a peak during its maturity phase, and then declines as alternatives emerge or patents expire. This demand pattern closely mirrors real-world conditions, providing a realistic basis for evaluating the proposed policies in pharmaceutical supply chains.\nThe first scenario is adapted from company-provided data and covers a period of 5 years (T = 60 monthly timesteps), incorporating two levels of demand noise. In the worst-case setting, demand noise is modeled as $\\xi_t$ ~ N(0, d $\\times$ 15%), where d = max, d\u2081, representing high fluctuations during the peak phase. In contrast, the balanced setting models noise as $\\xi_t$ ~ N(0, d\u2081 $\\times$ 15%), reflecting more moderate fluctuations. These settings were chosen to evaluate the effectiveness of the implemented policies under varying levels of uncertainty. Specifically, the worst-case setting assesses policy performance under high uncertainty, while the balanced setting represents more stable market conditions. In both cases, the forecast error $\\xi_t$ follows i.i.d. normal distributions with a mean of zero and a standard deviation $\\sigma$. This assumption is essential for deriving the lower and upper bounds necessary to optimize the OUT and PIL policies, as discussed in Sections 4.1 and 4.3.\nThe second scenario is based on real-world data provided by BMS, modeling the complete lifecycle of a specific perishable pharmaceutical drug over a 20-year period (T = 240 monthly timesteps), as illustrated in Figure 3. This scenario employs the same balanced noise setting described in the first scenario and serves as a reference for more practical and comprehensive analysis.\nFor each experiment, we compare the performance of the policies by analyzing the average total cost"}, {"title": "5.1. First Scenario", "content": "In the first scenario, we evaluate the three inventory policies introduced in Section 4-OUT, PIL, and PPO-under the worst-case and balanced settings. The experimental plan involves varying several parameters of the supply chain environment. Specifically, the expiration cost (w) is set to 2 and 4, the product lifetime (m) ranges from 2 to 4, and the lost sales cost (b) takes on values of 10, 50, 100, and 1000. Other parameters are kept constant to simplify the analysis. The holding cost (h) is fixed at 1, the lead time (L) is set to 2, and both the batch ordering cost (K(qt)) and yield rate ($\\Omega$) are set to 0. This setup results in 24 unique experiments for each of the two settings (worst-case and balanced). These experiments systematically evaluate the policies under varying cost structures and product characteristics, providing valuable insights into their performance across diverse market conditions."}, {"title": "5.1.1. Worst-Case Setting", "content": "The bounds derived for the optimal parameters in the worst-case setting simplify the optimization process by constraining the search interval for the OUT and PIL policies. As shown in Table C.4 of Appendix C, the optimal values for both the OUT and PIL policies consistently fall within this interval. These bounds are particularly advantageous for the PIL policy, which requires more computational resources than OUT due to the need to calculate expected inventory levels. Although these bounds were derived based on the total cost, they also provide valuable estimates for the optimal parameters of both policies. While formal proof that the optimal values strictly lie within this interval is lacking, the numerical results strongly support this conjecture."}, {"title": "5.1.2. Balanced Setting", "content": "In this first scenario, since there is no upper limit on the number of batches that can be ordered, the upper bound constraining the action space of the PPO algorithm was determined by selecting the maximum of the optimal values between the OUT and PIL policies"}]}