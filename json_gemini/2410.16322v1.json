{"title": "SouLLMate: An Application Enhancing Diverse Mental Health Support with Adaptive LLMs, Prompt Engineering, and RAG Techniques", "authors": ["Qiming Guo", "Jinwen Tang", "Wenbo Sun", "Haoteng Tang", "Yi Shang", "Wenlu Wang"], "abstract": "Mental health issues significantly impact individuals' daily lives, yet many do not receive the help they need even with available online resources. This study aims to provide diverse, accessible, stigma-free, personalized, and real-time mental health support through cutting-edge AI technologies. It makes the following contributions: (1) Conducting an extensive survey of recent mental health support methods to identify prevalent functionalities and unmet needs. (2) Introducing SouLLMate, an adaptive LLM-driven system that integrates LLM technologies, Chain, Retrieval-Augmented Generation (RAG), prompt engineering, and domain knowledge. This system offers advanced features such as Risk Detection and Proactive Guidance Dialogue, and utilizes RAG for personalized profile uploads and Conversational Information Extraction. (3) Developing novel evaluation approaches for preliminary assessments and risk detection via professionally annotated interview data and real-life suicide tendency data. (4) Proposing the Key Indicator Summarization (KIS), Proactive Questioning Strategy (PQS), and Stacked Multi-Model Reasoning (SMMR) methods to enhance model performance and usability through context-sensitive response adjustments, semantic coherence evaluations, and enhanced accuracy of long-context reasoning in language models. This study contributes to advancing mental health support technologies, potentially improving the accessibility and effectiveness of mental health care globally.", "sections": [{"title": "1 Introduction", "content": "The global mental health crisis is a major issue impacting the entire world, affecting an estimated 950 million people and is the leading cause of disability across all age groups. Mental health issues are the leading cause of suicide, with over 800,000 deaths per year(Worldwide Mental Health, 2023)."}, {"title": "2 Background And Investigation", "content": "study introduces SouLLMate, as shown in Figure 1, a mental health support system that utilizes LLM technology to relieve mental health professionals from the tedious tasks of collecting patient information, summarizing medical records, and generating reports. This system enables them to dedicate more time and focus more effectively on diagnosis. Additionally, this system can also provide non-clinical support, such as companionship, (Galderisi et al., 2017; Kiesler, 1979), chat, assessment, and QA functionalities to patients who have already been diagnosed by mental health professionals.\nThe contributions of our study are:\n\u2022 We conducted an extensive survey of recent methods supporting mental health, revealing important needs had yet to fulfill.\n\u2022 We introduced SouLLMate, as shown in Figure 1, an adaptive LLM-driven system for advanced mental health support. This system integrates LLMs, LangChain, RAG, and prompt engineering. SouLLMate offers functionalities beyond General Mental Health Question-Answer and Preliminary Mental Health Assessment, including Risk Detection and Proactive Guidance Dialogue, allow users to upload personal profiles and utilizes Conversational Information Extraction to collect key linguistic indicators, enhancing various support functions, such as Personal Mental Health Reporting.\n\u2022 Given the scarcity of evaluation methods for mental health support systems, we developed novel approaches to assess the Preliminary Mental Health Assessment. Our evaluation methodology utilizes professionally annotated interview data and real-life suicide tendency data to rigorously assess these critical functions.\n\u2022 We proposed 3 novel methods to enhance model performance and usability: 1) KIS: a context-sensitive adjustment mechanism that modifies responses based on user history and current session data, and 2) PQS: a semantic coherence evaluation strategy ensuring logical conversation flow and sustained user engagement over extended interactions. 3) SMMR: Stacked Multi-Model Reasoning method, designed to enhance the accuracy of long-context reasoning language models.\nThe paper is organized as follows: Background and Investigation; Method; Evaluation; Discussion;Conclusion. Some additional materials are in the Appendix. For further information, see the demo on GitHub and Video. Please note that this is a demo system and is continuously being updated."}, {"title": "2.1 AI for Mental Health", "content": "Artificial intelligence (AI) is increasingly applied across various healthcare domains, including diagnosis and clinical psychology. AI enhances the precision of diagnosing conditions such as COVID-19 through advanced imaging techniques and heart attacks via cardiac monitoring, often matching or surpassing the expertise of clinical professionals (Mei et al., 2020; Han and Shi, 2020).\nIn the realm of mental health, AI facilitates the diagnosis and treatment of disorders, offers support, generates predictions, and powers supportive chatbots (Higgins et al., 2023; Thieme et al., 2020; Balcombe, 2023; Talati, 2023; Tutun et al., 2023). Advanced language models, particularly, hold significant promise in bolstering mental health support. For instance, research involving GPT models has assisted healthcare professionals and patients with severe mental conditions in crafting personalized treatment plans (James et al., 2023; Tang and Shang, 2024).\nThese advancements underscore the robust research and burgeoning application of AI in mental health support, highlighting its increasing importance in healthcare."}, {"title": "2.2 Key Elements of Effective Mental Health Support Tools", "content": "Recent research underscores the critical need for robust mental health support, particularly for teenagers who frequently turn to online sources before seeking professional help (Kruzan et al., 2022). Digital tools with instant messaging and rapid assessments are vital, providing immediate assistance and guiding users to appropriate resources. These features not only promote help-seeking behaviors but also help reduce stigma associated with seeking help-such as time constraints, a preference for self-management, or fear of judgment (Czyz et al., 2013). Effective initial interactions with these tools, marked by timely and relevant support, enhance the likelihood of continued use (Frost and Casey, 2016; Salaheddin and Mason, 2016), emphasizing the importance of well-designed digital mental health interventions in sustaining engagement."}, {"title": "2.3 Investigation of AI Technologies in Mental Health", "content": "To investigate the functionalities that have been supported and the gaps between them and the key elements, we have gathered data through searches of academic papers, web pages, and application markets. The results are presented in Table 1.\nOverall, our investigation reveals that, despite some apps performing well in certain aspects, current systems exhibit significant limitations:\n\u2022 Unlike human experts who can leverage personal profiles for tailored understanding, most systems lack effective Retrieval-Augmented Generation (RAG) capabilities, diminishing their efficacy and utility.\n\u2022 Human experts initiate proactive dialogue based on individual interests, fostering open communication. In contrast, most existing systems offer only basic, passive question-answering functionalities, often failing to address deep-seated needs.\n\u2022 Human experts can identify and intervene in cases of abnormal tendencies during real-world interactions. However, existing systems largely lack functionalities for detecting such critical conditions.\n\u2022 Current systems and methods lack reliable, evidence-based approaches to validate their effectiveness (Nicholas et al., 2015; Van Singer et al., 2015)."}, {"title": "3 Method", "content": ""}, {"title": "3.1 System Design", "content": "SouLLMate, as shown in figure 2, is designed to assist Mental Health Professionals in diagnosing and providing potential help to Mental Health Help Seekers, is capable of (1) Preliminary Assessment (PMH-A), (2) obtaining key information through dialogue like humans (CIE), and (3) understanding a person's historical situation or acquiring more document information through reading documents (RAG). (4) Conducting a Proactive Guidance Dialogue (PGD) for individuals who have a negative desire to talk. (5) Risk Detection is also one of the functionalities the system aims to implement. (6) Can generate an appropriate report.\nTo implement these functionalities, we utilize: Large Language Models (LLMs), LangChain, Retrieval-Augmented Generation (RAG), prompt engineering, and domain expertise. As illustrated in Figure 2, the system is structured into three LLM-based levels:\n\u2022 System Level: Implements direct user dialogue, General Mental Health QA (GMH-QA), Conversational Information Extraction (CIE), and RAG functionalities.\n\u2022 Specialist Level: Executes Proactive Guidance Dialogue (PGD), Preliminary Mental Health Assessment (PMH-A), and Risk Detection.\n\u2022 Assistant Level: Generates the final report."}, {"title": "3.2 Key Indicator Summarization (KIS)", "content": "In mental health contexts, which often require long-form dialogues, extended inputs can compromise accuracy and prolong inference times, which cannot be handled by relatively small-size open-source LLM models (Sun et al., 2024). To address this, we propose a method that combines prompt engineering with domain expertise to distill key information from historical dialogues. Specifically, we tested and designed two KIS methods: KIS-Summary and KIS-Extracting. KIS-Summary tends to provide a concise yet comprehensive narrative overview, integrating various aspects of health and life into a coherent summary. KIS-Extracting, on the other hand, leans towards precisely extracting and categorizing information in a highly structured manner, facilitating quick retrieval of detailed data for specific categories."}, {"title": "3.3 Proactive Questioning Strategy (PQS)", "content": "Users often narrate their experiences during conversations, which, while relieving stress and emotions, may not be highly beneficial for the evaluation model. We proposed a proactive questioning strategy, mimicking the inquisitive assessing approach used by psychologists. By pre-defining the LLM's role and behavior in the prompt, the pre-screening process can be expedited, and more relevant information can be gathered. In the SouLLMate system, we designed the PQS (Proactive Questioning Strategy) functionality. Examples of how it works are shown in Table 2."}, {"title": "3.4 Stacked Multi-Model Reasoning (SMMR)", "content": "We introduce the concept of Stacked Multi-Model Reasoning (SMMR), specifically designed to enhance the accuracy of long-context reasoning in large language models focused on mental health topics. This approach not only aims to improve reliability but also reduces instability and mitigates the risks of hallucinations often encountered in such models. The architecture of SMMR, structured with a minimum of three layers, is depicted in Figure 3 and Algorithm 1."}, {"title": "4 Evaluation", "content": ""}, {"title": "4.1 Evaluation Principle", "content": "As a mental health support system, rigorous evaluation is crucial. A common practice in published AI-driven health support research is to use professionally annotated data as the evaluation sample(AlDera and Othman, 2022; Sun et al., 2023; Abunadi and Senan, 2021).\nThe meta-analyses conducted by (Lecomte et al., 2020) found that mental health tools can enhance mental well-being in a promising way. However, few are supported by experimental evidence (Neary and Schueller, 2018). This difficulty stems from the nature of mental health data, which is private and not as easily collectible as other types of data"}, {"title": "4.2 Datasets", "content": ""}, {"title": "4.2.1 Professionally Expert-annotated Data", "content": "The DAIC-WOZ database, specifically designed for the study of psychological distress such as anxiety, depression, and PTSD, was utilized to assess the performance of our system in mental health pre-screening. This dataset consists of 187 labeled interviews conducted by a virtual interviewer controlled by a human. Each interview is labeled with a PHQ-8 score and its corresponding binary assessment. Training and testing data split IDs are also provided (Gratch et al., 2014).\nIn our evaluation, each interview from the dataset was concatenated into a single data stream by aligning segments according to the speaker's starting time. The consolidated dataset includes references to the speaker, the content of each segment, and punctuation marks consisting of a period followed by a slash (./) to denote the end of each speaking turn.19\nThe Case Study dataset compiled by our team from various academic sources including textbooks and journal articles, consists of 48 cases with diagnostic outcomes. For each diagnostic conclusion, binary scores and disorder types were manually extracted to determine the presence of a mental health issue and its specific type. This dataset includes 6 conversational and 42 descriptive cases. An example from this dataset is presented in the Appendix C."}, {"title": "4.2.2 Real World Social Media Data", "content": "A labeled dataset from Reddit, known as the 'Reddit C-SSRS Suicide Dataset,' was utilized in our study. This dataset, which was created by Gaur et al. (2021), contains 448 entries from Reddit users. These entries are categorized using the Columbia Suicide Severity Rating Scale (Posner et al., 2011) into Ideation, Behavior, Attempts, Supportive, and Indicator labels. For our analysis, we focused on 379 of these entries, specifically distinguishing between actions associated with suicide risk and supportive actions, while excluding entries labeled as 'Indicator'."}, {"title": "4.2.3 Domain Knowledge Questions", "content": "We collected 588 domain knowledge questions, which include about 488 multiple-choice questions and 100 short-answer questions. The multiple-choice questions comprise four columns: ID, question, options, and correct answer. The short-answer questions consist of three columns: ID, question, and answer. These questions were manually selected from professional mental health websites(psy, Accessed: insert-year-here) and"}, {"title": "4.3 Evaluation of Pre-screening Effectiveness Across Multiple Datasets", "content": "This section details our evaluation of the adaptability and effectiveness of large language models (LLMs) in pre-screening for mental health conditions using three distinct datasets: the DAIC-WOZ database, the Case Study dataset, and the Reddit C-SSRS Suicide Dataset (Gaur et al., 2021)."}, {"title": "4.3.1 Prompt Applications", "content": "DAIC-WOZ Database We tested three variations of prompts designed to assess the pre-screening capabilities with different models: (Details refer to Appendix:E)\n1. LLMs prompted to evaluate using the Patient Health Questionnaire-8 (PHQ-8) criteria.\n2. LLMs provided with general PHQ-8 criteria for reference."}, {"title": "4.4 Question-Answer Evaluation and Results", "content": "Domain knowledge questions were assessed using short answer and multiple choice formats in our Domain Knowledge Questions Dataset. The correctness of short answer responses was evaluated based on criteria provided by the LangChain website (LangChain, 2021). The proficiency of models like GPT-40 and Mixtral87B was particularly notable, with results highlighted in Table 8."}, {"title": "5 Discussion", "content": ""}, {"title": "1.Benefits to Mental Health Professionals and Patients", "content": "Utilizing SouLLMate or similar systems can significantly alleviate the burden of routine tasks undertaken by mental health professionals. By automating time-consuming activities, these systems allow professionals to dedicate more of their work hours to patient communication and diagnosis. This shift not only enhances the quality of patient interactions but also increases the overall capacity for patient intake without necessitating an increase in the number of mental health professionals. Consequently, this could lead to improved service delivery and potentially higher revenues for mental health practices."}, {"title": "2.Adaptability in Multicultural and Multilingual Environments", "content": "Many impoverished and culturally unique regions often lack access to standard psychological counseling services. In such areas, utilizing the internet-based SouLLMate system can provide decent non-clinical support, despite its limitations. This accessibility can facilitate the eventual acquisition of clinical-level mental health support, such as online professional diagnoses. By initially engaging with SouLLMate, individuals may overcome initial hesitations and prejudices towards receiving psychological support, thereby promoting greater acceptance and utilization of mental health services in diverse cultural contexts.\nFor resource-rich medical institutions, we recommend setting up a server cluster, such as one with eight H100 GPUs, running different models on different GPUs simultaneously. This approach can greatly increase speed when using the SMMR method and enhance the final evaluation and summarization performance."}, {"title": "6 Conclusion", "content": "Our study developed SouLLMate, an AI-driven system utilizing large language models (LLMs) to support mental health professionals in overcoming limited resources and inadequate support systems. Validated with expert-annotated data, SouLLMate demonstrated strong capabilities achieved an 80% accuracy rate in clinical mental health assessments under zero-shot conditions. Further improvement can be achieved through methods like SMMR and KIS. This indicates the system's effectiveness in understanding mental health issues and assisting professionals with tasks such as collecting information, summarizing records, and generating reports. By alleviating these administrative burdens, SouLLMate enables mental health professionals to enhance diagnostic efficiency, serve more patients, and potentially increase their income, creating a win-win scenario for professionals, patients, and service providers.\nThis research also established baseline performance metrics for this model paradigm, offering a foundation for future studies and providing new insights. We anticipate that integrating more advanced models into systems like SouLLMate will further enhance accuracy and performance. However, SouLLMate faces limitations, such as decreased performance with long contexts, which need to be addressed in future work to enhance its effectiveness and reliability."}, {"title": "Limitations", "content": "Model Constraints: Effective mental health pre-screening requires models with high contextual understanding and inference capabilities. However, limitations in model selection restrict the research scope.\nData Scarcity: The scarcity of publicly available, professionally annotated data hampers the development and validation of mental health models. The available data is often sparse, unannotated, or excessively lengthy, posing significant challenges.\nResource Costs: Mental health research is resource-intensive. Using advanced models like the Mixtral 8*7B on high-end servers can take up to an hour for a single inference, limiting prompt testing and workflow adjustments due to high operational costs."}, {"title": "Ethics Statement", "content": "1. Ethical Boundaries and Professional Support SouLLMate's evaluation principles emphasize rigorous case assessments to determine its expertise and understanding of mental health. The system has achieved favorable evaluation scores in both Q&A and case study scenarios, indicating its competence as an assistant to mental health professionals. With the advent of more advanced models and improved performance enhancement methods, there remains room for further improvements. SouLLMate is sufficiently professional to serve as an assistant to mental health professionals. Importantly, SouLLMate does not engage in"}, {"title": "2. Privacy and Security of the SouLLMate System", "content": "The SouLLMate system is designed for local deployment, meaning that anyone with access to a capable local large language model or appropriate API services can utilize the system. This design ensures that data and personal information remain under the user's control or are safeguarded by the large model API service providers. Consequently, SouLLMate itself does not present inherent security issues, as it relies on established security measures provided by the local infrastructure or API providers to protect user data and privacy."}, {"title": "3. Privacy and Security of This Research", "content": "Our research does not utilize personal data, relying solely on open-source data and methods, thus avoiding any infringement on personal privacy. When using our system, users have the option to upload or withhold their personal data from the model. Additionally, they can delete the DB file to erase their usage history, thereby protecting their personal privacy."}, {"title": "A.1 System Deployment", "content": "In this demo, we utilized the simple Panel library to showcase our system. Our demo environment includes Windows 11, Python 3.12, and the EDGE browser, primarily using the Panel library to build the interactive interface that displays the system. Nevertheless, by adjusting the UI and running platform, it has the potential to: 1) operate on various platforms and 2) demonstrate flexibility that could enable the system to meet diverse needs and consider cultural diversity in its interactions."}, {"title": "A.2 Use Case for Preliminary Mental Health Assessment", "content": "Figure 4 shows the Preliminary Mental Health Assessment results based on the PHQ-8 protocol. It displays total and item scores with interpretation, demonstrating efficiency and accuracy. This comprehensive output facilitates quick, informed decisions on mental health status."}, {"title": "A.3 Use Case for Proactive Guidance Dialogue", "content": "SouLLMate's responses, as shown in Figure 6, demonstrate empathy, insight, and practical advice. Key aspects include:\n1 Empathetic Validation: Normalizing emotions and encouraging disclosure.\n2 Cognitive Exploration: Guiding self-reflection on emotional states.\n3 Behavioral Intervention: Offering strategies for stress-induced insomnia.\n4 Psychoeducation: Promoting proactive mental health management.\nThese interactions illustrate SouLLMate's ability to provide comprehensive psychological support through evidence-informed dialogues."}, {"title": "A.4 Use Case for Suicide Risk Detection", "content": "As shown in Figure 7, this assessment effectively evaluates suicide risk by quantifying key factors such as intent, ideation, and behavior. It accurately identifies the absence of suicidal tendencies while recognizing the supportive nature of the response, demonstrating its efficacy in mental health dialogues."}, {"title": "A.5 Use Case for Report Generation", "content": ""}, {"title": "A.6 Use Case for General Mental Health QA", "content": "The SouLLMate, as illustrated in Figure 5, excels in empathy and active listening, offering practical stress relief advice while maintaining professional boundaries. Its responses are well-structured and personalized, using supportive language like \"You're not alone.\""}, {"title": "B.1 Design of System Level Workflow", "content": "The System Level workflow is designed as a cyclical dialogue chain. It serves as the initial direct contact enabling the SouLLMate system to connect with the user, after which other components can operate accordingly.\n\u2022 Responsibility: The workflow is tasked with engaging in dialogue with users; identifying and extracting indicators and information through conversation; connecting to the database which stores pre-installed knowledge-based documents along with users' historical information and customized documents; and conducting General Mental Health QA (GMH-QA) by invoking RAG to access and utilize database information.\n\u2022 Prompt Design: The prompts primarily define the LLM's role as a system-level LLM, outlining its methods and styles of dialogue with users, authority in responses, and the rights to invoke RAG and access or update the user's state.\n\u2022 RAG Design: The moment a user interacts with the system, the RAG system is invoked at the System Level to retrieve user history and directly contribute to the dialogue and consultation."}, {"title": "B.2 Design of Specialist Level Workflow", "content": "The specialist workflow consists of three components, which implement PGD, PMH-A, and SRD functionalities based on the information obtained from the System Level LLM.\nProactive Guidance Dialogue (PGD) \u2022 Responsibility: PGD proactively guides dialogue, helps users alleviate emotions, and encourages openness. It utilizes RAG functionality to access the database (The database contains knowledge documents, the user's most recent emotional state, historical assessment data, and past suicidal tendencies).\n\u2022 Prompt Design: The prompt primarily defines the LLM's role as an expert, patiently discovering users' mental health needs and actively guiding topics to encourage users to express themselves and open up.\nPreliminary Mental Health Assessment (PMH-A) \u2022 Responsibility: PMH-A evaluates user-submitted assessment documents or conducts dialogue-based assessments in the current conversation window. Based on the defined assessment prompts, utilize the Patient Health Questionnaire-8"}, {"title": "B.3 Design of Assistant Level Workflow", "content": "\u2022 Responsibility: Create personalized reports for users to download and keep as records, or they can submit these to mental health professionals to provide pre-screening information and historical records.\n\u2022 Prompt Design: The prompt primarily defines the LLM's role as a summarizer and advisor, tasked with generating a comprehensive report based on users' recent assessment results, dialogue history, and current status."}, {"title": "C Example of Data", "content": "Case Study Dataset Example: Content: A 37-year-old white male infantryman stationed in Iraq arrived at a field hospital complaining that his superior officer placed poisonous ants in his helmet. His face is covered with excoriations from persistent scratching. On further examination, he is stuporous and has mildly slurred speech, tremor, and mint odor to his breath. Later his troop leader mentioned that his Humvee was littered with empty bottles of mouthwash and that the man has been reprimanded for falling asleep at his post. After a night of rest, he discussed his excessive use of mouthwash in place of alcohol, which is the only available form of alcohol in Iraq.\nConclusion: The individual in the provided case study exhibits symptoms consistent with delusions of persecution (believing his superior officer placed"}, {"title": "D Appendix: KIS Example", "content": ""}, {"title": "D.1 KIS Summary", "content": "**Demographics**: The participant is from Los Angeles, currently living in West Los Angeles.\n**Health History**: There is no mention of significant physical health issues. The participant has not been diagnosed with depression or PTSD and has not served in the military.\n**Mental Health Status**: The participant expresses a generally stable emotional state, with no high highs or low lows. They mention being generally happy and content with daily achievements. However, they also express frustration with people who provoke them and a desire to handle stress and temper better.\n**Coping Mechanisms**: The participant engages in physical activities like running and going to the gym to relax. They also enjoy music and spending time in creative environments, which suggests a healthy approach to stress management.\n**Risk Factors**: The participant indicates some frustration with their current job situation and the general pressures of living in a competitive city like Los Angeles. They also show sensitivity to provocation by others, which can be a source of stress.\n**Major Health Concerns**: The main concerns are related to stress management and emotional regulation, particularly in response to provocation.\n**Treatment History**: There is no mention of any ongoing or past mental health treatments.\n**Immediate Help**: There is no indication that immediate help or intervention is necessary based on the conversation.\n**Conversation Context**: The conversation appears to be a structured interview or assessment, possibly in a therapeutic or research setting, aimed at understanding the participant's lifestyle and mental state."}, {"title": "D.2 KIS Extracting", "content": "Demographics: from Los Angeles, lives in West Los Angeles, studied business, works as an administrative assistant through a temp agency\nHistory: NA\nPositive Indicator: \"I'm doing good thank you\", \"I love it I'm from here\", \"I'm pretty close [to my family]\", \"I'm usually pretty I feel like I'm a level person and I'm pretty happy\"\nNegative Indicator: \"the traffic is horrible\", \"I feel like I could do more\", \"stupid people just basically doing just doing anything to annoy me\", \"people provoking me\"\nCoping and Regulation: tries not to remember bad situations, tries not to let provocations get to him, likes to run, go to the gym, listen to music, spends time around musicians\nRisk Factors: lives alone, feels he could do more than his current job, experiences provocation from others, traffic stress\nMajor Concern: dissatisfaction with current job situation, dealing with provocation from others\nTreatment: NA\nImmediate Help: No\nConversation Type: formal interview\nSummary: The participant is a resident of West Los Angeles who has studied business and currently works as an administrative assistant through a temp agency. He enjoys the local weather and the vibrant city life, although he dislikes the traffic. He lives alone and values his close relationship with his family. His main recreational activities include running, going to the gym, and engaging with music and art. He expresses some dissatisfaction with his current job and has faced challenges with people provoking him, which he tries to manage by not dwelling on these incidents. He does"}, {"title": "E Appendix: Prompts", "content": "In this section, we showcase the prompts used in the paper for implementing various functions, along with the criteria prompts for scoring. More prompts, aimed at extracting historical information and supporting RAG and multi-agent processes, can be found in our supplementary code. It must be noted that while the prompts presented in the paper may not seem numerous or complex, the design and finalization of the prompts currently in use involved extensive experimentation and testing. Different models respond differently to the same prompt; some perform better with shorter prompts, while others excel with more detailed ones. Some models completely fail to support long prompts, possibly limited by the available context, showing a trend where longer inputs result in poorer performance. Others are highly sensitive to the input, displaying a tendency to refuse making decisions when faced with even slightly uncertain information. Therefore, although we have displayed the prompts we used in the appendix, they are not universally applicable across different models."}, {"title": "F Appendix: Prompts", "content": "In this section, we showcase the prompts used in the paper for implementing various functions, along with the criteria prompts for scoring. More prompts, aimed at extracting historical information and supporting RAG and multi-agent processes, can be found in our supplementary code. It must be noted that while the prompts presented in the paper may not seem numerous or complex, the design and finalization of the prompts currently in use involved extensive experimentation and testing. Different models respond differently to the same prompt; some perform better with shorter prompts, while others excel with more detailed ones. Some models completely fail to support long prompts, possibly limited by the available context, showing a trend where longer inputs result in poorer performance. Others are highly sensitive to the input, displaying a tendency to refuse making decisions when faced with even slightly uncertain information. Therefore, although we have displayed the prompts we used in the appendix, they are not universally applicable across different models."}]}