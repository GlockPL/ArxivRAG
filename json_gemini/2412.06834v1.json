{"title": "Investigating social alignment via mirroring in a system of interacting language models", "authors": ["Harvey McGuinness", "Tianyu Wang", "Carey E. Priebe", "Hayden Helm"], "abstract": "Alignment is a social phenomenon wherein individuals share a common goal or perspective. Mirroring, or mimicking the behaviors and opinions of another individual, is one mechanism by which individuals can become aligned. Large scale investigations of the effect of mirroring on alignment have been limited due to the scalability of traditional experimental designs in sociology. In this paper, we introduce a simple computational framework that enables studying the effect of mirroring behavior on alignment in multi-agent systems. We simulate systems of interacting large language models in this framework and characterize overall system behavior and alignment with quantitative measures of agent dynamics. We find that system behavior is strongly influenced by the range of communication of each agent and that these effects are exacerbated by increased rates of mirroring. We discuss the observed simulated system behavior in the context of known human social dynamics.\n\nA key phenomenon underlying the formation of human groups is social alignment (Ransom et al., 2019). This phenomenon, through which individuals adopt the behaviors of the individuals they interact with, has been shown to support the creation of social relationships through the promotion of positive commonality (Burton-Jones et al., 2020). In short, like attracts like, and it is through social alignment that individuals behave more alike one another in order to foster cohesive relationships.\n\nOne of the most direct mechanisms to achieve social alignment is social mirroring (Hasson and Frith, 2016). This occurs primarily subconsciously, as individuals will mimic (or mirror) the facial expressions, posture, mannerisms, and other behaviors of those with whom they interact (Tun\u00e7-gen\u00e7 et al., 2022). However, social mirroring is not limited to physical mimicry, as it can also include a more complete degree of copying wherein individuals parrot speech patterns, opinions, and perspectives of those they are mirroring to appear maximally agreeable (Byrne, 2005).\n\nWhile social mirroring has been studied extensively in small group conditions \u2013 primarily with respect to one-on-one interacting pairs (Gallotti et al., 2017) \u2013 little research has been done exploring its system-level consequences, primarily due to the infeasibility of large-scale experiments. Instead, system-level social science research has been predominantly concerned with the broad consequences of social alignment in group performance once a group has already been established (Ledgerwood and Wang, 2018), rather than the decentralized processes from which those groups can emerge.\n\nPrevious theoretical work exploring foundational human social behaviors has been conducted through either purely mathematical means such as the long-tested voter model of population dynamics (Redner, 2019) or via overly simple computational frameworks (Yang et al., 2021). While these approaches can produce excellent insights into the general social dynamics of a population, recent advances in machine learning techniques have enabled explorations of classic economic, psycholinguistic, and social psychology experiments. For example, the recent cohort of Large Language Models (LLMs), such as OpenAI's GPT4, are able to replicate the Ultimatum Game, Garden Path Sentences, and Milgram Shock Experiment (Aher et al., 2023).\n\nAlthough recent LLMs are able to generate human-like outputs (Webb et al., 2023; Helm et al., 2023) and replicate classic experiments without explicit training (see, e.g., (Webb et al., 2023)), human-like behavior is not sufficient to model individuals in a social system. Indeed, it is necessary to have generative variation across agents that effectively mimics cognitive differences across people. Prior research has shown that retrieval augmented generation (\u201cRAG\") improves the performance of LLMs by allowing them to retrieve documents that are relevant to a query from a domain-specific or knowledge-intensive database (Gao et al., 2024). For social experiments, a RAG database can be considered the knowledge base or memory of an individual in the social system: the LLM will generate responses based on the combination of its pre-training data and the RAG database, just as people express their thoughts based on a history of previous experiences and the current environmental context. Previous work studying LLM agents, such as (Park et al., 2023), have shown that pairing a single LLM with a RAG database-per-individual can effectively promote generation diversity.\n\nIn this paper we present a computational framework to study the macroscopic effects of social alignment through social mirroring. Our framework is parameterized by important characteristics of interactions in a social system, such as the likelihood of an individual being mirrored and the range of individuals with whom someone may interact. The framework is general to collections of agents that have the capacity to exchange information, though our analysis focuses on systems of interacting LLMs due to their ability to exchange information in natural language at a human-like capacity.\n\nWe first introduce our experiment of interacting LLMs to study the effect of mirroring on social alignment in detail. We then present and discuss the results before interpreting them from the perspective of comparable social science case studies.", "sections": [{"title": "1 Experimental Design", "content": "We let $A_1,..., A_n$ be n agents. Each agent is Meta's LLAMA-2-7B-Chat (Touvron et al., 2023) equipped with a different external database. As mentioned above, the external databases are a proxy for different knowledge bases and memories of individuals in a community. In our experiment, each database contains sentences about flowers. These sentences are randomly sampled from a collection of sentences originally generated by prompting ChatGPT with \u201cProvide many sentences about various kinds of flowers.\".\n\nWe simplify the set of possible sequences of social interactions by only allowing agent interactions at discrete time steps $t = 1, . . ., T$. The experimental protocol is composed of a measurement step and an interaction step:\n\n\u2022 (Measurement Step) At each time t, we ask each agent to describe the prettiest flower in a single sentence based on its database. We denote the answer as $B_i^{(t)}$ ($i = 1, ..., n; t = 0, ..., T$). The answers will be used to measure agent alignment.\n\nWe use the open source embedding model nomic-embed-v1.5 (Nussbaum et al., 2024) to quantitatively measure differences amongst the $B_i^{(t)}$. The embedding model maps each sentence $B_i^{(t)}$ to a vector $X_i^{(t)} \\in R^{768}$. A smaller distance between $X_i^{(t)}$ and $X_{i'}^{(t)}$ means that $B_i^{(t)}$ and $B_{i'}^{(t)}$ are more semantically similar and, hence, more aligned. We capture the pairwise alignment with $D^{(t)}$:\n\n$(D^{(t)})_{ij} := ||X_i^{(t)} \u2013 X_j^{(t)} ||_2,$\n\nwhere $|| \\cdot ||_2$ denotes the vector $l_2$-norm.\n\nWe note that sentences can be different in many aspects. For example, the sentences \"The prettiest flower is rose because roses come in a vast range of colors\" and \"The prettiest flower is lily because lilies come in a vast range of colors\" are different because they are about two types of flowers. The first sentence is also different from \"The prettiest flower is rose because its layered petals spiral in a graceful design\" because they describe different properties of roses.\n\n\u2022 (Interaction Step) At each time $t > 0$, we update each agent's database based on their interaction with another agent. The agents in which agent $A_i$ can communicate with is determined by its k-nearest neighbors (says $D^{(t)}$). In particular, $A_i$ will interact with exactly one of its nearest neighbors. Given that $A_j$ is in $A_i$'s nearest neighbors, the probability that $A_i$ interacts with $A_j$ is 1/k. The type of interaction that $A_i$ has with $A_j$ is determined as follows:\n\n\u2013 With probability p (constant for all agents), agent $A_j$ mirrors $A_i$. Functionally, this means $A_i$ \u201cupdates\" itself with its own answer $B_i^{(t)}$. This update function serves to model agent $A_j$'s social alignment to $A_i$ (Hasson and Frith, 2016).\n\n\u2013 With probability 1 \u2013 p, $A_j$ does not mirror $A_i$ and, instead, responds with $B_i^{(t)}$. $A_i$ is then updated with $B_i^{(t)}$. This update function is a model of basic information exchange wherein individuals communicate without copying behavior (or, do not align) before responding."}, {"title": "2 Results", "content": "Before discussing the effects of p and k on the evolution of the system, we first highlight three patterns of silos that we observed from our experiment: I) \"Stable silos\", II) \u201cUnstable silos\", and III) \"Decaying silos\". We characterize Patterns I-III via the number of silos at t, $S(t)$, and $E(t):$"}, {"title": "2.1 Observed silo patterns", "content": "I. A system has stable silos if, after some $t^* > 0$, the number of silos is constant, $E(t)$ is constant, and $S'(t) = 1$. A system with stable silos is in a steady state.\n\nII. A system has unstable silos if, after some $t^* > 0$, the number of silos is constant, $E(t)$ is approximately constant, and $S(t) < 1$. A system with unstable silos is in a steady state.\n\nIII. A system has decaying silos if $\\underset{t}{min}(argmin \\ E(t)) < \\frac{T}{m}$ for a suitably chosen m. That is, the system is decaying if the first time the system entropy achieves its minimum is within m steps from the end of the system's evolution. In our experiment T = 80 and we chose m = T/10 = 8. A system with decaying silos is not in a steady state.\n\nWe also observed systems that converge into a single silo. We refer to these systems as \u201cOne silo\" systems and note that they are in a steady state. Systems observed to have Pattern III will eventually decay into a system with stable silos, unstable silos, or a single silo. Further, while different subsystems within a system may exhibit different (un)stability or decay, we classify the systems using the number of silos, entropy, and stability of the entire system."}, {"title": "2.2 The effects of p and k", "content": "Figure 3 shows the evolution of systems of n = 30 agents for nine different settings of agent behaviors (i.e., p and k). Overall, when the agents' range of communication is small we observe stable silos; when k/n \u2248 0.5 and p is small we observe one silo; and when k \u2192 n we observe unstable or decaying silos. Further, when the likelihood of interacting with a mirroring agent is small, systems converge quickly; when p is large, systems stay in transient states for longer.\n\nWe explore the relationship between system type and number of silos at T = 80 in more detail in Figures 4 and 5, where each dot corresponds to an entire system. In particular, for each setting of agent behavior we consider 8 different random agent initializations and label each system according to the observed system behavior up to T = 80. We include a line representing the average number of observed silos at T = 80 to help emphasize the effects of p and k.\n\nFigure 4 shows the relationship of silo count and k for various p. As observed in Figure 3, when k is small the systems typically contain stable silos. For k/n \u2248 0.5 systems typically contain a single silo. For k/n > 0.5, systems are more likely to contain unstable silos or decaying silos as k increases, though this effect is dependent on p.\n\nOur results suggest that the range of communication of the agents acts as a moderating pressure on the number of supportable silos: when the range is partially restrictive the agents are able to form a consensus, when the range is too restrictive or too loose the system experiences population polarization or multi-silo instability, respectively. As a consequence, fractured systems will remain fractured in settings where agents have a restricted communication range and multiple unstable silos are likely to persist in settings where agents have a nearly unbounded range of communication.\n\nIn Figure 5, we investigate the relationship of silo count and p for various k. For small k, p does not appear to have a large impact on the number of silos observed at T = 80. For k/n close to one, however, p has a clear effect on the number of silos. As p increases the expected number of silos increases. Further, these silos are typically unstable or decaying.\n\nThe splintering of high-p, high-k populations is primarily due to the increase in time which a high-p population requires to converge. In particular, when the majority of interactions are instances of a mirroring interaction, there is little opportunity for actual information to be shared. Thus, agents are more likely to remain isolated in their own perspective bubble for a longer amount of time \u2013 with only the off-chance that basic interactions serving to collapse perspective bubbles into multi-agent silos - resulting in few instances where a concensus across the entire population is reached by T = 80. We note that when p = 1, the number of silos is equal to the number of flower IDs present in the initial conditions, as the opportunity for an informative interaction has been completely replaced by mirroring interactions."}, {"title": "3 Discussion", "content": "In Section 2.2.1 we introduced a system classification based on the observed silo behavior in a system of interacting agents. In Section 2.2.2 we discussed the effects of the range of agent communication and of the likelihood of interacting with a mirroring agent on the number and type of silos observed at T = 80.\n\nOur results show that increasing the rates of social mirroring can have substantial impact on the group dynamics of a system of interacting agents. The effect is particularly pronounced in settings where the range of communication for each agent is suitably large. For settings where agents have more restricted communication, high rates of social mirroring have a minimal impact on the degree and type of group formation. We interpret these results as due to a perspective-filtering effect inherent to systems with local communication. Indeed, local communication settings are essentially high-mirroring settings since agents only interact with others similar to them. When p is large we observe multiple groups at T = 80, though the type of groups that arise depends on k.\n\nThe observed effect of p and k on the dynamics of the system has notable parallels with known behaviors of observed in social groups. For example, research investigating the role of information over-exposure in polarization has shown that populations exposed to increasing amounts of of information tend towards being more polarized (Xu et al., 2021; Levy and Razin, 2020). We observe similar behaviors in our simulated systems, particularly as the trend of group count decreasing as k increases reverses near the global communication limit, resulting in multiple unstable and/or decaying groups closely matching the observed behaviors in in populations inundated with vast amounts of information (Xu et al., 2021; Levy and Razin, 2020). Similarly, (Carlson and Knoester, 2011) and (Cinelli et al., 2021) discuss potential causes of the formation of physical and online echo chambers. Essentially, members in family-sized groups reinforce the opinions of fellow members. For physical groups, opinion is fortified based on pre-existing geographical proximity (Carlson and Knoester, 2011). For online echo chambers, members self-select based on their pre-existing opinions and thus are only ever subjected already-aligned people (Cinelli et al., 2021). Different parameter settings of our simulated system allow us to understand the effect of these behaviors when applied to every agent in the system \u2013 small k models opinions reinforced by geographical communication constrains and large p models opinions reinforced after self-selecting for interactions with agents with similar opinions. As seen in Figures 4 & 5 these settings lead to many small stable groups that are unable to achieve population consensus due to their isolation from alternative perspectives.\n\nFinally, recent studies explore the links between social media usage and value mirroring (Modgil et al., 2021) and detail the increasing rates of mirroring via self-censorship (Gibson and Sutherland, 2023). These studies suggest that group-membership prediction is an increasingly difficult task as people are unwilling to publicly break from perceived policy and social norms potentially providing a reason why polling accuracy has not increased despite the availability of more data on the electorate (Jennings and Wlezien, 2018). Indeed, the results from our simulated systems suggest that high rates of social mirroring could cause poor estimation of support for a particular candidate or piece of legislation since systems with large p are more likely to have multiple unstable or decaying silos at T = 80.\n\nOur research demonstrates that social mirroring serves as a modifier for the pre-existing trend dictated by the range of communication in a population. Overall, the range of interaction serves as a predictive variable with respect to the state of silos in a population \u2013 whether they are stable, unstable, or decaying, as well as the silo count. The frequency of social mirroring, however, distorts this base trend by exaggerating it as mirroring in-creases in frequency. A population experiencing global communication will likely have multiple unstable groups regardless of p, but the magnitude of silo splintering and the severity of instability will be shaped significantly by p."}, {"title": "4 Future Work", "content": "Our framework enables simple and interpretable investigation of the effect of the range of agent communication and the likelihood of interacting with a mirroring agent on group dynamics and social alignment. With that said, there are many interesting directions for follow-on work.\n\nFor example, we limited our analysis to systems with n = 30 agents. While 30 agents is large enough for relatively complicated group dynamics to emerge, simulating larger systems will allow us to draw parallels to the dynamics observed in human systems more easily. Similarly, we focused on system classification at T = 80. The classification of a system will depend on the choice of T, as seen in Figure 6 where we observe unstable silos at t = 80 and a single silo for t > 110. Extending our work to longitudinal analysis (i.e., across various T) of the systems may be necessary to fully understand group dynamics.\n\nFurther, our framework can be used to study the effect other social phenomena \u2013 such as miscommunication \u2013 on alignment by adjusting the update mechanism. Recall that in our analysis the database for each agent is updated to perfectly reflect its most recent interaction. We could introduce variably sized perturbations of the response from the most recent interaction to model different levels of agent miscommunication. Such analysis would provide insight into how repeated exposure to information may impact alignment."}]}