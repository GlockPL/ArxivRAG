[{"title": "Comparison of TransComplEx with StransE", "authors": ["Jiexing Gao", "Dmitry Rodin", "Vasily Motolygin", "Denis Zaytsev"], "abstract": "Knowledge Graph Embedding (KGE) is a popular approach, which aims to represent entities and\nrelations of a knowledge graph in latent spaces. Their representations are known as embeddings. To\nmeasure the plausibility of triplets, score functions are defined over embedding spaces. Despite wide\ndissemination of KGE in various tasks, KGE methods have limitations in reasoning abilities. In this\npaper we propose a mathematical framework to compare reasoning abilities of KGE methods. We\nshow that STransE has a higher capability than TransComplEx, and then present new STransCoRe\nmethod, which improves the STransE by combining it with the TransCoRe insights, which can\nreduce the STransE space complexity.", "sections": [{"title": "Introduction", "content": "A knowledge graph (KG) is a representation of a knowledge base (KB) by a multi-relational directed graph. Entities\nof the KB are represented by vertices of the KG, and links between entities are represented by edges. Knowledge bases\nare usually incomplete [13] due to missing or outdated data sources. There are several tasks related to the problem:\nknowledge graph completion (recovery of missing facts), knowledge graph correction (remove erroneous facts), link\nprediction (recovery of missing link, i.e., recovery a triplet head-relation-tail by given only two components), triplet\nclassification (identifying whether a triplet is a true fact), entity classification (recovery of missing entity attributes),\nrule extraction (inferring an inner logic of knowledge graph), entity resolution (find entities refering to the same\nreal-world object) and so on. To acquire the knowledge or remove incorrect facts, various KGE methods have been\nproposed. Comprehensive list of KGE methods has been available at https://github.com/ysxinguo/KGE. Some\nof them report inability of diverse methods to properly encode various relation patterns. Wang et al. [11] report\nthat TransE [2] cannot properly model reflexive/one-to-many/many-to-one/many-to-many relations, and introduce the\nTransH method to overcome these problems. However, they do not compare reasoning abilities of TransE and TransH\nin general. The same case with the RotatE [9] and the HAKE [14] methods.\nThe goal of this paper is to introduce a mathematical framework to compare reasoning abilities of KGE methods.\nThe remainder of this article is organised as follows. Related works are in Section 2. Later, we present the mathe-\nmatical apparatus for comparison of KGE methods in Section 3, which we apply in Section 4 to benchmarking the\nTransComplEx with the STransE. Subsequently, in Section 5 we introduce the STransCoRe method. We compare the\nSTransCoRe method with the the STransE method in Section 6. Theoretical results are visualized in Section 7. Finally,\nconclusion is given in Section 8."}, {"title": "Related Works", "content": "Prior to our work, KGE methods were compared by the following ways:"}, {"title": "Expressive Power", "content": "In this section we present definitions used throughout the paper and introduce a mathematical framework to compare\nKGE methods.\nDefinition 3.1 (Knowledge graph domain (KG domain)). Knowledge graph domain (KG domain) is a couple (E, R),\nwhere E is a set of entities, R is a the set of relations.\nDefinition 3.2 (Knowledge graph (KG)). Knowledge graph (KG) is a tuple $K = (E,R,T)$, where (E, R) is a KG\ndomain, and $T \\subseteq E \\times R \\times E$ is a set of triplets.\nDefinition 3.3 (n-space over R). We say, that X is an n-space over R, if there exists an injective computational\nfunction $I: X \\to \\mathbb{R}^n$. Informally, we want to represent each element of X by a structure consiststing of n real\nnumbers.\nDefinition 3.4 (Space over R). We say, that X is a space over R, if there exists $n \\in \\mathbb{N}$ such that X is an n-space over\nR. Informally, we want representations of all $x \\in X$ by a structure consiststing of equal number of reals.\nDefinition 3.5 (Dimension of space over R). We say, that the dimension of a space X over R is n if X is an n-space\nover R. The dimension of a X over R we denote by $dim_{\\mathbb{R}} X$. For a space X over R we will suppose that\n$dim_{\\mathbb{R}} X^k = k \\cdot dim_{\\mathbb{R}} X$\nDefinition 3.6 (Embedding model over knowledge graph domain). Embedding model M over a KG domain (E, R) is\na tuple $(\\mathcal{E}_\\mathcal{E},X, \\mathcal{E}_R,Y, F)$, where\n\u2022 $\\mathcal{E}_\\mathcal{E},X: E \\to X$ and $\\mathcal{E}_R,Y: R \\to Y$ are embeddings of the entities and relations, respectively.\n\u2022 X and Y are embedding spaces over $\\mathbb{R}$ for the sets E and R, respectively.\n\u2022 The function F, called score function of the model M, is a map of $X \\times Y \\times X$ to $\\mathbb{R}$. Without loss of generality\nwe assume, that its infimum is 0.\nThe function $f(h,r,t) = F(\\mathcal{E}_\\mathcal{E},X(h), \\mathcal{E}_R,Y(r), \\mathcal{E}_\\mathcal{E},X(t))$, defined on $E \\times R \\times E$, we call the scoring over triplets by\nthe model \u041c.\nDefinition 3.7 (Embedding model family over knowledge graph domain). The embedding model family F over a KG\ndomain (E, R) with basic embedding spaces X, Y over $\\mathbb{R}$ for the sets E and R, respectively, consists of all embedding\nmodels\n$\\{(\\mathcal{E}_\\mathcal{E}, X^m, \\mathcal{E}_R, Y^n, F^w) | m, n, w \\text{ are model parameters, } m, n \\in \\mathbb{N}\\}$.\nThe embedding model subfamily $F_{m,n}$ consists of all embedding models\n$\\{(\\mathcal{E}_\\mathcal{E}, X^m, \\mathcal{E}_R, Y^n, F^w) \\in \\mathcal{F} | w \\text{ are model parameters}\\}$."}, {"title": "Expressive Power", "content": "Example 3.8 (TransComplEx [6] embedding models). The TransComplEx embedding model family over a KG domain\n(E, R) consists of all models\n$(\\mathcal{E}_\\mathcal{E},Ca, \\mathcal{E}_R,Ca, F^w)$,\nparameterized by $d \\in \\mathbb{N}$ and $w = (w_1, w_2)$, where $w_1 \\in \\mathbb{C}^{d \\times |E|}, w_2 \\in \\mathbb{C}^{d \\times |R|}$. The functions $\\mathcal{E}_\\mathcal{E}, Ca, \\mathcal{E}_R, Ca$\nsuch that columns of $w_1$ and $w_2$ are entity and relation embedding coordinates, respectively. The score function\n$F^w: (\\mathbb{C}^d)^3 \\to \\mathbb{R}$ is defined as\n$F^w (x, y, z) = ||x + y - z||$.\nExample 3.9 (STransE [7] embedding models). The STransE embedding model family over a KG domain (E,R)\nconsists of all models\n$(\\mathcal{E}_\\mathcal{E}, \\mathbb{R}^k, \\mathcal{E}_R, \\mathbb{R}^k, F^w)$,\nparameterized by $k \\in \\mathbb{N}$ and $w = (w_1,w_2,w_3)$, where $w_1 \\in \\mathbb{R}^{k \\times |E|}, w_2 \\in \\mathbb{R}^{k \\times |R|}, w_3 \\in \\mathbb{R}^{k \\times k \\times 2|R|}$. As in\nthe example (3.8), the functions $\\mathcal{E}_\\mathcal{E}, \\mathbb{R}^k, \\mathcal{E}_R, \\mathbb{R}^k$ such that columns of $w_1$ and $w_2$ are entity and relation embedding\ncoordinates, respectively. The score function $F^w: (\\mathbb{R}^k)^3 \\to \\mathbb{R}$ is defined as\n$F^w (x, y, z) = ||W_1(y)x + y \u2013 W_2(y)z||$\nfor some mappings $W_1, W_2: \\mathbb{R}^k \\to \\mathbb{R}^{k \\times k}$ such that the tensor $w_3$ contains the matrices $W_2(y)$ and $W_1(y)$ for each\nrelational embedding y (i.e., each $y \\in Im\\mathcal{E}_R, \\mathbb{R}^k = \\{\\mathcal{E}_\\mathcal{E}, \\mathbb{R}^k(r)|r \\in R\\}$)\nIn further, we will need to compare embedding models and compare families of embedding models. We introduce the\ncorresponding definitions.\nDefinition 3.10 (Equally expressive models on KG domain). We will say, that embedding models $M_1$ and $M_2$ over a\nKG domain (E, R) with scorings $f_1$ and $f_2$ over triplets, respectively, are equally expressive, and write\n$M_1 \\sim M_2$\nif for each $h, t, h',t' \\in E, r,r' \\in R$ the following conditions are satisfied:\n$f_1(h,r,t) < f_1(h',r',t') \\leftrightarrow f_2(h,r,t) < f_2(h',r',t')$,\n$f_1(h,r,t) = 0 \\Leftrightarrow f_2(h, r, t) = 0$.\nRemark 3.11. It turns out, that $M_1 \\sim M_2$ iff $M_1$ expressed by $M_2$ (and, symmetrically, $M_2$ expressed by $M_1$).\nInformally, \"the model $M_1$ expressed by the model $M_2$\u201d means that for each triplet (h, r, t) if the model $M_1$ evaluates\nthat (h, r,t) is positive, then the model $M_2$ evaluates that (h,r,t) is positive too, and if the model $M_1$ evaluates that\n(h, r, t) is negative, then the model $M_2$ evaluates that (h, r, t) is negative too. For more details, see the definition (3.19)\nand the theorem (3.20).\nBased on this observation, we can compare families of embedding models.\nDefinition 3.12 (Generally expressed by). Let $\\mathcal{F}_1, \\mathcal{F}_2$ be embedding model families over a KG domain (E, R). We say,\nthat $\\mathcal{F}_1$ is generally expressed by $\\mathcal{F}_2$, if for each $\\mathcal{F}_1$\u2013family embedding model M' there exists an $\\mathcal{F}_2$-family embedding\nmodel M\" such that M' ~ \u041c\".\nDefinition 3.13 (Dimensionally expressed by). Let $\\mathcal{F}_1, \\mathcal{F}_2$ be embedding model families over a KG domain (E, R).\nWe say, that $\\mathcal{F}_1$ is dimensionally expressed by $\\mathcal{F}_2$, if for each $\\mathcal{F}_1$\u2013family embedding model M' = $(\\mathcal{E}'_\\mathcal{E},X^1, \\mathcal{E}'_R,Y^1, F')$\nthere exists an $\\mathcal{F}_2$\u2013family embedding model M\" = $(\\mathcal{E}'_\\mathcal{E},X^", "mathcal{E}'_R,X^": "F\")$ such that M' ~ M\", $dim_{\\mathbb{R}} X' = dim_{\\mathbb{R}} X", "Y": ".", "3.13)": "nProposition 3.14. Let $\\mathcal{F}_1, \\mathcal{F}_2$ be embedding model families over a KG domain (E,R). If $\\mathcal{F}_1$ is dimensionally ex-\npressed by $\\mathcal{F}_2$, then $\\mathcal{F}_1$ is generally expressed by $\\mathcal{F}_2$.\nThe statement \"$\\mathcal{F}_1$ is generally/dimensionally expressed by $\\mathcal{F}_2$\u201d means that each model in $\\mathcal{F}_1$ has an equally expressive\nmodel in $\\mathcal{F}_2$. We are concerned with the following question: is there a model in $\\mathcal{F}_2$ that has no equally expressive\nmodels in $\\mathcal{F}_1$? We introduce the denotations $\\mathcal{F}_1 \\not{g} \\mathcal{F}_2$, $\\mathcal{F}_1 \\not{d} \\mathcal{F}_2$, if the answer is yes, and $\\mathcal{F}_1 =g \\mathcal{F}_2$, $\\mathcal{F}_1 =d \\mathcal{F}_2$, if\nthe answer is no.\nDefinition 3.15 (Equal general expressive power). Let $\\mathcal{F}_1, \\mathcal{F}_2$ be embedding model families over a KG domain (E,R).\nWe say, that the general expressive power of $\\mathcal{F}_1$ equals the general expressive power of $\\mathcal{F}_2$, if both $\\mathcal{F}_1$ and $\\mathcal{F}_2$ are\ngenerally expressed by each other. We will write $\\mathcal{F}_1 =g \\mathcal{F}_2$."}, {"title": "Expressive Power", "content": "Definition 3.16 (Equal dimensional expressive power). Let $\\mathcal{F}_1, \\mathcal{F}_2$ be embedding model families over a KG domain\n(E,R). We say, that the dimensional expressive power of $\\mathcal{F}_1$ equals the dimensional expressive power of $\\mathcal{F}_2$, if both\n$\\mathcal{F}_1$ and $\\mathcal{F}_2$ are dimensionally expressed by each other. We will write $\\mathcal{F}_1 =d \\mathcal{F}_2$.\nDefinition 3.17 (Less expressive power). Let $\\mathcal{F}_1, \\mathcal{F}_2$ be embedding model families over a KG domain (E,R). We say,\nthat the general expressive power of $\\mathcal{F}_1$ is less than the general expressive power of $\\mathcal{F}_2$, if $\\mathcal{F}_1$ is generally expressed\nby $\\mathcal{F}_2$, but $\\mathcal{F}_2$ is not generally expressed by $\\mathcal{F}_1$. We will write $\\mathcal{F}_1 \\lt g \\mathcal{F}_2$.\nDefinition 3.18 (Less dimensional expressive power). Let $\\mathcal{F}_1, \\mathcal{F}_2$ be embedding model families over a KG domain\n(E, R). We say, that the dimensional expressive power of $\\mathcal{F}_1$ is less than the dimensional expressive power of $\\mathcal{F}_2$, if\n$\\mathcal{F}_1$ is dimensionally expressed by $\\mathcal{F}_2$, but $\\mathcal{F}_2$ is not dimensionally expressed by $\\mathcal{F}_1$. We will write $\\mathcal{F}_1 \\lt d \\mathcal{F}_2$.\nNow we explain the denotation $M_1 \\sim M_2$ in more details. Let us consider three approaches to define positive and\nnegative triplets by the score function f of an embedding model M over a KG domain (E, R):\nApproach 1. Let be given $\\Gamma > \\gamma > 0$. We call a triplet (h, r, t) positive if $f(h,r,t) \\leq \\gamma$. We call a triplet (h, r,t)\nnegative if $f (h, r,t) > \\Gamma$.\nApproach 2. Let be given $\\Gamma > \\gamma > 0$. We call a triplet (h,r,t) positive if $f(h,r,t) = \\gamma$. We call a triplet (h, r,t)\nnegative if $f (h, r, t) \\geq \\Gamma$.\nApproach 3. Let be given $\\Gamma > \\gamma = 0$. We call a triplet (h, r, t) positive if $f(h,r,t) = \\gamma$. We call a triplet (h, r,t)\nnegative if $f (h, r, t) \\geq \\Gamma$.\nDefinition 3.19 (Expressed by, Models). Let $M_1, M_2$ be embedding models over a KG domain (E,R). We say that\n$M_1$ is expressed by $M_2$, if for each approach A from the list (1)\u2013(3) and for each margins $\\gamma_1, \\Gamma_1$ of the model $M_1$ there\nare margins $\\gamma_2, \\Gamma_2$ of the model $M_2$ such that for every triplet (h, r,t) the models $M_1$ and $M_2$ identically evaluate\nwhether (h, r, t) is positive or negative.\nWe will prove the following theorem on equal expresiveness of models.\nTheorem 3.20. Let $M_1, M_2$ be embedding models over a KG domain (E,R). Then the following statements are\nequivalent:\n1. $M_1$ and $M_2$ are equally expressive\n2. $M_1$ is expressed by $M_2$\n3. $M_2$ is expressed by $M_1$\nProof. In the lemma (3.21) we will prove that if $M_1 \\sim M_2$, then $M_1$ is expressed by $M_2$. In the lemma (3.22) we will\nprove that if $M_1$ is expressed by $M_2$, then $M_1 \\sim M_2$. Next, since the conditions (10) and (11) are symmetric with\nrespect to $M_1$ and $M_2$, we will conclude that $M_1 \\sim M_2$ iff $M_2$ is expressed by $M_1$.\nLemma 3.21. Let $M_1, M_2$ be embedding models over a KG domain (E, R) such that $M_1 \\sim M_2$. Then $M_1$ is expressed\nby $M_2$.\nProof. Choose one of the approaches (1)-(3). We denote the choosen approach by A. Let $f_1$ and $f_2$ be the scorings\nover triplets by the model $M_1$ and $M_2$, respectively. Let be given margins $\\gamma_1, \\Gamma_1$ for the model $M_1$. Construct margins\n$\\gamma_2, \\Gamma_2$ for the model $M_2$ such way that for each triplet (h, r, t) the models $M_1$ and $M_2$ identically evaluate whether\n(h, r, t) is positive or negative.\nLet $T_0 = E \\times R \\times E$ be the set of all triplets. Let P and N be the sets of all triplets, evaluated by the model $M_1$ as\npositive and negative, respectively. The approaches (1)\u2013(3) define the negative set as\n$N = \\{(h, r,t)|f_1(h, r, t) \\geq \\Gamma_1\\}$,\nConsider the values\n$a = \\{\\begin{array}{ll} \\max\\limits_{(h,r,t) \\not\\in N} f_2(h, r,t), & \\text{if } N \\neq T_0 \\\\ 0, & \\text{if } N = T_0, \\end{array}$\n$b = \\{\\begin{array}{ll} \\min\\limits_{(h,r,t) \\in N} f_2(h, r,t), & \\text{if } N \\neq \\emptyset \\\\ +\\infty, & \\text{if } N = \\emptyset \\end{array}$\nLet us show that\n$a<b$"}, {"title": "Expressive Power", "content": "and\nfor each $\\Gamma_2 \\in (a, b]$.\n$N = \\{(h,r,t)|f_2(h, r,t) \\geq \\Gamma_2\\}$\nIndeed, the inequality (15) is obvious for $N \\in \\{\\emptyset, T_0\\}$. We prove it, while $N \\not\\in \\{\\emptyset, T_0\\}$. By the definition of the\nmargin $\\Gamma_1$ for each $(h, r,t) \\not\\in N$ and $(h', r',t') \\in N$ we have\n$f_1(h, r,t) < \\Gamma_1 \\leq f_1(h',r',t')$.\nThe condition (10) implies\n$f_2(h,r,t) < f_2(h',r',t')$.\nThen the construction of a and b yields\n$a = \\max\\limits_{(h,r,t) \\not\\in N} f_2(h,r,t) < \\min\\limits_{(h',r',t') \\in N} f_2(h', r',t') = b$.\nThe property (16) can be deduced from the following observations:\n\u2022 if $(h, r,t) \\in N$, then $f_2(h, r, t) > b \\geq \\Gamma_2$\n\u2022 if $(h, r, t) \\not\\in N$, then $f_2(h, r, t) < a < \\Gamma_2$\nNow with (15) and (16) we can take arbitrary\n$\\Gamma_2 \\in (a, b]$\nand construct $\\gamma_2$ for the approaches (1)-(3).\n1. Proof for the case, where A is the approach (1). Consider the values\n$c = \\{\\begin{array}{ll} \\max\\limits_{(h,r,t) \\in P} f_2(h, r,t), & \\text{if } P \\neq \\emptyset \\\\ 0, & \\text{if } P = \\emptyset, \\end{array}$\n$d = \\{\\begin{array}{ll} \\min\\limits_{(h,r,t) \\not\\in P} f_2(h, r, t), & \\text{if } P \\neq T_0 \\\\ +\\infty, & \\text{if } P = T_0 \\end{array}$\nLet us show that\n$c < \\Gamma_2$\nIndeed, $c < a$. It is obvious for $P = \\emptyset$. If $P \\neq \\emptyset$, then $N \\neq T_0$. In this case, since $P \\subseteq T_0 \\setminus N$, we have\n$c \\leq a$ by the definition of a and c. Since $\\Gamma_2 > a$, we have the inequality (23).\nNow, similarly to the inequality (15) and the property (16) we can prove that\n$c<d$\nand\n$P = \\{(h, r,t)|f_2(h, r,t) \\leq \\gamma_2\\}$\nfor each $\\gamma_2 \\in (c, d]$.\nThe approach (1) requires $\\gamma_2 < \\Gamma_2$. The property (25) is satisfied for each $\\gamma_2$ from the interval\n$(c, \\min\\{d, \\Gamma_2\\})$. The inequalities (23) and (24) imply that this interval is non-empty. Since $\\gamma_2 > c > 0$,\nproof for the approach (1) is completed.\n2. Proof for the case, where A is the approach (2). The positive set P is defined as\n$P = \\{(h,r,t)|f_1(h, r,t) = \\gamma_1\\}$.\nNow $\\gamma_2$ depends on the emptiness of P. Consider the following cases:\n(a) Let $P \\neq \\emptyset$. Let $(h', r', t') \\in P$, then\n$P = \\{(h, r,t)|f_1(h,r,t) = f_1(h',r',t')\\}$.\nWith the condition (10) we have\n$P = \\{(h, r,t)|f_2(h,r,t) = f_2(h',r',t')\\}$.\nLet $\\gamma_2 = f_2(h', r', t')$. The condition (11) implies $\\gamma_2 > 0$. Note that $\\gamma_2 \\leq a$ by the definition of a,\nbecause $P \\subset T_0 \\setminus N$ and $N \\neq T_0$. Then since $\\Gamma_2 > a$, we have $\\gamma_2 < \\Gamma_2$."}, {"title": "Expressive Power", "content": "(b) Let $P = \\emptyset$. Since $\\Gamma_2 > a > 0$, we can take $\\gamma_2$ such that\n$0 < \\gamma_2 < \\Gamma_2$ and $\\gamma_2 \\not\\in \\{f_2(h,r,t) | (h, r,t) \\in T_0\\}$\nThen the set\n$\\{(h, r,t)|f_2(h, r,t) = \\gamma_2\\}$\nis empty.\nProof for the approach (2) is completed.\n3. Proof for the case, where A is the approach (3). The positive set P is defined as\n$P = \\{(h, r,t)|f_1(h, r,t) = 0\\}$.\nThe condition (11) yields\n$P = \\{(h,r,t)|f_2(h,r,t) = 0\\}$.\nSince $\\Gamma_2 > a \\geq 0$, proof for the approach (3) is completed.\nBy the given margins $\\gamma_1, \\Gamma_1$ for the model $M_1$ we constructed margins $\\gamma_2, \\Gamma_2$ for the model $M_2$ such that for each\ntriplet (h, r, t) the models $M_1$ and $M_2$ identically evaluate whether (h, r, t) is positive or negative.\nLemma 3.22. Let $M_1, M_2$ be embedding models over a KG domain (E,R) such that $M_1 \\not\\sim M_2$. Then $M_1$ is not\nexpressed by $M_2$.\nProof. Let $f_1$ and $f_2$ be the scorings over triplets by the model $M_1$ and $M_2$, respectively. Since $M_1 \\not\\sim M_2$, the\nnegation of the condition (10) is equivalent to the following statement: there are $h, t, h', t' \\in E, r, r' \\in R$ such that\n$f_1(h,r,t) < f_1(h', r', t') \\text{ and } f_2(h,r,t) \\geq f_2(h',r',t')$,\nor\n$f_1(h,r,t) = f_1(h', r', t') \\text{ and } f_2(h, r,t) \\neq f_2(h',r',t')$.\nThe negation of the condition (11) is equivalent to the following statement: there are $h, t \\in E, r \\in R$ such that\n$f_1(h, r,t) = 0 \\text{ and } f_2(h, r,t) \\neq 0$\nor\n$f_2(h, r,t) = 0 \\text{ and } f_1(h, r, t) \\neq 0$.\nConsider the statement (33). Take the approach (1) and margins $\\gamma_1, \\Gamma_1$ such that\n$f_1(h,r,t) < \\gamma_1 < \\Gamma_1 < f_1(h',r', t').$\nThen the model $M_1$ evaluates the triplets (h, r, t) and (h',r', t') as positive and negative, respectively. But for each\nmargins $\\gamma_2, \\Gamma_2$ the model $M_2$ cannot evaluate the triplets (h, r, t) and (h', r', t') as positive and negative, respectively.\nIndeed, otherwise we have\n$f_2(h,r,t) < \\gamma_2 < \\Gamma_2 \\leq f_2(h',r', t')$.\nContradiction with the statement (33).\nConsider the statement (34). Let\n$\\gamma_1 = f_1(h, r,t) = f_1(h', r',t')$,\nand $\\Gamma_1 > \\gamma_1$. Take the approach (3) if $\\gamma_1 = 0$, and take the approach (2) otherwise. Then the model $M_1$ evaluates\nboth the triplets (h,r,t) and (h',r', t') as positive. But for each margins $\\gamma_2, \\Gamma_2$ the model $M_2$ cannot evaluate both\nthe triplets (h, r, t) and (h', r', t') as positive, because\n$f_2(h,r,t) \\neq f_2(h',r',t')$.\nConsider the statement (35). Take the approach (3). Then the model $M_1$ evaluates the triplet (h, r, t) as positive. Since\n$f_2(h, r, t) \\neq 0$, the model $M_2$ cannot evaluate the triplet (h, r, t) as positive.\nConsider the statement (36). Take the approach (3). Let\n$\\Gamma_2 = \\frac{f_1(h, r, t)}{2}$\nThen the model $M_1$ evaluates the triplet (h, r, t) as negative. But the model $M_2$ evaluates the triplet (h, r, t) as positive,\nbecause $f_2(h, r,t) = 0$."}, {"title": "Comparison of TransComplEx with StransE", "content": "Theorem 4.1. TransComplEx has lower general expressive power and dimensional expressive power than STransE", "statement": "for each $k \\in \\mathbb{N"}, "there is a model $M \\in \\text{STransE}_{k,k}$ that has no equally expressive models in\nTransComplEx. Then the proposition (3.14) yields that STransE is not dimensionally expressed by TransComplEx.\nFor the first part of proof take arbitrary TransComplEx embedding model M' = $(\\mathcal{E}'_\\mathcal{E},Ca, \\mathcal{E}'_R,Ca, F')$ (see the exam-\nple (3.8)).\nWe can write the score function F' by the following way:\n$F'(x, y, z) = || Re x * Im x + Re y * Im y \u2013 W(Re z * Im z)||$,\nwhere * is the concatenation operator, $W \\in \\mathbb{R}^{2d \\times 2d}$ is the diagonal matrix with first d diagonal elements equal 1 and\nthe other equal -1.\nRewrite it as the function F\": $(\\mathbb{R}^{2d})^3 \\to \\mathbb{R}$:\n$F\" (x, y, z) = ||x + y \u2013 Wz||$.\nDefine mappings $\\mathcal{E}_\\mathcal{E}, \\mathbb{R}^{2d}: E \\to \\mathbb{R}^{2d}$ and $\\mathcal{E}_R, \\mathbb{R}^{2d}: R \\to \\mathbb{R}^{2d}$ by the following way:\n$\\mathcal{E}_\\mathcal{E}, \\mathbb{R}^{2d} (e) = Re[\\mathcal{E}'_\\mathcal{E},Ca(e)] * Im[\\mathcal{E}'_\\mathcal{E},Ca (e)]$ for each $e \\in E$\nand\n$\\mathcal{E}'_R, \\mathbb{R}^{2d} (r) = Re[\\mathcal{E}'_R,Ca(r)] * Im[\\mathcal{E}'_R,Ca (r)]$ for each $r \\in R$.\nWe constructed an STransE embedding model M\" = $(\\mathcal{E}\"_\\mathcal{E}, \\mathbb{R}^{2d}, \\mathcal{E}'_R, \\mathbb{R}^{2d}, F\")$ (see the example 3.9). The conditions (10)\nand (11) for the models M' and M\" with the scorings f' and f\" over triplets, respectively, are satisfied, because\n$f' = f\"$.\nThe first part of the proof is done. Now we will prove the second part.\nFix```json\n{\n      \"title\": \"Comparison of TransComplEx with StransE\",\n      \"content\":", "some $k \\in \\mathbb{N}$.\nLet W' \u2208 Rkxk be a not invertible matrix. There is a non-zero x' \u2208 Rk such that W'x' = 0.\nSelect some different $e_1,e_2 \\in E$ and $r_0 \\in R$. Take an STransE embedding model M = $(\\mathcal{E}_\\mathcal{E}, \\mathbb{R}^k, \\mathcal{E}_R, \\mathbb{R}^k, F)$ with the\nscore function\n$F(x, y, z) = ||W'x + y \u2013 z||$,\nsuch that $\\mathcal{E}_R, \\mathbb{R}^k (r_0) = 0, \\mathcal{E}_\\mathcal{E}, \\mathbb{R}^k (e_1) = 0, \\mathcal{E}_\\mathcal{E}, \\mathbb{R}^k (e_2) = x'$.\nHere we have\n$f(e_1, r_0, e_1) = f(e_2, r_0, e_1) = 0$,\nwhere f is the scoring over triplets by the model M.\nLet us assume that there is a TransComplEx embedding model M = $(\\mathcal{E}\"_\\mathcal{E},Ca, \\mathcal{E}\"_R,Ca, F)$ such that M ~ M.\nBy our assumption the condition (11) is fulfilled, i.e.,\n$f(e_1, r_0, e_1) = f(e_2, r_0, e_1) = 0$,\nwhere f is the scoring over triplets by the model M. We obtain\n$\\mathcal{E}\"_\\mathcal{E},Ca (e_1) + \\mathcal{E}\"_R,Ca(r_0) = \\mathcal{E}\"_\\mathcal{E},Ca(e_1), \\mathcal{E}\"_\\mathcal{E},Ca(e_2) + \\mathcal{E}\"_R,Ca (r_0) = \\mathcal{E}\"_\\mathcal{E},Ca(e_1)$,"], "content": "and so $\\mathcal{E}\"_\\mathcal{E},Ca (e_1) = \\mathcal{E}\"_\\mathcal{E},Ca(e_2)$. Hence, by the definition of scoring over triples we also have\n$f(e_1, r_0, e_2) = f(e_1, r_0, e_1) = 0$.\nHowever,\n$f(e_1, r_0, e_2) = ||x'|| \\neq 0$.\nContradiction with the condition (11). Therefore, the assumption on existing of a TransComplEx embedding model\nM such that M ~ M is false.\nThe second part of the proof is completed.\nRemark 4.2. Consider the models M' and M\" in the proof of the theorem (4.1). The number of complex parameters\nfor the model M' is d(|E|+|R|). Since dimC = 2, the number of real parameters for the model M' is 2d(|E|+|R|).\nThe model M\" has the same number of real parameters 2d(|E| + |R|)."}, {"title": "STransCoRe", "content": "In this section we introduce our STransCoRe method, based on a composition of STransE and TransCoRe [15].\nThe STransCoRe embedding model family over a KG domain (E, R) consists of all models\n$(\\mathcal{E}_\\mathcal{E}, \\mathbb{R}^m, \\mathcal{E}_R, \\mathbb{R}^n, F^w)$,\nparameterized by $m, n \\in \\mathbb{N}, m \\geq n$, and $w = (w_1,w_2,w_3,U)$, where $w_1 \\in \\mathbb{R}^{m \\times |E|}, w_2 \\in \\mathbb{R}^{n \\times |R|}$,\nw_3 \\in [][\\mathbb{R}^{m \\times m \\times 2|R|}$, and $U \\in \\mathbb{R}^{m \\times n}$ is a full-rank matrix. As in the example (3.8), the functions $\\mathcal{E}_\\mathcal{E}, \\mathbb{R}^m, \\mathcal{E}_R, \\mathbb{R}^n$\nsuch that columns of $w_1$ and $w_2$ are entity and relation embedding coordinates, respectively. The score function\n$F^w: \\mathbb{R}^m \\times \\mathbb{R}^n \\times \\mathbb{R}^m \\to \\mathbb{R}$ is defined as\n$F^w(x, y, z) = ||W_1(y)x + Uy \u2013 W_2(y)z||$\nfor some mappings $W_1, W_2 : \\mathbb{R}^n \\to \\mathbb{R}^{m \\times m}$ such that the tensor $w_3$ contains the matrices $W_2(y)$ and $W_1(y)$ for each\nrelational embedding y as in the example (3.9).\nWe use the loss function from RotatE [9].\n$\\mathcal{L} = - \\text{logo} (\\gamma \u2013 f(h, r,t)) \u2013 \\sum_{i=1}^{s} \\frac{L_{\\text{eaf}} (h_i, r,t')}{\\sum_{j=1}^{s} L_{\\text{eaf}} (h_j, r,t')} \\text{logo} (f(h', r,t') \u2013 \\gamma)$,\nwhere f is the score function of M, a is the temperature of sampling, s is the negative sample size, $\\gamma$ is a fixed margin,\no is the sigmoid function."}, {"title": "Comparison of STransCoRe with STransE", "content": "In this section will be 2 theorems. In the first theorem we compare the expressive powers of STransCoRe and STransE.\nIn the second theorem for a given STransE model we construct an equally expressive STransCoRe model without\nincreasing the number of parameters.\nTheorem 6.1.\n1. STransE is less dimensionally expressive than STransCoRe, i.e., $\\text{STransE} \\lt d \\text{STransCoRe}$\n2. STransE and STransCoRe have an equal general expressive powers, i.e., $\\text{STransE} = g \\text{STransCoRe}$\nProof. Consider STransCoRe and STransE embedding model families over a KG domain (E, R). To prove the theo-\nrem, we divide the proof by 3 parts, that imply the statement of the theorem.\nIn the first part, we prove that STransE is dimensionally expressed by STransCoRe. With the proposition (3.14) we\nobtain that TransComplEx is generally expressed by STransE.\nIn the second part, we prove that STransCoRe is not dimensionally expressed by STransE. Namely, we will prove\na more general statement: each STransCoRem,n model with m > n has no equally expressive models in\nSTransEm,n."}, {"title": "Comparison of STransCoRe with STransE", "content": "In the third part, we prove that STransCoRe is generally expressed by STransE. Namely, we will prove a more general\nstatement: for each $n \\geq m$ and STransCoRem,n embedding model M' there is an STransEm,m embedding model\nM\" such that M' ~ M\".\nFor the first part of proof take arbitrary STransE embedding model M\u2081 with some parameters $k \\in \\mathbb{N}$ and $(w_1, W_2,W_3)$\n(see the example (3.9)). The STransCoRe embedding model M2 with the parameters $k, k, (w_1, W_2, w_3, I)$ (see the\nsection (5)), where $I \\in \\mathbb{R}^{k \\times k}$ is the identity matrix, such that\n$M_1 \\sim M_2$.\nThe first part of the proof is done. The second part is simple: note that the subfamily STransCoRem,n with m > n\nis non-empty, but the subfamily STransEm,n is empty. Now we will prove the third part.\nLet M' = $(\\mathcal{E}_\\mathcal{E}, \\mathbb{R}^m, \\mathcal{E}_R, \\mathbb{R}^n, F')$ be arbitrary STransCoRe embedding model, where\n$F'(x, y, z) = ||\\tilde{W}_1(y)x + Uy \u2013 \\tilde{W}_2(y)z||$.\nDefine $\\mathcal{E}'_R \\mathbb{R}^m : R \\to \\mathbb{R}^m$ by the following way:\n$\\mathcal{E}'_R, \\mathbb{R}^m (r) = U(\\mathcal{E}'_R, \\mathbb{R}^n (r))$ for each $r \\in R$.\nConsider the function F\": $(\\mathbb{R}^m)^3 \\to \\mathbb{R}$:\n$F\" (x, y, z) = ||W_1(y)x + y \u2013 W_2(y)z||$,\nwhere $W_1, W_2: \\mathbb{R}^m \\to \\mathbb{R}^{m \\times m}$ arbitrary mappings such that for every $y \\in \\mathbb{R}^n$\n$W_i(Uy) = \\tilde{W}_i(y), i = 1, 2$.\nBy the construction for each $x, z \\in \\mathbb{R}^m$ and $y \\in \\mathbb{R}^n$ we have\n$F\" (x, Uy, z) = F'(x, y, z)$.\nFrom the rank-nullity theorem it follows that the matrix U is injective. Therefore, W1, W2 are correctly defined on\nIm U.\nWe constructed an STransE embedding model M\" = $(\\mathcal{E}_\\mathcal{E}, \\mathbb{R}^m, \\mathcal{E}_R, \\mathbb{R}^m, F\")$. The property (60) yields $f' = f\"$, where\nf' and f\" are the scorings over triplets by the models M' and M\", respectively, hence M' ~ \u041c\".\nThe third part of the proof is completed."}, {"title": "Comparison of STransCoRe with STransE", "content": "Theorem 6.2. For each STransE embedding model M' over a KG domain (E, R) there exists an STransCoRe embed-\nding model M\" over the KG domain (E,R) such that M' ~ M\", and the number of parameters for M\" is no higher\nthan the number of parameters for M'.\nProof. Let M' = $(\\mathcal{E}_\\mathcal{E}, \\mathbb{R}^k, \\mathcal{E}'_R.R^k, F')$ be arbitrary STransE embedding model over a KG domain (E,R). The score\nfunction F': $(\\mathbb{R}^k)^3 \\to \\mathbb{R}$ has the form\n$F'(x, y, z) = ||W_1(y)x + y - W_2(y)z||$.\nLet $\\overline{U} \\in \\mathbb{R}^{k \\times m}$ be a matrix such that its columns form a basis of the linear space $\\mathcal{L} = \\langle \\text{Im } \\mathcal{E}'_R.R^k \\rangle$, generated by\n$\\text{Im } \\mathcal{E}'_R.R = \\{\\mathcal{E}'_R.R^k (r)|r \\in R\\}$, where $m = dim_{\\mathbb{R}} \\mathcal{L}$. It is a full-rank matrix, and, since $\\mathcal{L} \\subseteq \\mathbb{R}^k$, we have\n$m \\leq k$.\nBy the equivalent definitions of rank there exists a permutation $\\sigma \\in S_k$ such that the rows $\\tilde{u}_{\u03c3(1)}, ..., \\tilde{u}_{\u03c3(m)}$ of the\nmatrix $\\overline{U}$ form an invertible submatrix $\\hat{U} \\in \\mathbb{R}^{m \\times m}$.\nWithout loss of generality we can suppose that $\\sigma(i) = i$ for $i = 1, ...,k$. Otherwise, we can apply the permutation\n$\\sigma^{-1}$ to the rows of W1, W2 and coordinates of y. In this case the function F' will not change, because the norm of\nvector does not depend on coordinates\u2019 order.\nThe matrix $\\hat{U}^{-1}$ is invertible, so the columns of the matrix $U = \\hat{U} \\hat{U}^{-1}$ form a basis of $\\mathcal{L}$. The first m rows of the\nmatrix U form the identity m \u00d7 m matrix, hence U is a full-rank matrix too."}, {"title": "Comparison of STransCoRe with STransE", "content": "Define $\\mathcal{E}'_R, \\mathbb{R}^m: R \\to \\mathbb{R}^m$ such way that\n$\\overline{U} \\mathcal{E}'_R, \\mathbb{R}^m(r) = \\mathcal{E}'_R, \\mathbb{R}^k (r)$ for each $r \\in R$.\nSince columns of the matrix U is a basis of L, the mapping $\\mathcal{E}'_R, \\mathbb{R}^m$ is defined correctly.\nConsider the function F\": $\\mathbb{R}^k \\times \\mathbb{R}^m \\times \\mathbb{R}^k \\to \\mathbb{R}$\n$F\" (x, y, z) = ||W_1(U\\tilde{y})x + U\\tilde{y} \u2013 W_2(U\\tilde{y})z||$.\nWe have\n$F\"(x, y, z) = F'(x,U\\tilde{y}, z)$.\nWe constructed an STransCoRe embedding model M\" = $(\\mathcal{E}_\\mathcal{E}, \\mathbb{R}^k, \\mathcal{E}.\\mathbb{R}^m, F\")$ over the KG domain (E, R).\nThe property (65) yields $f' = f\"$, where f' and f\" are the scorings over triplets by the models M' and M\", respectively,\ntherefore M' ~ \u041c\".\nLet us consider the number of parameters for M' and M\".\nThe function F\" we can rewrite as\n$F\" (x, y, z) = ||\\overline{W}_1(y)x + U\\tilde{y} \u2013 \\overline{W}_2(y)z||$,\nwhere\n$\\overline{W}_i(y) = W_i(Uy), i = 1,2$.\nThe number of parameters for M' is\n$C' = k|E| + k|R| + 2k^2|R|$\nbecause each $\\mathcal{E}_\\mathcal{E}, \\mathbb{R}^k (e)$ and $\\mathcal{E}'_R, \\mathbb{R}^k (r)$ requires k parameters, and each $W_1(\\mathcal{E}'_R, \\mathbb{R}^k (r)), W_2(\\mathcal{E}'_R, \\mathbb{R}^k (r))$ requires $k^2$\nparameters.\nThe number of parameters for M\" is\n$C\" = k|E| + m|R| + 2k^2|R| + mk \u2013 m^2$.\nThe matrix U requires $mk \u2013 m^2$ parameters. Indeed, $\\mathcal{U} \\in \\mathbb{R}^{k \\times m}$ has km elements. However, since the first m rows\nof U form the identity m \u00d7 m matrix, we have not to store them.\nAlso, each $\\mathcal{E}_\\mathcal{E}, \\mathbb{R}^k (e)$ and $\\mathcal{E}'_R, \\mathbb{R}^m (r)$ require k and parameters, respectively, and each\n$\\overline{W}_i(\\mathcal{E}'_R, \\mathbb{R}^m (r)), W_2(\\mathcal{E}'_R, \\mathbb{R}^m (r))$ requires $k^2$ parameters.\nTo prove the inequality C\" > C', note that the construction $\\mathcal{L} = \\langle \\text{Im } \\mathcal{E}'_R.R^k \\rangle$ implies\n$m = dim_{\\mathbb{R}} \\mathcal{L} < | \\text{Im } \\mathcal{E}'_R.R^k | \\leq |R|$.\nWith the inequality (62) we have\n$C' \u2013 C\" = (|R| \u2013 m)(k \u2013 m) \\geq 0$."}, {"title": "Expressive Power Hierarchies", "content": "In this section, we visualize our theoretical results.\nAt this moment we discussed expressive powers of 3 KGE methods: TransComplEx, STransE, STransCoRe. Generally\nTransComplex is less expressive than STransE, STransE and STransCoRe are equally expressive. Dimensionally\nTransComplex is less expressive than STransE, STransE is less expressive than STransCoRe.\nNow be briefly discuss an expressive power of TransE. Firstly, TransE is a subfamily of TransComplEx, so TransE is\ndimensionally expressed by TransComplEx. Further, with the approach (3) from the Section 3 TransE cannot model\nrelations that are neither reflexive nor irreflexive, but TransComplEx can. Therefore, TransComplEx is not generally\nexpressed by TransE. Using the proof plan of the theorem (4.1), we showed that TransE has lower general expressive\npower and dimensional expressive power than TransComplEx.\nThe Venn diagrams in Fig. 1 demonstrate expressive power hierarchies of considered methods."}, {"title": "Conclusion", "content": "We summarize theoretical comparisons between KGE approaches in various articles by the term \"expressive power\".\nIn our work, expressive power of KGE methods is presented in 2 sences: (i) General expressive power, (ii) Dimensional\nexpressive power. The latter is introduced because KGs are often embedded in spaces with equal dimensions while\nranking metrics (MR, MRR, Hits@N, etc.) of KGE methods are compared. Expressive power of some methods are\ndiscussed and represented in Fig. 1."}]