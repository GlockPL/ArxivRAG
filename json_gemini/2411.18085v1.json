[{"title": "1 INTRODUCTION", "authors": ["Miao Fan", "Jizhou Huang", "An Zhuo", "Ying Li", "Ping Li", "Haifeng Wang"], "abstract": "The value assessment of private properties is an attractive but challenging task which is widely concerned by a majority of people around the world. A prolonged topic among us is \u201chow much is my house worth?", "Monopoly\" (named after a classic board game) in which we propose a distributed approach for revaluing private properties by learning to price public facilities (such as hospitals etc.) with the large-scale urban data we have accumulated via Baidu Maps. To be specific, our method organizes many points of interest (POIs) into an undirected weighted graph and formulates multiple factors including the virtual prices of surrounding public facilities as adaptive variables to parallelly estimate the housing prices we know. Then the prices of both public facilities and private properties can be iteratively updated according to the loss of prediction until convergence. We have conducted extensive experiments with the large-scale urban data of several metropolises in China. Results show that our approach outperforms several mainstream methods with significant margins. Further insights from more in-depth discussions demonstrate that the \"Monopoly\" is an innovative application in the interdisciplinary field of business intelligence and urban computing, and it will be beneficial to tens of millions of our users for investments and to the governments for urban planning as well as taxation.": "sections", "content": "Have you ever played the classic board game \"Monopoly\"\u00b9 where you can act as a tycoon to purchase all the real estates within a city? We believe that a majority of people around the world do care about the value of their private properties. Especially when you plan to buy a new house, a prolonged question first comes into your mind: \"how much is the house worth?\". It is quite an attractive but challenging topic to assess the value of private properties [3, 5, 20, 21], as many factors will influence the housing prices. Even for experienced agencies, they may just give you some subjective suggestions on whether or not to buy a property based on their experiences. For example, they may recommend you to purchase school district houses (as illustrated by Figure 1) rather than a house with a wasteyard nearby. Why? This is because public facilities (such as hospitals, schools, parks, metros, police stations, wasteyards, and even cemeteries) play a pivotal role in estimating the value of other private properties nearby. However, this naturally leads to another question: \u201chow much do these public facilities contribute to the price of your house?"}, {"title": "2 MODEL", "content": "The ultimate goal of the \"Monopoly\" project is to assess the values of all the points of interest (POIs) within an urban area. This task has drawn much attention from our customers, business partners, and even the governments, given that it will be of great help to tens of millions of our users for investments [2, 11] and to the governments for urban planning [8, 15, 26, 29] as well as taxation [20, 23]. However, the definition of \"value of a POI\" is overbroad as the"}, {"title": "2.2 Data Organization", "content": "We can take advantage of the backend data in Baidu Maps, especially the geographic information on POIs, the urban mobilities, and user profiles, to compose an undirected weighted graph for a metropolitan city. As illustrated by Figure 2, the private properties (residential blocks), public facilities (such as metros, schools, hospitals, parks, etc.), merchants, and factories are regarded as nodes in the graph. However, the difference among the nodes is that we only know the housing prices of some of the private properties leaving the value of the other nodes unknown. This leads us to establish undirected edges between a private property and its surrounding public facilities within a radius of several kilometers (The value of the radius will become the hyperparameter of our model in the rest of this paper). To measure the weights on the edges, the Euclidean distance on the map seems to be an instant answer. But citizens can take multiple means of transport from one place to another, and these transportation trajectories cannot be a straight line (unless you take a helicopter). Therefore, we also suggest taking the trajectory distances of various means of transportation into account as additional weights of the edges."}, {"title": "2.3 Factor Formulation", "content": "Let us assume that you are looking for a real estate that you may purchase for investment. What kind of factor drives you to make the final decision? Furthermore, how are the factors formulated so that they can rationally imply the much of deposit you should put down? We are going to answer those questions in this subsection. By means of interviewing several professional real estate agents and examining the urban data we have, we suggest that the price of a private property is comprehensively influenced by the attributes of itself, as well as the demographics and the other properties (including other residential blocks and public facilities) nearby.\nGiven a private property, the basic assumption of our model is that we use the surrounding properties (including residential blocks and public facilities) within a radius of I kilometers to assess its value. Here we use the vector $w \\in R^k$ to represent the value of k"}, {"title": "3 ALGORITHM", "content": "The mini-batch stochastic gradient descent (mini-batch SGD) [25] is a classical algorithm to solve the least squares problem of Eq. (5). However, our model poses a challenge that the prices of public"}, {"title": "4 EXPERIMENTS", "content": "Baidu Maps is a widely used web mapping application on both mobiles and desktops. It keeps serving tens of millions of users"}, {"title": "4.2 Comparison Baselines", "content": "To ensure that we can conduct thorough comparisons between our model and other modern approaches, we select several representative approaches as baselines on the housing price prediction. As shown by Table 2, all the baselines are categorized into two groups based on 1) how we organize the data to construct the features of private property, and 2) what kind of learning model we use.\nGiven a private property with its price unknown, Avg. Prices (citywide) is an oversimplified and crude way to estimate the price of it. Macro Avg. Prices (within 1.0 km) and Micro Avg. Prices (within 1.0 km) regard the prices of all the private properties within its radius of 1.0 km as features. However, a slight difference between the two baselines is the way of calculating the mean value of the target property. Micro Avg. Prices takes the geographical distance between properties into account as the additional weights to adjust the mean price, while Macro Avg. Prices does not.\nLinear Regression [12], Boosting Trees [9, 10, 17, 18], and Deep Neural Networks (DNN) [19, 24] are another group of baselines that consider all the factors mentioned in this paper as features but organize them into a vector as the input of these learning models [22]. The difference among these models is the way of processing the feature vector. Linear Regression can intuitively acquire the weight of each feature. The widely used method of Boosting Trees goes one step further to find the non-linear relationship between the features through ensembled tree structures. Moreover, Deep Neural Networks (DNN) may discover more complicated and hierarchical patterns from those features for the housing price regression."}, {"title": "4.3 Evaluation Metrics", "content": "We use three kinds of evaluation metrics to assess the performance of all the approaches on the task of housing price regression: mean average error (MAE), root mean squared error (RMSE), and coefficient of determination (R2 score). The three metrics evaluate a regression model from different perspectives. Specifically speaking, MAE measures the average bias between the predicted price and the ground-truth value of private properties, while RMSE will be amplified if some bad cases bring in a high variance. However, both MAE and RMSE are absolute errors without considering the ground-truth housing prices. R\u00b2 score addresses the issue by measuring a relative error, and the metric stands for the degree of fitting the ground-truth housing prices.\nSuppose that there are m instances of residential blocks in the test set, and the ground-truth value of the j-th residential block is denoted by $h^{(j)}$. Besides, we use $\\hat{h}^{(j)}$ to represent the predicted housing price of the j-th residential block, and $\\bar{h}$ stands for the mean of all the ground-truth value in the test set. According to the symbol definitions above, here we list the formulations of the three metrics as follows:\n\u2022 Mean Average Error (MAE):\n$MAE = \\frac{1}{m} \\sum_{j=1}^{m}|h^{(j)} - \\hat{h}^{(j)}|$\n\u2022 Root Mean Squared Error (RMSE):\n$RMSE = \\sqrt{\\frac{1}{m} \\sum_{j=1}^{m}(h^{(j)} - \\hat{h}^{(j)})^2}$"}, {"title": "4.4 Experimental Results", "content": "Table 2 shows the comparison results between our method on \"Monopoly\" and other baselines evaluated by the metrics of MAE, RMSE, and R2 score. All the numbers are the mean and the standard deviation of the results of the four cities. From the results, we find out that our method adopted by the \"Monopoly\" project consistently outperforms all other modern approaches with significant improvements on MAE, RMSE, and even R2 score.\nNot surprisingly, Avg. Prices (citywide) is the worst choice as the method to assess the value of a specific realty. In line with Eq. (8), the R\u00b2 score of Avg. Prices (citywide) is close to 0.0000 in theory. Macro Avg. Prices and Micro Avg. Prices are the common practices widely adopted by experienced agents. However, their performance is far from impressive, and the reason for this phenomenon is that the number of surrounding residential blocks with the prices we know is quite small.\nOther methods, e.g., Linear Regression [12], Boosting trees [9, 10, 17, 18], and Deep Neural Networks (DNN) [19, 24], consider all the factors including the existence of a large number of public facilities as features to help estimate the housing prices. The performance of these methods gradually improves along with their capability increment of discovering complex patterns. Finally, Deep Neural Networks (DNN) [19, 24] shows state-of-the-art performance.\nCompared with the state-of-the-art DNN methods, our approaches reduce the loss by 1,076 CNY/m\u00b2 in MAE as well as 999 CNY/m\u00b2 in RMSE, and achieve the improvement by 4.56% in R\u00b2 on average2. These results meet our expectation as \"Monopoly\" can directly leverage the acquired prices of the large number of public facilities,"}, {"title": "5 DISCUSSIONS", "content": "In this section, we will go deeper to explore the parameters (including @ which stands for the preference of property attributes, the virtual prices of public facilities u, and $, for indicating the option of geographical distance) and the hyperparameter (i.e., the radius l) of our model which are expected to give us more insights acquired from the collective intelligence [14, 28] on the value assessment of real estates."}, {"title": "5.1 Preference of Property Attribute", "content": "Even though the sigmoid function we adopted (see Eq. (3)) seems too simple as a model to formulate property attributes, the major objective of Eq. (3) is to learn the weight distributions of the attributes of a private property, such as the administrative district it locates, the age as well as the type (i.e., a house or an apartment) of the property, etc. To achieve this goal, we look up the normalized parameter o acquired by the urban data of the four cities (shown by Table 3) and find out that the type, the administrative district, the developer, and the age of a house are the mostly concerned attributes when people assess the value of a private property."}, {"title": "5.2 Virtual Price of Public Facility", "content": "The shining part of our approach is that we can simultaneously estimate the price of public facilities during the progress of fitting the values of private properties. In this way, the impact of public facilities on housing prices can be quantitatively evaluated. Table 4 displays the virtual prices of the public facilities in the four metropolises (i.e., Beijing, Shanghai, Guangzhou, and Shenzhen),"}, {"title": "5.3 Option of Geographical Distance", "content": "When selecting a type of distance on a map, the Euclidean distance [7] seems an obvious option. Nevertheless, citizens can take multiple means of transport from one place to another, and most transport trajectories cannot be a straight line. The trajectory distance [27], commonly regarded as driving distance, appears to be a"}, {"title": "5.4 Effect of Influencing Radius", "content": "The influencing radius denoted by l is the hyperparameter of our model, which directly decides the number of surrounding private properties and public facilities we need to concern (see Figure 1). An intuitive sense of the influencing radius is that the predicted value is prone to overfit the price of the nearest property if the scope is small but to bring in more biases if the range is too large. To be aware of the reasonable value of the radius, we extend the experimental results shown by Table 2 by adding the results with the radius of 3.0 km and 5.0 km.  We thus conclude that, about 1.0 km to 3.0 km in radius is the appropriate range where we should consider other private properties and public facilities."}, {"title": "6 CONCLUSION", "content": "This paper addresses an attractive but challenging problem of the value assessment of private properties from a new aspect. That is, learning to assess public facilities from the housing prices we know, and in turn, the prices of public facilities can help revalue other private properties in an urban city. To accomplish this target, we launch the \"Monopoly\" project in Baidu Maps. Specifically, we first employ the geographic data to establish an undirected weighted graph of real estates. Then we propose a model to formulate the factors that influence the price of private property. Given a node of private property in the graph, we consider the factors that are composed of its attributes as well as the demographics and public facilities around it. During the training phase, the prices of the public facilities, as variables in our model, can be updated simultaneously with the other parameters while fitting the ground-truth housing prices iteratively. Moreover, we further upgrade the learning algorithm to a distributed version under the framework of MapReduce [4] for industrial use.\nWe use the real-world urban data accumulated via Baidu Maps to conduct experiments on our approach as well as several baselines. The large-scale urban data covers four metropolises (i.e., Beijing, Shanghai, Guangzhou, and Shenzhen), 29, 534 residential blocks, and 3, 348, 777 public facilities in China. Experimental results demonstrate that our approach obtains significant improvements over several strong baselines. In addition, the model is quite easier to understand and interpret that we can discover several key insights on purchasing a private property:\n\u2022 Preference of property attribute: The type, the administrative district, the developer, and the age of a house are the most concerned attributes when people assess the value of a private property.\n\u2022 Virtual price of public facility: Scenic spots, educational institutions, and transportation are the most valuable public facilities for a private property. An additional benefit of our model to the public is that \"Monopoly\" can leverage the wisdom of crowds to rank public facilities (such as primary schools and hospitals) in terms of housing prices.\n\u2022 Option of geographical distance: It seems that there is almost no difference between the Euclidean distance and the trajectory distance when citizens talk about the distance between two places on a map.\n\u2022 Effect of influencing radius: From 1 km to 3 km in radius is the appropriate range in which we should consider the influences of other private properties and public facilities."}, {"title": "7 FUTURE WORK", "content": "\"Monopoly\" is an innovative project of Baidu Maps in the interdisciplinary field of business intelligence [1, 6] and urban computing [13, 31]. This project was originally inspired by the idea of \"marking the prices of all points of interest (POIs) in an urban city\". To achieve this goal, we devise a distributed model that can iteratively learn to value public facilities with the prices of private properties we already know in a geographic graph until all of their prices finally converge. Several vital insights have been gained by applying our model to the large-scale urban data that we have accumulated via Baidu Maps over the years. We believe these insights will not only be beneficial to tens of millions of our users for investments [2, 11] but also to the governments for urban planning [8, 15, 26, 29] and taxation [20, 23].\nTherefore, we plan to extend our research from the perspectives of model development and product design in the future:\n\u2022 Extensive studies on graph learning framework to tackle with the heterogeneous urban data: The study on graph neural networks [30] is an emerging branch of research on deep learning [16]. The urban data (such as the attributes of POIs, the urban mobilities, and user profiles) can be naturally formulated by heterogeneous graphs, which poses a new challenge to the study of large-scale graph learning.\n\u2022 Creative applications serving customers (2C), business (2B), and governments (2G): Besides deploying the \"Monopoly\" project in our web mapping service, we plan to directly establish an independent platform where multiple business intelligent agents could automatically give more suggestions on investments [2, 11], urban planning [8, 15, 26, 29], and taxation [20, 23] powered by our large-scale urban data."}]