{"title": "Beyond Words: Evaluating Large Language Models in Transportation Planning", "authors": ["Shaowei Ying", "Zhenlong Li", "Manzhu Yu"], "abstract": "The resurgence and rapid advancement of Generative Artificial Intelligence (GenAI) in 2023 has catalyzed transformative shifts across numerous industry sectors, including urban transportation and logistics. This study investigates the evaluation of Large Language Models (LLMs), specifically GPT-4 and Phi-3-mini, to enhance transportation planning. The study assesses the performance and spatial comprehension of these models through a transportation-informed evaluation framework that includes general geospatial skills, general transportation domain skills, and real-world transportation problem-solving. Utilizing a mixed-methods approach, the research encompasses an evaluation of the LLMs' general Geographic Information System (GIS) skills, general transportation domain knowledge as well as abilities to support human decision-making in the real-world transportation planning scenarios of congestion pricing. Results indicate that GPT-4 demonstrates superior accuracy and reliability across various GIS and transportation-specific tasks compared to Phi-3-mini, highlighting its potential as a robust tool for transportation planners. Nonetheless, Phi-3-mini exhibits competence in specific analytical scenarios, suggesting its utility in resource-constrained environments. The findings underscore the transformative potential of GenAI technologies in urban transportation planning. Future work could explore the application of newer LLMs and the impact of Retrieval-Augmented Generation (RAG) techniques, on a broader set of real-world transportation planning and operations challenges, to deepen the integration of advanced AI models in transportation management practices.", "sections": [{"title": "1. Introduction", "content": "Geospatial Artificial Intelligence (GeoAI) represents an innovative fusion of geospatial science with advanced artificial intelligence and machine learning technologies to extract valuable insights from spatial data. This interdisciplinary field leverages the power of artificial intelligence (AI) to analyze, interpret, and visualize geospatial information, enabling more efficient and accurate decision-making in areas ranging from urban planning and environmental management to transportation and logistics. In recent years, one key driver for the active development of GeoAI has been the resurgence of Generative AI (GenAI), a branch of AI technology focused on creating new, original data that mimics the characteristics of its training data. These models are trained on large datasets to recognize and replicate complex patterns, allowing for the generation of content that is both new and remarkably similar to the original data. Through this process, GenAI systems gain the capability to produce nuanced outputs that can emulate human creativity and intelligence, facilitating groundbreaking applications in numerous fields. Since the release of ChatGPT in November 2022, there has been a surge of research interest in studying the impact of GenAI on geospatial tasks. While many of the recent publications address general geospatial tasks, such as accurately extracting location descriptions from various types of unstructured texts (Mooney, Cui, & Juh\u00e1sz, 2023; Hu et al., 2023; Haris, Cohn & Stell, 2024), performing geospatial analyses (Frez & Baloian, 2023) or automating GIS workflows (Li & Ning, 2023), there is also a growing body of research work focused on domain-specific applications such as public health (Jo et al., 2023; Lim & Schm\u00e4lzle, 2023) and disaster management (Otal & Canbaz, 2024; Akinboyewa et al., 2024).\nAmong the different GenAI foundation models, text-based Large Language Models (LLMs) arguably will play a pivotal role in the transformation of the transportation sector. The ability of LLMs to process, understand, and generate human-like text makes them especially suitable for managing the complex textual datasets commonly found in transportation logistics, such as regulatory documents, customer communications, operational directives, and global trade documentation. Several notable transportation-focused LLM prototypes have been developed, including TrafficGPT (Zhang et al., 2023), an LLM-powered system that combines ChatGPT and traffic foundation models. TrafficGPT uses its reasoning ability to deconstruct the user-input task and calls the respective Traffic Foundation Models to provide answers. Another example is TrafficSafetyGPT (Zheng et al., 2023), a LLaMA-2 model fine-tuned with transportation safety knowledge to provide responses that are aligned with ratified traffic safety standards and guidelines. Additionally, Open-TI (Da et al., 2023) aims to \u201charness external traffic analysis packages based on existing conversation\".\nAs more applications of LLM are being explored, there has also been a corresponding growth in research to evaluate LLMs. Most of the evaluation research focuses on \u201chorizontal\" tasks of natural language processing (understanding, reasoning, generation, question answering, multi-lingual), factuality, robustness, ethics, biases, and trustworthiness, with fewer works investigating the feasibility of using LLMs in GIS contexts and even fewer on evaluating LLMs in specific domains such as transportation planning and management (Chang et al., 2023). In urban transportation management, addressing challenges such as congestion pricing, traffic safety, and route optimization requires sophisticated analysis and decision-making skills typically found in human experts. With the increasing complexity of urban transportation systems and the growing need for efficient, data-driven solutions, it becomes imperative to explore advanced technological tools that can assist or even enhance human capabilities in this domain. Traditional Al has been used in five major areas of transportation management, but the potential of GenAI models in transportation planning and management remains underexplored.\nUnderstanding how effectively LLMs can comprehend and operate within geospatial and transportation-specific contexts could lead to significant advancements in how urban transportation systems are analysed and managed. If successful, LLMs could provide substantial support in decision-making processes, enhance the efficiency of transportation planning, and offer innovative solutions to persistent challenges."}, {"title": "2. Methodology", "content": "This research starts with the selection of the LLMs. These \"Test LLMs\" are then deployed on Azure cloud and subjected to three levels of evaluation, assessing the Test LLMs' (1) general geospatial skills, (2) general transportation domain knowledge, and (3) real-world transportation problem-solving abilities.\n2.1 Selection of the Test LLMs\nA comprehensive database of notable and highly cited models is maintained by Epoch AI (Epoch AI, n.d.). From this database, two distinct models representing contrasting development paradigms were chosen: Azure OpenAI GPT-4 and Microsoft Phi-3-mini. The selection of these two models as the Test LLMs reflects a deliberate choice to explore and compare the performance of a highly advanced, large-scale LLM with a more compact, mobile-optimized LLM.\nGPT-4 stands out as a general-purpose, closed LLM with an impressive 170 trillion parameters, making it one of the most sophisticated language models available. GPT-4 is designed to generate human-like text based on the input it receives, positioning it as a state-of-the-art model for a wide range of tasks, including those in the domain of transportation planning. While GPT-4 is directly provided by OpenAI, it has also been integrated into Microsoft's cloud platform Azure as Azure OpenAI GPT-4, allowing users to leverage GPT-4's advanced language processing capabilities directly from the Azure cloud.\nIn contrast, Microsoft Phi-3-mini is a lightweight, open-source LLM with 3.8 billion parameters, specifically designed to operate on mobile platforms. Developed by Anthropic in collaboration with Microsoft, Phi-3-mini aims to provide LLM capabilities in a more accessible and versatile format. It is also accessible through APIs, with potential integrations within Microsoft's ecosystem, making it suitable for applications that require more mobile and adaptable solutions. Despite its smaller parameter size, Phi-3-mini offers significant utility, particularly in scenarios where resource constraints or the need for on-device processing are critical considerations. Achiam et al. (2023) and Abdin et al. (2024) provided a comparison of these two models using common academic benchmarks.\n2.2 Setting up the LLM testing environment\nA Python-based LLM evaluation platform named \u201cTrafficgpt\" was developed on Azure Cloud. This platform was designed to structure the interaction between users and LLMs. Trafficgpt features the following evaluation frameworks: (1) a chat-only interface, facilitating simple text-based interactions with the LLM; (2) a Prompt File Template, which structures text for AI interpretation by defining specific tasks ranging from queries to feedback statements; and (3) a Tabular Framework, which enables users to query loaded tabular data. This framework integrates with the REPL (Read-Eval-Print Loop) tool, allowing for the execution of Python code lines for in-depth data analysis.\n2.3 Three levels of evaluation\nThe Test LLMs were subjected to three levels of testing, each level designed to assess the models' capabilities in different aspects of geospatial and transportation domain skills .\n2.3.1 General Geospatial Skills\nThe first level of testing focuses on evaluating the general geospatial skills of the Test LLMs \"out-of-the-box\u201d. This evaluation includes two types of examinations: GIS concepts and the understanding of transportation-related tabular data.\nGIS concepts\nThe GIS concept examination was designed by Mooney (2023), which was based on instructor resources from a popular GIS textbook called GIS Fundamentals (Bolstad & Manson, 2022). A balanced set of 60 questions was selected manually to simulate a real exam that covers fundamental concepts of mapping and GIS, data sources and tabular data, spatial analysis, spatial statistics and interpolation, and applied GIS workflow. The Test LLMs were prompted to pick a response from a set of multiple-choice or True/False options without requiring explanations.\nUnderstanding of transportation-related tabular data\nThe second type of examination is to assess the Test LLMs' ability to handle and interpret transportation-related tabular data, which is a common format for representing transportation information. The tasks include data interpretation of schedules, performance metrics, and operational statistics; analysis of patterns, trends, and anomalies for better resource allocation and planning; and generating accurate reports and summaries to enhance transparency and communication with stakeholders.\nThe Test LLMs are given a typical traffic volume and travel time dataset from MATSim, a transportation software simulation tool that contains 40,000 road links of Singapore's road transportation network, and the simulated traffic volume and travel speed along each of the road links. A list of manually curated 15 questions is used to test the LLM's ability to understand the intent of the query, and to search and retrieve the right values from the dataset.\n2.3.2 General Transport Domain Skills\nThe second level of testing delves into the LLMs' understanding of transportation domain-specific datasets and concepts. This involves testing the LLMs' knowledge about the General Transit Feed Specification (GTFS), a standard for publishing public transit data, and MATSim, an open-source transportation simulation software. The LLMs' responses are assessed to understand the depth and breadth of their domain knowledge.\nGTFS understanding\nGTFS is an open data format that allows public transportation agencies to publish their transit data in a format that can be consumed by a variety of software applications. It standardizes information about routes, schedules, stop locations, and other transit features. While other data formats exist for land transportation, GTFS is preferred for evaluating and benchmarking Test LLMs due to its widespread global adoption (Antrim & Barbeau, 2013) and its extensive data coverage, including both static and real-time information (GTFS Realtime Overview, n.d.). This allows for a comprehensive assessment of LLMs on both stable data structures and dynamic real-time streams, reflecting real-world applications. Additionally, GTFS data's relevance extends beyond transit applications, serving as a critical resource in transportation research, urban planning, and mobility studies (Ho, 2021).\nThe benchmarking approach in the context of GTFS involves a structured set of assessments designed to probe the models' understanding and handling of GTFS-related tasks. This evaluation is based on the set of 195 multiple-choice questions (MCQs) designed by Devunuri, Qiam, & Lehe (2024), to test the LLMs' grasp of specific terminology, basic knowledge of GTFS usage, and the reasoning behind its data organization. It also assesses their ability to recognize GTFS file structures, correctly map data attributes to files, handle various data types within the GTFS framework, and accurately categorize and interpret GTFS data.\nResponses are analyzed to determine how well the Test LLMs can select the correct answer based on their pre-existing knowledge of GTFS. The testing approach utilizes zero-shot (ZS) prompting techniques, where the Test LLMs are tested without prior exposure to similar tasks, relying solely on their pre-trained knowledge to respond to the questions.\nMATSim understanding\nMATSim (Multi-Agent Transport Simulation) is an open-source framework primarily used to simulate the mobility of individuals as separate agents with distinct travel plans within a road network. As one of the more popular transportation simulation software, MATSim allows for detailed analysis of traffic patterns and policy impacts on individual behavior. MATSim has been the preferred tool used by traffic researchers in Singapore, which is the study area for this research. An example of MATSim research done in Singapore is Oh et al. (2021). LLMs have the potential to significantly enhance the accessibility and usability of MATSim and similar agent-based modeling software, which often require specialized training to use. Via natural language interfaces, LLMs can assist in generating initial models based on user descriptions, reducing the learning curve and time required to start modelling. LLMs can also provide real-time code assistance and debugging help.\nThe benchmarking approach for evaluating the Test LLMs involves a structured set of assessments designed to probe the models' understanding and handling of MATSim-related tasks. A set of 120 multiple-choice questions (MCQs) was developed based on the MATSim user guide (Horni, Nagel, & Axhausen, 2016). Each question has four options, with only one correct answer. The question list was initially generated by ChatGPT and then manually curated to ensure relevance and accuracy. The questions are categorized into six main sections of the guide, with 20 questions each, covering key areas of MATSim: basic usage and functionalities, visualization tools, input data generation, supplementary features, output analysis, and the ability to extend and customize MATSim for specific simulations. Responses are analyzed to determine how well the Test LLMs can select the correct answer, without prior exposure to similar tasks.\n2.3.3 Real-world Transport Problem-solving\nThe third and most specialized level of evaluation challenges the LLMs with real-world transportation problem-solving tasks. The Test LLMs are tasked with guiding a transportation planner through the process of studying the effects of raising or lowering tolls on traffic congestion, a typical real-world transportation challenge. Congestion pricing is used in many countries as a strategy to improve transportation system performance. Singapore is one of the pioneers of congestion pricing, introducing a manual Area Licensing Scheme in 1975 and moving to electronic road pricing from 1998 (Phang & Toh, 1997).\nReal world traffic scenario\nThe evaluation is contextualized around a significant tolled highway in Singapore called the Kallang-Paya Lebar Expressway (KPE), which is among 11 expressways and other major arterial roads that crisscross the Singapore urban landscape . The KPE has the longest subterranean road tunnel in Southeast Asia and was the world's sixth-longest underground road project at the time of its construction, built at a cost of approximately $1.74 billion (National Library Board of Singapore, n.d.). It provides a seamless route between the southeastern and northeastern parts of Singapore , connecting major expressways such as the East Coast Parkway (ECP) and the Tampines Expressway (TPE). The real-world question a transportation planner seeks to answer is the extent the toll price changes will have on travel volume and speed along the KPE, as travel patterns are re-distributed across the Singapore road network.\nEvaluation approach\nAlthough a range of analytical methods can be applied to set road congestion pricing, two specific methods are selected for evaluating the Test LLMs, namely the Price Elasticity of Demand approach and the Agent-Based Modeling approach. These methods were chosen based on their balance of complexity and practical applicability . Price Elasticity of Demand measures how the quantity demanded of a good or service changes in response to a change in price. In the context of congestion pricing, it helps estimate how changes in toll rates might affect traffic volume. Agent-Based Modeling involves simulating the actions and interactions of autonomous agents to assess their effects on the system as a whole. In transportation planning, it models individual drivers' behavior and their responses to changes in toll rates."}, {"title": "3. Results and Discussion", "content": "3.1 Level 1: General Geospatial Skills of the Test LLMs\n3.1.1 Understanding of GIS concepts\nFigure 8 summarizes the performance of the Test LLMs on the GIS exams. The responses of the two LLMs to each of the 60 exam questions can be found in Appendix A. Overall, GPT-4 outperformed Phi-3-mini, achieving an accuracy of 86% by correctly answering 52 out of 60 questions, while Phi-3-mini achieved an accuracy of 70% with 42 correct answers. These results are consistent with previous findings by Mooney (2023).\nA z-test for two independent proportions showed that the outperformance of GPT-4 over Phi-3 was statistically significant, yielding a two-tailed p-value of 0.034. Across all GIS topics, GPT-4 demonstrated superior performance, particularly with more complex questions such as applied GIS workflows. Nevertheless, Phi-3-mini still performed competently in many GIS-related tasks and may be suitable for specific applications.\n3.1.2 Descriptive Statistics on Tabular Data\nAlthough GPT-4 and Phi-3-mini appeared to show similar performance in processing tabular data on the GIS examinations (Figure 8), these results were based on a small set of 5 questions. A more detailed evaluation using a MATSim-generated dataset revealed significant differences in performance between the Test LLMs. Overall, GPT-4 showed a substantially higher capability, with an accuracy of 89%, compared to Phi-3-mini's 53% . This difference is statistically significant, indicating that GPT-4 is more adept at handling tabular data. The responses of the two LLMs to each of the 150 questions can be found in Appendix B.\nTable 2 provides an example of how Phi-3-mini incorrectly used data fields to compute the implied average travel speed for each link. It calculated the travel speed on a road link by dividing the traffic volume (the number of vehicles traversing the link) by the length of the road link. In contrast, GPT-4 correctly computed the travel speed by dividing the road link length by the hourly travel time and provided better explanations.\n3.2 Level 2: General Transport Domain Skills of the Test LLMs\n3.2.1 GTFS Understanding\nFigure 10 shows the results of the benchmarking analysis between GPT-4 and Phi-3-mini using GTFS (General Transit Feed Specification) across six key categories: Term Definition, File Structure, Data Structure, Common Reasoning, Categorical Mapping, and Attribute Mapping. The responses of the two LLMs to each of the 195 questions can be found in Appendix C. Overall, GPT-4 outperformed Phi-3-mini, achieving an accuracy of 66% compared to Phi-3-mini's 43%. This is consistent in most categories, with particularly high performance in File Structure (88%) and Attribute Mapping (83%). In contrast, Phi-3-mini's performance was considerably lower across all categories, with its best result in Data Structure at 48%. The smallest performance gap between the two models was observed in the Categorical Mapping category, where GPT-4 scored 42% and Phi-3-mini scored 40%, and the difference is not statistically significant using two-proportion z-tests (p = 0.499). While GPT-4 performs significantly better than Phi-3-mini, the overall accuracy of 66% indicates limitations of the state-of-the-art LLM in understanding more specialized domain knowledge in transportation.\n3.2.2 MATSim Understanding\nFigure 11 shows the performance benchmarking analysis between GPT-4 and Phi-3-mini using MATSim across six key categories with each category including 20 questions: Extending MATSim, Analysis, Additional Core Features, Generation of MATSim Input, Visualizers, and Introducing MATSim. The responses of the two LLMs to each of the 120 questions can be found in Appendix D. Overall, GPT-4 outperformed Phi-3-mini with an accuracy of 81% compared to Phi-3-mini's 72%. In several categories, GPT-4 demonstrated notable advantages. For instance, in the \"Additional Core Features\" category, GPT-4 achieved a perfect score of 100%, surpassing Phi-3's 95%. Both models performed equally well in Extending MatSIM (90%) and Generation of MATSim Input (75%). Both models show the worst performance in the Analysis and Visualizers with GPT-4 archiving 65% in both categories and 55% and 45% respectively for Phi-3-mini.\n3.3 Level 3: Real-world Transportation Problem-Solving by the Test LLMs\nIn the context of real-world transportation problem-solving, the evaluation of the Test LLMs as potential co-pilots to the human transportation analysts plays a crucial role in determining their practical utility. The following sub-sections present the qualitative assessment by two human transportation experts on how well the Test LLMs can serve as a co-pilot to complete a congestion pricing analysis task.\n3.3.1 Price Elasticity of Demand Approach\nTable shows how the two LLMs were rated by the human analyst. GPT-4's responses were consistently more detailed, structured, and practical, making it a more reliable choice for transportation planning tasks. Its ability to understand complex user queries, accurately interpret data, provide high-quality recommendations, and automate comprehensive reports highlights its robustness and suitability for real-world applications. Phi-3-mini, while generally competent and occasionally providing more detailed statistical techniques, tended to fall short in overall clarity and comprehensiveness. Its responses, although good, were often less detailed and structured compared to GPT-4. Nonetheless, Phi-3-mini's methodological rigor in certain tasks, such as estimating pricing elasticity coefficients, showcases its potential value in specific analytical scenarios. For transportation planners seeking a reliable and effective LLM, GPT-4 is the recommended choice due to its superior performance across all evaluated criteria. Phi-3-mini, while a solid performer, may serve as a complementary tool.\n3.3.2 Agent-based Modeling Approach\nIn the agent-based modelling approach tests, the test LLMs were required to provide codes in response to instructions that were more directive. Here, GPT-4 outperformed Phi-3-mini on all questions, as shown in Table 4. GPT-4's superior performance stems from its model size and training data. The same reasons why GPT-4 outperformed GPT-3.5 would likely apply here (Koubaa, 2023). Compared to Phi-3-mini, GPT-4 is a larger model with access to a more extensive and diverse dataset during training, allowing it to learn more nuanced patterns and provide more accurate and comprehensive responses. GPT-4 may also have been trained on a wider variety of complex tasks, making it better suited for handling sophisticated analytical queries and generating detailed reports, as well as understanding and maintaining context across multiple interactions as it responds to complex queries. GPT-4's enhanced structuring and organization capabilities result in more comprehensive and well-structured reports based on the testing results, making the information clearer and easier to implement for users."}, {"title": "4. Future Work", "content": "Several areas for future research are suggested. First is the assessment of other and newer general-purpose LLMs, as well as those that have been fine-tuned with transportation-specific corpora. Since the launch of Phi-3 in April 2024, new frontier models such as llama3 by Meta and GPT-4 Omni by OpenAI have been released. An example of a transportation-related fine-tuned candidate is TrafficSafetyGPT, a novel LLAMA-based model, which has undergone supervised fine-tuning using a transportation specific dataset consisting of human labels from government-produced guiding books and ChatGPT-generated instruction-output pairs (Zheng et al., 2023).\nSecond would be to investigate the impact of Retrieval-Augmented Generation (RAG) techniques on LLM performance in the transportation domain. Ding et al. (2024) comprehensively review existing research studies in retrieval-augmented large language models (RA-LLMs), illustrating their practical significance by application areas in natural language processing and downstream tasks in AI for science, finance, software engineering, and recommendations. There is an opportunity to conduct research evaluating RAG-LLM in the transportation domain.\nA third area of future work would be benchmarking the LLMs against other transportation-specific data and transportation-related software. Examples include data formats such as TransXML (Zheng E., 2007), which is specifically designed for freight transportation data, and transportation planning software like PTV Vissim for microscopic traffic simulation (PTV Group, 2024). Additionally, it is essential to test the practical applications of LLMs in various real-world transportation scenarios beyond congestion pricing, such as traffic incident management which can enhance public safety and decision support for urban planning and new infrastructure development.\nLastly, future research could explore the synergistic use of task-specific LLMs (such as a fine-tuned Phi-3 mini model) alongside the larger frontier models (exemplified by GPT-4) to solve complex real-world transportation problems. This hybrid approach leverages the specialized capabilities of task-specific models for handling domain-specific tasks while using frontier models to integrate and contextualize outputs, manage broader goals, and provide refinement. Research can examine how this combination can enhance scalability, resource efficiency, and overall problem-solving effectiveness, particularly in domains where specialized knowledge and broad contextual understanding are both crucial."}, {"title": "5. Conclusion", "content": "This study detailed an exploration of the transformative potential of Generative AI (GenAI) for urban transportation and logistics. The objectives were to evaluate the performance and spatial comprehension of LLMs representing different development paradigms, specifically GPT-4 and Phi-3-mini, within a transportation-informed evaluation framework. The methodology involved subjecting the two LLMs to three levels of testing with increasing knowledge specialization to yield a nuanced understanding of their strengths and weaknesses in grasping geospatial concepts and their applicability in real-world urban transportation management. Results indicate that GPT-4 demonstrates superior accuracy and reliability across various GIS and transportation-specific tasks compared to Phi-3-mini, highlighting its potential as a robust tool for transportation planners. Nonetheless, Phi-3-mini exhibits competence in specific analytical scenarios, suggesting its utility in resource-constrained environments. The findings underscore the transformative potential of GenAI technologies in urban transportation planning, paving the way for more efficient, sustainable, and informed decision-making processes. Future work could explore the application of newer LLMs and the impact of Retrieval-Augmented Generation (RAG) techniques on a broader set of real-world transportation planning and operations challenges, to deepen the integration of advanced AI models in transportation management practices."}]}